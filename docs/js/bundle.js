(()=>{var __webpack_modules__={5873:(module,__unused_webpack_exports,__webpack_require__)=>{var __BRYTHON__=__BRYTHON__||{};window.brython=__BRYTHON__;try{eval("async function* f(){}")}catch(e){console.warn("Your browser is not fully supported. If you are using Microsoft Edge, please upgrade to the latest version")}(function($B){var _window;$B.isWebWorker="undefined"!=typeof WorkerGlobalScope&&"function"==typeof importScripts&&navigator instanceof WorkerNavigator,$B.isNode="undefined"!=typeof process&&"node"===process.release.name,_window=$B.isNode?{location:{href:"",origin:"",pathname:""},navigator:{userLanguage:""}}:self;var href=_window.location.href,$path;if($B.protocol=href.split(":")[0],$B.BigInt=_window.BigInt,$B.indexedDB=_window.indexedDB,void 0===$B.brython_path){var this_url;if($B.isWebWorker)this_url=_window.location.href,this_url.startsWith("blob:")&&(this_url=this_url.substr(5));else{var scripts=document.getElementsByTagName("script");this_url=scripts[scripts.length-1].src}var elts=this_url.split("/");elts.pop(),$path=$B.brython_path=elts.join("/")+"/"}else $B.brython_path.endsWith("/")||($B.brython_path+="/"),$path=$B.brython_path;var path=_window.location.origin+_window.location.pathname,path_elts=path.split("/");path_elts.pop();var $script_dir=$B.script_dir=path_elts.join("/");$B.__ARGV=[],$B.webworkers={},$B.file_cache={},$B.$py_src={},$B.path=[$path+"Lib",$path+"libs",$script_dir,$path+"Lib/site-packages"],$B.async_enabled=!1,$B.async_enabled&&($B.block={}),$B.imported={},$B.precompiled={},$B.frames_stack=[],$B.builtins=Object.create(null),$B.builtins_scope={id:"__builtins__",module:"__builtins__",binding:{}},$B.builtin_funcs={},$B.builtin_classes=[],$B.__getattr__=function(e){return this[e]},$B.__setattr__=function(e,t){if(!(["debug","stdout","stderr"].indexOf(e)>-1))throw $B.builtins.AttributeError.$factory("__BRYTHON__ object has no attribute "+e);$B[e]=t},$B.language=_window.navigator.userLanguage||_window.navigator.language,$B.locale="C",$B.PyCF_ONLY_AST=1024,$B.isWebWorker?$B.charset="utf-8":$B.charset=document.characterSet||document.inputEncoding||"utf-8",$B.max_int=Math.pow(2,53)-1,$B.min_int=-$B.max_int,$B.max_float=new Number(Number.MAX_VALUE),$B.min_float=new Number(Number.MIN_VALUE),$B.special_string_repr={8:"\\x08",9:"\\t",10:"\\n",11:"\\x0b",12:"\\x0c",13:"\\r",92:"\\\\",160:"\\xa0"},$B.$py_next_hash=Math.pow(2,53)-1,$B.$py_UUID=0,$B.lambda_magic=Math.random().toString(36).substr(2,8),$B.set_func_names=function(e,t){if(e.$infos){var r=e.$infos.__name__;e.$infos.__module__=t,e.$infos.__qualname__=r}else r=e.__name__,e.$infos={__name__:r,__module__:t,__qualname__:r};for(var n in e.__module__=t,e)"function"==typeof e[n]&&(e[n].$infos={__doc__:e[n].__doc__||"",__module__:t,__qualname__:r+"."+n,__name__:n},"classmethod"==e[n].$type&&(e[n].__class__=$B.method))};var has_storage="undefined"!=typeof Storage;if(has_storage){$B.has_local_storage=!1;try{localStorage&&($B.local_storage=localStorage,$B.has_local_storage=!0)}catch(e){}$B.has_session_storage=!1;try{sessionStorage&&($B.session_storage=sessionStorage,$B.has_session_storage=!0)}catch(e){}}else $B.has_local_storage=!1,$B.has_session_storage=!1;$B.globals=function(){return $B.frames_stack[$B.frames_stack.length-1][3]},$B.scripts={},$B.$options={},$B.builtins_repr_check=function(e,t){var r=$B.args("__repr__",1,{self:null},["self"],t,{},null,null).self,n=$B.builtins;if(!n.isinstance(r,e))throw n.TypeError.$factory(`descriptor '__repr__' requires a '${e.$infos.__name__}' object but received a '${$B.class_name(r)}'`)},$B.update_VFS=function(e){$B.VFS=$B.VFS||{};var t=e.$timestamp;for(var r in void 0!==t&&delete e.$timestamp,e)$B.VFS.hasOwnProperty(r)&&console.warn("Virtual File System: duplicate entry "+r),$B.VFS[r]=e[r],$B.VFS[r].timestamp=t},$B.add_files=function(e){for(var t in $B.files=$B.files||{},e)$B.files[t]=e[t]},$B.has_file=function(e){return $B.files&&$B.files.hasOwnProperty(e)},$B.python_to_js=function(e,t){$B.parse_options(),$B.meta_path=$B.$meta_path.slice(),$B.use_VFS||$B.meta_path.shift(),void 0===t&&(t="__main__");var r=__BRYTHON__.py2js(e,t,t).to_js();return"(function() {\n var $locals_"+t+" = {}\n"+r+"\n}())"},window.pyexec=code=>{$B.parse_options();const $locals_script={json:JSON.stringify},root=$B.py2js(code,"script","script"),js=root.to_js();$B.set_import_paths(),$B.debug>1&&console.log(js),eval(js)},_window.py=function(e){var t=$B.py2js(e[0],"script","script").to_js();$B.set_import_paths(),new Function("$locals_script",t)({})}})(__BRYTHON__),__BRYTHON__.implementation=[3,10,4,"final",0],__BRYTHON__.__MAGIC__="3.10.4",__BRYTHON__.version_info=[3,10,0,"final",0],__BRYTHON__.compiled_date="2021-12-31 10:38:32.934588",__BRYTHON__.timestamp=1640943512934,__BRYTHON__.builtin_module_names=["_aio","_ajax","_ast","_base64","_binascii","_io_classes","_json","_jsre","_locale","_multiprocessing","_posixsubprocess","_profile","_sre_utils","_string","_strptime","_svg","_webcomponent","_webworker","_zlib_utils","array","bry_re","builtins","dis","encoding_cp932","hashlib","html_parser","long_int","marshal","math","modulefinder","posix","python_re","random","unicodedata"],function(e){function t(e){if(1==e.length)return e.charCodeAt(0);var t=65536;return(t+=(1023&e.charCodeAt(0))<<10)+(1023&e.charCodeAt(1))}function r(e){return e[e.length-1]}var n=["**","//",">>","<<"],o={"}":"{","]":"[",")":"("};function i(e,t,r,n,o){var i={type:e,string:t,start:r,end:n,line:o};return i[0]=e,i[1]=t,i[2]=r.slice(0,2),i[3]=n,i[4]=o,i}function a(e,t){var r=e.substr(t).search(/[\r\n]/);return-1==r?e.substr(t):e.substr(t,r)}function s(e,t,r,n,o,a){for(var s,l=t,_=[];;){if(t>=e.length||(s="\r\n".indexOf(e[t]))>-1){if(_.push(i("COMMENT",e.substring(l-1,t),[r,l-n],[r,t-n+1],a)),void 0!==s){var c=1;"\r"==e[t]&&"\n"==e[t+1]?c++:void 0===e[t]&&(c=0),_.push(i(o,e.substr(t,c),[r,t-n+1],[r,t-n+c+1],a)),void 0===e[t]&&_.push(i("NEWLINE","\n",[r,t-n+1],[r,t-n+2],"")),t+=c}return{t:_,pos:t}}t++}}e.tokenizer=function*(l){var _,c,u,f,p,d,h,m,g,$,v,b,y,x=e.unicode_tables,w=/^(r|u|R|U|f|F|fr|Fr|fR|FR|rf|rF|Rf|RF)$/,B=/^(b|B|br|Br|bR|BR|rb|rB|Rb|RB)$/,k="line_start",C=0,S=!1,E=[],N=[],j=0,T=1;for(yield i("ENCODING","utf-8",[0,0],[0,0],"");C<l.length;)switch(_=l[C],(c=l.charCodeAt(C))>=55296&&c<=56319&&(c=t(l.substr(C,2)),_=l.substr(C,2),C++),C++,k){case"line_start":if(y=a(l,C-1),T=C,j++,u=/^\f?(\r\n|\r|\n)/.exec(l.substr(C-1))){yield i("NL",u[0],[j,0],[j,u[0].length],y),C+=u[0].length-1;continue}if("#"==_){for(var O of(A=s(l,C,j,T,"NL",y)).t)yield O;C=A.pos,k="line_start";continue}if(b=0," "==_?b=1:"\t"==_&&(b=8),b){for(;C<l.length;){if(" "==l[C])b++;else{if("\t"!=l[C])break;b+=8}C++}if(C==l.length){j--;break}if("#"==l[C]){var A=s(l,C+1,j,T,"NL",y);for(var O of A.t)yield O;C=A.pos;continue}if(u=/^\f?(\r\n|\r|\n)/.exec(l.substr(C))){yield i("NL","",[j,C-T+1],[j,C-T+1+u[0].length],y),C+=u[0].length;continue}if(0==E.length||b>r(E))E.push(b),yield i("INDENT","",[j,0],[j,b],y);else if(b<r(E)){var I=E.indexOf(b);if(-1==I){var M=Error("unindent does not match any outer indentation level");throw M.type="IndentationError",M.line_num=j,M}for(var L=E.length-1;L>I;L--)E.pop(),yield i("DEDENT","",[j,b],[j,b],y)}k=null}else{for(;E.length>0;)E.pop(),yield i("DEDENT","",[j,b],[j,b],y);k=null,C--}break;case null:switch(_){case'"':case"'":f=_,d=[j,C-T,T],(p=l[C]==_&&l[C+1]==_)&&(C+=2),S=!1,k="STRING",h="",m="";break;case"#":var F=N.length>0?"NL":"NEWLINE";for(var O of(A=s(l,C,j,T,F,y)).t)yield O;C=A.pos,0==N.length?k="line_start":(k=null,j++,T=C+1,y=a(l,C));break;case"0":k="NUMBER",$=_,v="",l[C]&&"xbo".indexOf(l[C].toLowerCase())>-1&&($+=l[C],v=l[C].toLowerCase(),C++);break;case".":if(l[C]&&x.Nd[t(l[C])])k="NUMBER",v="",$=_;else{for(var P=_;l[C]==_;)C++,P+=_;for(var D=C-T-P.length+1;P.length>=3;)yield i("OP","...",[j,D],[j,D+3],y),P=P.substr(3);for(L=0;L<P.length;L++)yield i("OP",".",[j,D],[j,D+1],y),D++}break;case"\\":(u=/^\f?(\r\n|\r|\n)/.exec(l.substr(C)))?(j++,T=(C+=u[0].length)+1,y=a(l,C)):yield i("ERRORTOKEN",_,[j,C-T],[j,C-T+1],y);break;case"\n":case"\r":F=N.length>0?"NL":"NEWLINE",u=/^\f?(\r\n|\r|\n)/.exec(l.substr(C-1)),yield i(F,u[0],[j,C-T],[j,C-T+u[0].length],y),C+=u[0].length-1,"NEWLINE"==F?k="line_start":(j++,T=C+1,y=a(l,C));break;default:x.XID_Start[t(_)]?(k="NAME",g=_):x.Nd[t(_)]?(k="NUMBER",v="",$=_):".,:;+-*/%~^|&=<>[](){}@".indexOf(_)>-1?(P=_,n.indexOf(_+l[C])>-1&&(P=_+l[C],C++),("="==l[C]&&(2==P.length||"+-*/%~^|&=<>@".indexOf(P)>-1)||"-"==_&&">"==l[C]||":"==_&&"="==l[C])&&(P+=l[C],C++),"[({".indexOf(_)>-1?N.push(_):"])}".indexOf(_)>-1&&(N&&r(N)==o[_]?N.pop():N.push(_)),yield i("OP",P,[j,C-T-P.length+1],[j,C-T+1],y)):"!"==_&&"="==l[C]?(yield i("OP","!=",[j,C-T],[j,C-T+2],y),C++):" "==_||"\t"==_||(yield i("ERRORTOKEN",_,[j,C-T],[j,C-T+1],y))}break;case"NAME":x.XID_Continue[t(_)]?g+=_:'"'!=_&&"'"!=_||!w.exec(g)&&!B.exec(g)?(yield i("NAME",g,[j,C-T-g.length],[j,C-T],y),k=null,C--):(k="STRING",f=_,p=l[C]==f&&l[C+1]==f,m=g,S=!1,d=[j,C-T-g.length,T],p&&(C+=2),h="");break;case"STRING":switch(_){case f:if(S)h+=_;else{var R=y;if(j>d[0]&&(R=l.substring(d[2]-1,C+2)),p)_+l.substr(C,2)==f.repeat(3)?(W=m+f.repeat(3)+h+f.repeat(3),triple_quote_line=y,yield i("STRING",W,d,[j,C-T+3],R),C+=2,k=null):h+=_;else{var W=m+f+h+f;yield i("STRING",W,d,[j,C-T+1],R),k=null}}S=!1;break;case"\r":case"\n":if(!S&&!p){var z=d[1]+T-1;for(C=z;" "==l[C-1];)C--;for(;C<z;)console.log("yield ERRORTOKEN, escaped",S),yield i("ERRORTOKEN"," ",[j,C-T+1],[j,C-T+2],y),C++;C++,yield i("ERRORTOKEN",f,[j,C-T],[j,C-T+1],y),k=null,C++;break}h+=_,j++,T=C+1,"\r"==_&&"\n"==l[C]&&(h+=l[C],T++,C++),y=a(l,C),S=!1;break;case"\\":h+=_,S=!S;break;default:S=!1,h+=_}break;case"NUMBER":if(""==v&&x.Nd[t(_)])$+=_;else if("b"==v&&"01".indexOf(_)>-1)$+=_;else if("o"==v&&"01234567".indexOf(_)>-1)$+=_;else if("x"==v&&"0123456789abcdef".indexOf(_.toLowerCase())>-1)$+=_;else if("_"!=_||$.endsWith("."))"."==_&&-1==$.indexOf(_)||"e"==_.toLowerCase()&&-1==$.toLowerCase().indexOf("e")?$+=_:"+"!=_&&"-"!=_||!$.toLowerCase().endsWith("e")?"j"==_.toLowerCase()?($+=_,yield i("NUMBER",$,[j,C-T-$.length+1],[j,C-T+1],y),k=null):(yield i("NUMBER",$,[j,C-T-$.length],[j,C-T],y),k=null,C--):$+=_;else{if($.endsWith("_"))throw SyntaxError("consecutive _ in number");$+=_}}if(N.length>0)throw SyntaxError("EOF in multi-line statement");switch(k){case"line_start":j++;break;case"NAME":yield i("NAME",g,[j,C-T-g.length+1],[j,C-T+1],y);break;case"NUMBER":yield i("NUMBER",$,[j,C-T-$.length+1],[j,C-T+1],y);break;case"STRING":throw SyntaxError(`unterminated string literal (detected at line ${j})`)}for(l.endsWith("\n")||" "==_||k==T||(yield i("NEWLINE","",[j,C-T+1],[j,C-T+2],""),j++);E.length>0;)E.pop(),yield i("DEDENT","",[j,0],[j,0],"");yield i("ENDMARKER","",[j,0],[j,0],"")}}(__BRYTHON__),function($B){$B.ast_classes={Add:"",And:"",AnnAssign:"target,annotation,value,simple",Assert:"test,msg",Assign:"targets,value,type_comment",AsyncFor:"target,iter,body,orelse,type_comment",AsyncFunctionDef:"name,args,body,decorator_list,returns,type_comment",AsyncWith:"items,body,type_comment",Attribute:"value,attr,ctx",AugAssign:"target,op,value",Await:"value",BinOp:"left,op,right",BitAnd:"",BitOr:"",BitXor:"",BoolOp:"op,values",Break:"",Call:"func,args,keywords",ClassDef:"name,bases,keywords,body,decorator_list",Compare:"left,ops,comparators",Constant:"value,kind",Continue:"",Del:"",Delete:"targets",Dict:"keys,values",DictComp:"key,value,generators",Div:"",Eq:"",ExceptHandler:"type,name,body",Expr:"value",Expression:"body",FloorDiv:"",For:"target,iter,body,orelse,type_comment",FormattedValue:"value,conversion,format_spec",FunctionDef:"name,args,body,decorator_list,returns,type_comment",FunctionType:"argtypes,returns",GeneratorExp:"elt,generators",Global:"names",Gt:"",GtE:"",If:"test,body,orelse",IfExp:"test,body,orelse",Import:"names",ImportFrom:"module,names,level",In:"",Interactive:"body",Invert:"",Is:"",IsNot:"",JoinedStr:"values",LShift:"",Lambda:"args,body",List:"elts,ctx",ListComp:"elt,generators",Load:"",Lt:"",LtE:"",MatMult:"",Match:"subject,cases",MatchAs:"pattern,name",MatchClass:"cls,patterns,kwd_attrs,kwd_patterns",MatchMapping:"keys,patterns,rest",MatchOr:"patterns",MatchSequence:"patterns",MatchSingleton:"value",MatchStar:"name",MatchValue:"value",Mod:"",Module:"body,type_ignores",Mult:"",Name:"id,ctx",NamedExpr:"target,value",Nonlocal:"names",Not:"",NotEq:"",NotIn:"",Or:"",Pass:"",Pow:"",RShift:"",Raise:"exc,cause",Return:"value",Set:"elts",SetComp:"elt,generators",Slice:"lower,upper,step",Starred:"value,ctx",Store:"",Sub:"",Subscript:"value,slice,ctx",Try:"body,handlers,orelse,finalbody",Tuple:"elts,ctx",TypeIgnore:"lineno,tag",UAdd:"",USub:"",UnaryOp:"op,operand",While:"test,body,orelse",With:"items,body,type_comment",Yield:"value",YieldFrom:"value",alias:"name,asname",arg:"arg,annotation,type_comment",arguments:"posonlyargs,args,vararg,kwonlyargs,kw_defaults,kwarg,defaults",boolop:["And","Or"],cmpop:["Eq","NotEq","Lt","LtE","Gt","GtE","Is","IsNot","In","NotIn"],comprehension:"target,iter,ifs,is_async",excepthandler:["ExceptHandler"],expr:["BoolOp","NamedExpr","BinOp","UnaryOp","Lambda","IfExp","Dict","Set","ListComp","SetComp","DictComp","GeneratorExp","Await","Yield","YieldFrom","Compare","Call","FormattedValue","JoinedStr","Constant","Attribute","Subscript","Starred","Name","List","Tuple","Slice"],expr_context:["Load","Store","Del"],keyword:"arg,value",match_case:"pattern,guard,body",mod:["Module","Interactive","Expression","FunctionType"],operator:["Add","Sub","Mult","MatMult","Div","Mod","Pow","LShift","RShift","BitOr","BitXor","BitAnd","FloorDiv"],pattern:["MatchValue","MatchSingleton","MatchSequence","MatchMapping","MatchClass","MatchStar","MatchAs","MatchOr"],stmt:["FunctionDef","AsyncFunctionDef","ClassDef","Return","Delete","Assign","AugAssign","AnnAssign","For","AsyncFor","While","If","With","AsyncWith","Match","Raise","Try","Assert","Import","ImportFrom","Global","Nonlocal","Expr","Pass","Break","Continue"],type_ignore:["TypeIgnore"],unaryop:["Invert","Not","UAdd","USub"],withitem:"context_expr,optional_vars"};var binary_ops={"+":"Add","-":"Sub","*":"Mult","/":"Div","//":"FloorDiv","%":"Mod","**":"Pow","<<":"LShift",">>":"RShift","|":"BitOr","^":"BitXor","&":"BitAnd","@":"MatMult"},boolean_ops={and:"And",or:"Or"},comparison_ops={"==":"Eq","!=":"NotEq","<":"Lt","<=":"LtE",">":"Gt",">=":"GtE",is:"Is",is_not:"IsNot",in:"In",not_in:"NotIn"},unary_ops={unary_inv:"Invert",unary_pos:"UAdd",unary_neg:"USub"},op_types=[binary_ops,boolean_ops,comparison_ops,unary_ops],_b_=$B.builtins,ast=$B.ast={};for(var kl in $B.ast_classes){var args=$B.ast_classes[kl],js="";if("string"==typeof args){if(js=`ast.${kl} = function(${args}){\n`,args.length>0)for(var arg of args.split(","))js+=` this.${arg} = ${arg}\n`;js+="}"}else js=`ast.${kl} = [${args.map((e=>"ast."+e)).join(",")}]\n`;eval(js),ast[kl].$name=kl,"string"==typeof args&&(ast[kl]._fields=args.split(","))}$B.create_python_ast_classes=function(){if(!$B.python_ast_classes)for(var e in $B.python_ast_classes={},$B.ast_classes)$B.python_ast_classes[e]=function(e){var t=$B.make_class(e,(function(t){return{__class__:$B.python_ast_classes[e],js_node:t}}));return"string"==typeof $B.ast_classes[e]&&(t._fields=$B.ast_classes[e].split(",")),t.__mro__=[$B.AST,_b_.object],t}(e)};for(var op2ast_class=$B.op2ast_class={},ast_types=[ast.BinOp,ast.BoolOp,ast.Compare,ast.UnaryOp],i=0;i<4;i++)for(var op in op_types[i])op2ast_class[op]=[ast_types[i],ast[op_types[i][op]]]}(__BRYTHON__),function($B){var js,$pos,res,$op;$B.produce_ast=!1,Number.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},Number.isSafeInteger=Number.isSafeInteger||function(e){return Number.isInteger(e)&&Math.abs(e)<=Number.MAX_SAFE_INTEGER};var _b_=$B.builtins,_window;_window=$B.isNode?{location:{href:"",origin:"",pathname:""}}:self,$B.parser={};var clone=$B.clone=function(e){var t={};for(var r in e)t[r]=e[r];return t};$B.last=function(e){return void 0===e&&console.log($B.frames_stack.slice()),e[e.length-1]},$B.list2obj=function(e,t){var r={},n=e.length;for(void 0===t&&(t=!0);n-- >0;)r[e[n]]=t;return r},$B.op2method={operations:{"**":"pow","//":"floordiv","<<":"lshift",">>":"rshift","+":"add","-":"sub","*":"mul","/":"truediv","%":"mod","@":"matmul"},augmented_assigns:{"//=":"ifloordiv",">>=":"irshift","<<=":"ilshift","**=":"ipow","+=":"iadd","-=":"isub","*=":"imul","/=":"itruediv","%=":"imod","&=":"iand","|=":"ior","^=":"ixor","@=":"imatmul"},binary:{"&":"and","|":"or","~":"invert","^":"xor"},comparisons:{"<":"lt",">":"gt","<=":"le",">=":"ge","==":"eq","!=":"ne"},boolean:{or:"or",and:"and",in:"in",not:"not",is:"is"},subset:function(){var e={},t=[];if("all"==arguments[0])(t=Object.keys($B.op2method)).splice(t.indexOf("subset"),1);else for(var r of arguments)t.push(r);for(var n of t){var o=$B.op2method[n];if(void 0===o)throw Error(n);for(var i in o)e[i]=o[i]}return e}};var $operators=$B.op2method.subset("all"),$augmented_assigns=$B.augmented_assigns=$B.op2method.augmented_assigns,noassign=$B.list2obj(["True","False","None","__debug__"]),$op_order=[["or"],["and"],["not"],["in","not_in"],["<","<=",">",">=","!=","==","is","is_not"],["|"],["^"],["&"],[">>","<<"],["+","-"],["*","@","/","//","%"],["unary_neg","unary_inv","unary_pos"],["**"]],$op_weight={},$weight=1;for(var _tmp of $op_order){for(var item of _tmp)$op_weight[item]=$weight;$weight++}var $loop_num=0;if($B.ast_classes){var ast=$B.ast,op2ast_class=$B.op2ast_class;function ast_body(e){var t=[];for(var r of e.node.children){var n=r.C.tree[0];if(!(["single_kw","except","decorator"].indexOf(n.type)>-1||"condition"==n.type&&"elif"==n.token)){var o=ast_or_obj(n);ast.expr.indexOf(o.constructor)>-1&&(o=new ast.Expr(o)),t.push(o)}}return t}function ast_dump(e,t){if(t=t||0,e===_b_.None)return"None";if("string"==typeof e)return`'${e}'`;if("number"==typeof e)return e+"";if(e.imaginary)return e.value+"j";if(Array.isArray(e)){if(0==e.length)return"[]";i="[\n";var r=[];for(var n of e)try{r.push(ast_dump(n,t+1))}catch(t){throw console.log("error",e),console.log("for item",n),t}return(i+=r.join(",\n"))+"]"}if(e.$name)return e.$name+"()";if(e instanceof ast.MatchSingleton)return`MatchSingleton(value=${e.value})`;if(e instanceof ast.Constant)return void 0===(_=e.value)&&console.log("bizarre",e),_.imaginary?`Constant(value=${_b_.repr(_.value)}j)`:`Constant(value=${_b_.repr(e.value)})`;var o=Object.getPrototypeOf(e).constructor,i="  ".repeat(t)+o.$name+"(";void 0===$B.ast_classes[o.$name]&&console.log("pas dans ast_classes",e,o,o.$name);var a=$B.ast_classes[o.$name].split(","),s=[];if([ast.Name].indexOf(o)>-1){for(var l of a)void 0!==e[l]&&s.push(`${l}=${ast_dump(e[l])}`);return i+s.join(", ")+")"}for(var l of a)if(void 0!==e[l]){var _=e[l];s.push(l+"="+ast_dump(e[l],t+1).trimStart())}return s.length>0&&(i+="\n",i+=s.map((e=>"  ".repeat(t+1)+e)).join(",\n")),i+")"}}function ast_or_obj(e){return e.ast?e.ast():(console.log("no ast",e.type||typeof e,e),show_line(e),e)}var create_temp_name=$B.parser.create_temp_name=function(e){return(e||"$temp")+$loop_num++},replace_node=$B.parser.replace_node=function(e,t){var r=e.parent,n=e.parent.children.indexOf(e);r.children[n]=t,t.parent=r,t.bindings=e.bindings},chained_comp_num=0,$_SyntaxError=$B.parser.$_SyntaxError=function(e,t,r){for(var n=e;"node"!==n.type;)n=n.parent;for(var o=n.node,i=o;void 0!==i.parent;)i=i.parent;var a=o.module||$get_module(e).module,s=i.src,l=o.line_num;if(void 0!==e.$pos&&($pos=e.$pos),s&&(l=s.substr(0,$pos).split("\n").length),i.line_info&&(l=i.line_info),void 0!==r)throw"number"==typeof r?$B.$IndentationError(a,t,s,$pos,l,i):$B.$IndentationError(a,t,s,$pos,l,i,r);t&&Array.isArray(t)&&$B.$SyntaxError(a,t[0],s,$pos,l,i),"Triple string end not found"===t&&$B.$SyntaxError(a,"invalid syntax : triple string end not found",s,$pos,l,i);var _="invalid syntax";t&&!t.startsWith("token ")&&(_+=" ("+t+")"),$B.$SyntaxError(a,_,s,$pos,l,i)};function check_assignment(e,t){var r,n="assign to",o=!1;t&&(r=t.once,n=t.action||n,o=void 0!==t.augmented&&t.augmented);var i=e,a=["assert","import","raise","return","decorator","comprehension","await"];function s(t){$_SyntaxError(e,o?[`'${t}' is an illegal expression for augmented assignment`]:[`cannot ${n} ${t}`])}for("delete"!=n&&a.push("del");i;){if(a.indexOf(i.type)>-1)$_SyntaxError(e,"assign to "+i.type);else if("expr"==i.type){var l=i.tree[0];if("op"==l.type)void 0!==$B.op2method.comparisons[i.tree[0].op]?s("comparison"):s("operator");else if("call"==l.type)s("function call");else if("id"==l.type){var _=l.value;["None","True","False","__debug__"].indexOf(_)>-1&&s(_),!0===noassign[_]&&s(keyword)}else["str","int","float","complex"].indexOf(l.type)>-1?s("literal"):"ellipsis"==l.type?s("Ellipsis"):"genexpr"==l.type?s("generator expression"):"packed"==l.type?check_assignment(l.tree[0],{action:n,once:!0}):"named_expr"==l.type&&s("named expression")}else if("list_or_tuple"==i.type)for(var c of i.tree)check_assignment(c,{action:n,once:!0});else if("ternary"==i.type)s("conditional expression");else if("op"==i.type)s("operator");else if("yield"==i.type)s("yield expression");else if(i.comprehension)break;if(r)break;i=i.parent}}function remove_abstract_expr(e){e.length>0&&"abstract_expr"==$B.last(e).type&&e.pop()}function show_line(e){var t=$get_node(e).line_num,r=$get_module(e).src;console.log("this",e,"\nline",t,r.split("\n")[t-1])}$B.format_indent=function(e,t){for(var r=e.split("\n"),n=t,o="",i=!1,a=!1,s=!1,l=0,_=r.length;l<_;l++){var c=r[l],u=!1,f=!0;a?f=!1:c=s?"    "+c.trim():c.trim(),f&&i&&(c.startsWith("else")||c.startsWith("catch")||c.startsWith("finally"))&&(o=o.substr(0,o.length-1),f=!1),i=c.endsWith("}"),c.startsWith("}")?n--:c.endsWith("}")&&(c=c.substr(0,c.length-1),u=!0),n<0&&($B.debug>2&&(console.log("wrong js indent"),console.log(o)),n=0);try{o+=(f?"  ".repeat(n):"")+c+"\n"}catch(e){throw console.log(o),e}if(c.endsWith("{"))n++;else if(u){n--;try{o+="  ".repeat(n)+"}\n"}catch(e){throw console.log(o),e}}a=c.endsWith("\\"),s=c.endsWith(",")&&(c.startsWith("var ")||s)}return o};var $Node=$B.parser.$Node=function(e){this.type=e,this.children=[]};$Node.prototype.add=function(e){this.children[this.children.length]=e,e.parent=this,e.module=this.module},$Node.prototype.ast=function(){var e=new ast.Module([],[]);for(var t of this.children){var r=t.C.tree[0];if(!(["single_kw","except","decorator"].indexOf(r.type)>-1||"condition"==r.type&&"elif"==r.token)){var n=ast_or_obj(t.C.tree[0]);ast.expr.indexOf(n.constructor)>-1&&(n=new ast.Expr(n)),e.body.push(n)}}return e},$Node.prototype.get_indent=function(){for(var e=0,t=this;t.parent;)e++,t=t.parent;return e},$Node.prototype.insert=function(e,t){this.children.splice(e,0,t),t.parent=this,t.module=this.module},$Node.prototype.toString=function(){return"<object 'Node'>"},$Node.prototype.show=function(e){var t="";if("module"===this.type){for(var r of this.children)t+=r.show(e);return t}for(var r of(t+=" ".repeat(e=e||0),t+=this.C,this.children.length>0&&(t+="{"),t+="\n",this.children))t+=r.show(e+4);return this.children.length>0&&(t+=" ".repeat(e),t+="}\n"),t},$Node.prototype.to_js=function(e){if(void 0!==this.js)return this.js;if(this.res=[],this.unbound=[],"module"===this.type){for(var t of this.children)this.res.push(t.to_js());return this.js=this.res.join(""),this.js}e=e||0;var r=this.C.to_js();if(r){for(var t of(this.res.push(" ".repeat(e)),this.res.push(r),this.children.length>0&&this.res.push("{"),this.res.push("\n"),this.children))this.res.push(t.to_js(e+4));this.children.length>0&&(this.res.push(" ".repeat(e)),this.res.push("}\n"))}return this.js=this.res.join(""),this.js},$Node.prototype.transform=function(e){if(this.awaits&&this.awaits.length>0)return this.parent.insert(e,$NodeJS("var save_stack = $B.save_stack()")),this.C&&this.C.tree.length>0&&"return"==this.C.tree[0].type||this.parent.insert(e+2,$NodeJS("$B.restore_stack(save_stack, $locals)")),delete this.awaits,1;if(this.has_yield&&!this.has_yield.transformed){var t=this.parent;if(this.has_yield.from){var r=new $Node,n=new $NodeCtx(r),o=new $ExprCtx(n,"js",!1),i=new $RawJSCtx(o,`$locals.$expr${this.has_yield.from_num}`),a=new $AssignCtx(o);new $ExprCtx(a).tree=this.has_yield.tree,t.insert(e,r),$get_node(this.has_yield);var s=this.has_yield.from_num,l=`$B.$import("sys", [], {})\n            var _i${s} = _b_.iter($locals.$expr${s}),\n                _r${s}\n            var $failed${s} = false\n            try{\n                var _y${s} = _b_.next(_i${s})\n            }catch(_e){\n                $B.set_exc(_e)\n                $failed${s} = true\n                $B.pmframe = $B.last($B.frames_stack)\n                _e = $B.exception(_e)\n                if(_e.__class__ === _b_.StopIteration){\n                    var _r${s} = $B.$getattr(_e, "value")\n                }else{\n                    throw _e\n                }\n            }\n            if(! $failed${s}){\n                while(true){\n                    var $failed1${s} = false\n                    try{\n                        $B.leave_frame({$locals})\n                        var _s${s} = yield _y${s}\n                        $B.frames_stack.push($top_frame)\n                    }catch(_e){\n                        if(_e.__class__ === _b_.GeneratorExit){\n                            var $failed2${s} = false\n                            try{\n                                var _m${s} = $B.$getattr(_i${s}, "close")\n                            }catch(_e1){\n                                $failed2${s} = true\n                                if(_e1.__class__ !== _b_.AttributeError){\n                                    throw _e1\n                                }\n                            }\n                            if(! $failed2${s}){\n                                $B.$call(_m${s})()\n                            }\n                            throw _e\n                        }else if($B.is_exc(_e, [_b_.BaseException])){\n                            var _x = $B.$call($B.$getattr($locals.sys, "exc_info"))()\n                            var $failed3${s} = false\n                            try{\n                                var _m${s} = $B.$getattr(_i${s}, "throw")\n                            }catch(err){\n                                $failed3${s} = true\n                                if($B.is_exc(err, [_b_.AttributeError])){\n                                    throw err\n                                }\n                            }\n                            if(! $failed3${s}){\n                                try{\n                                    _y${s} = $B.$call(_m${s}).apply(null,\n                                        _b_.list.$factory(_x${s}))\n                                }catch(err){\n                                    if($B.$is_exc(err, [_b_.StopIteration])){\n                                        _r${s} = $B.$getattr(err, "value")\n                                        break\n                                    }\n                                    throw err\n                                }\n                            }\n                        }\n                    }\n                    if(! $failed1${s}){\n                        try{\n                            if(_s${s} === _b_.None){\n                                _y${s} = _b_.next(_i${s})\n                            }else{\n                                _y${s} = $B.$call($B.$getattr(_i${s}, "send"))(_s${s})\n                            }\n                        }catch(err){\n                            if($B.is_exc(err, [_b_.StopIteration])){\n                                _r${s} = $B.$getattr(err, "value")\n                                break\n                            }\n                            throw err\n                        }\n                    }\n                }\n            }`;return t.insert(e+1,$NodeJS(l)),3}t.children.splice(e,1),0===this.has_yield.tree.length?r=$NodeJS("var result = _b_.None"):(r=new $Node,n=new $NodeCtx(r),o=new $ExprCtx(n,"js",!1),i=new $RawJSCtx(o,"var result"),(a=new $AssignCtx(o)).tree[1]=this.has_yield.tree[0],i.parent=a),r.line_num=this.line_num,t.insert(e,r);var _=new $NodeJS("try");_.add($NodeJS("$B.leave_frame({$locals})")),_.add(this),t.insert(e+1,_),this.has_yield.to_js=function(){return"yield result"},this.has_yield.transformed=!0;for(var c=0;c<_.children.length;)void 0===(d=_.children[c].transform(c))&&(d=1),c+=d;var u=$NodeJS(`catch(err${this.line_num})`);return u.add($NodeJS("$B.frames_stack.push($top_frame)")),u.add($NodeJS(`throw err${this.line_num}`)),t.insert(e+2,u),t.insert(e+3,$NodeJS("$B.frames_stack.push($top_frame)")),2}if("module"!==this.type){var f,p=this.C.tree[0];for(void 0===p&&console.log(this),void 0!==p.transform&&(f=p.transform(this,e)),c=0;c<this.children.length;)void 0===(d=this.children[c].transform(c))&&(d=1),c+=d;return void 0===f&&(f=1),f}this.__doc__=$get_docstring(this);for(c=0;c<this.children.length;){var d;void 0===(d=this.children[c].transform(c))&&(d=1),c+=d}},$Node.prototype.clone=function(){var e=new $Node(this.type);for(var t in this)e[t]=this[t];return e},$Node.prototype.clone_tree=function(){var e=new $Node(this.type);for(var t in this)e[t]=this[t];for(var r of(e.children=[],this.children))e.add(r.clone_tree());return e};var $AbstractExprCtx=$B.parser.$AbstractExprCtx=function(e,t){this.type="abstract_expr",this.with_commas=t,this.parent=e,this.tree=[],e.tree.push(this)};$AbstractExprCtx.prototype.toString=function(){return"(abstract_expr "+this.with_commas+") "+this.tree},$AbstractExprCtx.prototype.transition=function(e,t){var r=this,n=r.packed,o=r.is_await;switch(e){case"await":case"id":case"imaginary":case"int":case"float":case"str":case"JoinedStr":case"bytes":case"ellipsis":case"[":case"(":case"{":case".":case"not":case"lambda":case"yield":r.parent.tree.pop();var i=r.with_commas;(r=r.parent).packed=n,r.is_await=o}switch(e){case"await":return new $AbstractExprCtx(new $AwaitCtx(new $ExprCtx(r,"await",!1)),!0);case"id":return new $IdCtx(new $ExprCtx(r,"id",i),t);case"str":return new $StringCtx(new $ExprCtx(r,"str",i),t);case"JoinedStr":return new JoinedStrCtx(new $ExprCtx(r,"str",i),t);case"bytes":return new $StringCtx(new $ExprCtx(r,"bytes",i),t);case"int":return new $NumberCtx("int",new $ExprCtx(r,"int",i),t);case"float":return new $NumberCtx("float",new $ExprCtx(r,"float",i),t);case"imaginary":return new $NumberCtx("imaginary",new $ExprCtx(r,"imaginary",i),t);case"(":return new $ListOrTupleCtx(new $ExprCtx(r,"tuple",i),"tuple");case"[":return new $ListOrTupleCtx(new $ExprCtx(r,"list",i),"list");case"{":return new $DictOrSetCtx(new $ExprCtx(r,"dict_or_set",i));case"ellipsis":return new $EllipsisCtx(new $ExprCtx(r,"ellipsis",i));case"not":return"op"==r.type&&"is"==r.op?(r.op="is_not",r):new $NotCtx(new $ExprCtx(r,"not",i));case"lambda":return new $LambdaCtx(new $ExprCtx(r,"lambda",i));case"op":var a=t;switch(a){case"*":return r.parent.tree.pop(),i=r.with_commas,r=r.parent,new $PackedCtx(new $ExprCtx(r,"expr",i));case"-":case"~":case"+":return r.parent.tree.pop(),new $AbstractExprCtx(new $UnaryCtx(new $ExprCtx(r.parent,"unary",!1),a),!1);case"not":return r.parent.tree.pop(),i=r.with_commas,r=r.parent,new $NotCtx(new $ExprCtx(r,"not",i));case"...":return new $EllipsisCtx(new $ExprCtx(r,"ellipsis",i))}$_SyntaxError(r,"token "+e+" after "+r);case"in":if("op"==r.parent.type&&"not"==r.parent.op)return r.parent.op="not_in",r;$_SyntaxError(r,"token "+e+" after "+r);case"=":"yield"==r.parent.type&&$_SyntaxError(r,["assignment to yield expression not possible"]),$_SyntaxError(r,"token "+e+" after "+r);case"yield":return new $AbstractExprCtx(new $YieldCtx(r),!0);case":":return"sub"==r.parent.type||"list_or_tuple"==r.parent.type&&"sub"==r.parent.parent.type?new $AbstractExprCtx(new $SliceCtx(r.parent),!1):$transition(r.parent,e,t);case")":case",":switch(r.parent.type){case"list_or_tuple":case"slice":case"call_arg":case"op":case"yield":break;case"match":if(","==e){r.parent.tree.pop();var s=new $ListOrTupleCtx(r.parent,"tuple");return s.implicit=!0,s.has_comma=!0,s.tree=[r],r.parent=s,s}break;case"annotation":$_SyntaxError(r,"empty annotation");default:$_SyntaxError(r,e)}break;case".":$_SyntaxError(r,"token "+e)}return $transition(r.parent,e,t)},$AbstractExprCtx.prototype.to_js=function(){return this.js_processed=!0,"list"===this.type?"["+$to_js(this.tree)+"]":$to_js(this.tree)};var $AliasCtx=$B.parser.$AliasCtx=function(e){this.type="ctx_manager_alias",this.parent=e,this.tree=[],e.tree[e.tree.length-1].alias=this};$AliasCtx.prototype.transition=function(e,t){var r=this;switch(e){case",":case":":return r.parent.set_alias(r.tree[0].tree[0]),$transition(r.parent,e,t)}$_SyntaxError(r,"token "+e+" after "+r)};var $AnnotationCtx=$B.parser.$AnnotationCtx=function(e){this.type="annotation",this.parent=e,this.tree=[],e.annotation=this;var t=$get_scope(e);if(void 0===t.binding.__annotations__&&(t.binding.__annotations__=!0,e.create_annotations=!0),"def"==t.ntype&&e.tree&&e.tree.length>0&&"id"==e.tree[0].type){var r=e.tree[0].value;t.globals&&t.globals.has(r)>-1&&$_SyntaxError(e,["annotated name '"+r+"' can't be global"]),t.annotations=t.annotations||new Set,t.annotations.add(r),e.$in_parens||(t.binding=t.binding||{},t.binding[r]=!0)}};$AnnotationCtx.prototype.toString=function(){return"(annotation) "+this.tree},$AnnotationCtx.prototype.transition=function(e,t){var r=this;return"eol"==e&&1==r.tree.length&&0==r.tree[0].tree.length?$_SyntaxError(r,"empty annotation"):":"==e&&"def"!=r.parent.type?$_SyntaxError(r,"more than one annotation"):"augm_assign"==e?$_SyntaxError(r,"augmented assign as annotation"):"op"==e&&$_SyntaxError(r,"operator as annotation"),$transition(r.parent,e)},$AnnotationCtx.prototype.to_js=function(){return"expr"==this.tree[0].type&&"id"==this.tree[0].tree[0].type?`"${this.tree[0].tree[0].value}"`:$to_js(this.tree)};var $AssertCtx=$B.parser.$AssertCtx=function(e){this.type="assert",this.parent=e,this.tree=[],e.tree[e.tree.length]=this};function make_assign(e,t,r){var n=new $Node;n.id=r;var o=new $NodeCtx(n),i=new $ExprCtx(o,"left",!0);return i.tree=e.tree,new $AssignCtx(i).tree[1]=new $JSCode(t),n}$AssertCtx.prototype.ast=function(){var e=this.tree[1];return new ast.Assert(ast_or_obj(this.tree[0]),void 0===e?e:ast_or_obj(e))},$AssertCtx.prototype.toString=function(){return"(assert) "+this.tree},$AssertCtx.prototype.transition=function(e,t){var r=this;return","==e?(this.tree.length>1&&$_SyntaxError(r,"too many commas after assert"),new $AbstractExprCtx(this,!1)):"eol"==e?$transition(r.parent,e):void $_SyntaxError(r,e)},$AssertCtx.prototype.transform=function(e,t){if(this.tree.length>1)var r=this.tree[0],n=this.tree[1];else r=this.tree[0],n=null;if("expr"==this.tree[0].type&&"tuple"==this.tree[0].name&&this.tree[0].tree[0].tree.length>1){var o=_b_.SyntaxWarning.$factory("assertion is always true, perhaps remove parentheses?"),i=$get_module(this);$B.$syntax_err_line(o,i.filename,i.src,$pos,$get_node(this).line_num),$B.imported._warnings.warn(o)}var a=new $ConditionCtx(e.C,"if");new $NotCtx(a).tree=[r],e.C=a;var s="throw _b_.AssertionError.$factory()";null!==n&&(s="throw _b_.AssertionError.$factory(_b_.str.$factory("+n.to_js()+"))"),e.add($NodeJS(s))};var $AssignCtx=$B.parser.$AssignCtx=function(e,t){check_assignment(e),"expr"==e.type&&"lambda"==e.tree[0].type&&$_SyntaxError(e,["cannot assign to lambda"]),this.type="assign",e.parent.tree.pop(),e.parent.tree.push(this),this.parent=e.parent,this.tree=[e];var r=$get_scope(this);if("list_or_tuple"==e.type||"expr"==e.type&&"list_or_tuple"==e.tree[0].type)"expr"==e.type&&(e=e.tree[0]),e.bind_ids(r);else if("assign"==e.type)for(var n of(check_assignment(e.tree[1]),e.tree))"id"==(o=n.tree[0]).type&&$bind(o.value,r,this);else{var o;if((o=e.tree[0])&&"id"==o.type)if(o.value,o.bound=!0,r.globals&&r.globals.has(o.value)){var i=$get_module(e);o.global_module=i.module,$bind(o.value,i,this)}else $get_node(this).bound_before=Object.keys(r.binding),$bind(o.value,r,this);else if("ellipsis"==o.type)$_SyntaxError(e,["cannot assign to Ellipsis"]);else if("unary"==o.type)$_SyntaxError(e,["cannot assign to operator"]);else if("packed"==o.type){if("id"==o.tree[0].name){var a=o.tree[0].tree[0].value;["None","True","False","__debug__"].indexOf(a)>-1&&$_SyntaxError(e,["cannot assign to "+a])}void 0===o.parent.in_tuple&&$_SyntaxError(e,["starred assignment target must be in a list or tuple"])}}};$AssignCtx.prototype.ast=function(){var e=ast_or_obj(this.tree[1]),t=[],r=this.tree[0];if("expr"==r.type&&"list_or_tuple"==r.tree[0].type&&(r=r.tree[0]),"list_or_tuple"==r.type){for(var n of(r=ast_or_obj(r)).elts)n.ctx=new ast.Store,n instanceof ast.Starred&&(n.value.ctx=new ast.Store);r.ctx=new ast.Store,t=[r]}else{for(;"assign"==r.type;)t.splice(0,0,ast_or_obj(r.tree[1])),r=r.tree[0];for(var o of(t.splice(0,0,ast_or_obj(r)),t))if(o.ctx=new ast.Store,o instanceof ast.Tuple)for(var n of o.elts)n.ctx=new ast.Store}if(e.ctx=new ast.Load,r.annotation){var i=new ast.AnnAssign(ast_or_obj(r.tree[0]),ast_or_obj(r.annotation.tree[0]),e,1);return i.target.ctx=new ast.Store,i}return new ast.Assign(t,e)},$AssignCtx.prototype.guess_type=function(){},$AssignCtx.prototype.toString=function(){return"(assign) "+this.tree[0]+"="+this.tree[1]},$AssignCtx.prototype.transition=function(e,t){var r=this;if("eol"==e)return"abstract_expr"==r.tree[1].type&&$_SyntaxError(r,"token "+e+" after "+r),r.guess_type(),$transition(r.parent,"eol");console.log("token",e,"after C",r),$_SyntaxError(r,"token "+e+" after "+r)},$AssignCtx.prototype.transform=function(e,t){for(var r=$get_scope(this),n=this.tree[0],o=this.tree[1],i=[];"assign"==n.type;)i.push(n.tree[1]),n=n.tree[0];if(i.length>0){i.push(n);var a=e.C;a.tree=[];var s=new $RawJSCtx(a,"var $temp"+$loop_num);s.tree=a.tree;var l=new $AssignCtx(s);for(var _ of(l.tree[1]=o,i)){"expr"==_.type&&"list_or_tuple"==_.tree[0].type&&"tuple"==_.tree[0].real&&1==_.tree[0].tree.length&&(_=_.tree[0].tree[0]);var c=new $Node,u=new $NodeCtx(c);c.locals=e.locals,c.line_num=e.line_num,e.parent.insert(t+1,c),_.parent=u;var f=new $AssignCtx(_);new $RawJSCtx(f,"$temp"+$loop_num)}return $loop_num++,void(this.tree[0]=n)}var p=null;switch(n.type){case"expr":if(n.tree.length>1)p=n.tree;else if("list_or_tuple"==n.tree[0].type||"target_list"==n.tree[0].type)p=n.tree[0].tree;else if("id"==n.tree[0].type){var d=n.tree[0].value;r.globals&&r.globals.has(d)||(n.tree[0].bound=!0)}break;case"target_list":case"list_or_tuple":p=n.tree}if(o=this.tree[1],null!==p){var h=null;if(("list"==o.type||"tuple"==o.type||"expr"==o.type&&o.tree.length>1)&&(h=o.tree),null!==h){if(h.length>p.length)throw Error("ValueError : too many values to unpack (expected "+p.length+")");if(h.length<p.length)throw Error("ValueError : need more than "+h.length+" to unpack");var m=[],g=0;(c=new $Node).line_num=e.line_num,new $NodeJSCtx(c,"void(0)"),m[g++]=c;var $="$temp"+$loop_num;for(var v of((c=new $Node).line_num=e.line_num,new $NodeJSCtx(c,"var "+$+" = [], $pos = 0"),m[g++]=c,h)){var b=$+"[$pos++] = "+v.to_js();(c=new $Node).line_num=e.line_num,new $NodeJSCtx(c,b),m[g++]=c}var y=$get_node(this);for(var x of p){(c=new $Node).id=y.module,c.locals=y.locals,c.line_num=e.line_num;var w=new $NodeCtx(c);x.parent=w,(f=new $AssignCtx(x,!1)).tree[1]=new $JSCode($+"["+B+"]"),m[g++]=c}e.parent.children.splice(t,1);for(var B=m.length-1;B>=0;B--)e.parent.insert(t,m[B]);$loop_num++}else{e.parent.children.splice(t,1);var k=create_temp_name("$right"),C=create_temp_name("$rlist");(c=$NodeJS("var "+k+" = $B.$getattr($B.$iter("+o.to_js()+'), "__next__");')).line_num=e.line_num,e.parent.insert(t++,c),e.parent.insert(t++,$NodeJS("var "+C+"=[], $pos=0;while(1){\ntry{\n"+C+"[$pos++] = "+k+"()}catch(err){\nbreak}}"));var S=null,E=p.length;for(B=0;B<p.length;B++){var N=p[B];if("packed"==N.type||"expr"==N.type&&"packed"==N.tree[0].type){S=B,E--;break}}e.parent.insert(t++,$NodeJS("if("+C+".length<"+E+'){\nthrow _b_.ValueError.$factory("need more than " +'+C+'.length + " value" + ('+C+'.length > 1 ? "s" : "") + " to unpack")}')),null==S&&e.parent.insert(t++,$NodeJS("if("+C+".length>"+E+'){\nthrow _b_.ValueError.$factory("too many values to unpack (expected '+p.length+')")}')),p.forEach((function(n,o){var i=new $Node;i.id=r.id,i.line_num=e.line_num,e.parent.insert(t++,i);var a=new $NodeCtx(i);n.parent=a,n.in_tuple=!0;var s=new $AssignCtx(n,!1),l=C;l+=null==S||o<S?"["+o+"]":o==S?".slice("+o+","+C+".length-"+(p.length-o-1)+")":"["+C+".length-"+(p.length-o)+"]",s.tree[1]=new $JSCode(l)})),$loop_num++}}else n.tree[0].bound&&"expr"==o.type&&"int"==o.name&&(e.bindings=e.bindings||{},e.bindings[n.tree[0].value]="int")},$AssignCtx.prototype.to_js=function(){if(this.js_processed=!0,"call"==this.parent.type)return'{$nat:"kw",name:'+this.tree[0].to_js()+",value:"+this.tree[1].to_js()+"}";for(var e=this.tree[0];"expr"==e.type;)e=e.tree[0];var t=this.tree[1];if("attribute"==e.type||"sub"==e.type){var r=t.to_js(),n="",o="",i="$temp"+$loop_num;if("expr"!=t.type||void 0===t.tree[0]||"call"!=t.tree[0].type||"eval"!=t.tree[0].func.value&&"exec"!=t.tree[0].func.value?"expr"==t.type&&void 0!==t.tree[0]&&"sub"==t.tree[0].type?(n+="var "+i+" = "+r+";\n",o=i):o=r:(n+="var "+i+" = "+r+";\n",o=i),"attribute"==e.type){$loop_num++,e.func="setattr";var a=e.to_js();return e.func="getattr",e.assign_self?n+a[0]+o+a[1]+o+")":(n=(n+=a).substr(0,n.length-1))+","+o+");_b_.None;"}if("sub"==e.type){var s,l=e.value.to_js(),_="$temp"+$loop_num;return"id"==e.value.type&&(s=$get_node(this).locals[e.value.value]),$loop_num++,n="var "+_+" = "+l+"\n","list"!==s&&(n+="if(Array.isArray("+_+") && !"+_+".__class__){\n"),1==e.tree.length?n+="$B.set_list_key("+_+","+(e.tree[0].to_js()+""||"null")+","+t.to_js()+")":2==e.tree.length?n+="$B.set_list_slice("+_+","+(e.tree[0].to_js()+""||"null")+","+(e.tree[1].to_js()+""||"null")+","+t.to_js()+")":3==e.tree.length&&(n+="$B.set_list_slice_step("+_+","+(e.tree[0].to_js()+""||"null")+","+(e.tree[1].to_js()+""||"null")+","+(e.tree[2].to_js()+""||"null")+","+t.to_js()+")"),"list"==s||(n+="\n}else{\n",1==e.tree.length?n+="$B.$setitem("+e.value.to_js()+","+e.tree[0].to_js()+","+r+")};_b_.None;":(e.func="setitem",n=(n+=e.to_js()).substr(0,n.length-1),e.func="getitem",n+=","+r+")};_b_.None;")),n}}return e.to_js()+" = "+t.to_js()};var $AsyncCtx=$B.parser.$AsyncCtx=function(e){this.type="async",this.parent=e,e.async=!0};$AsyncCtx.prototype.toString=function(){return"(async)"},$AsyncCtx.prototype.transition=function(e,t){var r=this;if("def"==e)return $transition(r.parent,e,t);if("for"==e||"with"==e){var n=$get_scope(r).ntype;"def"!==n&&"generator"!=n&&$_SyntaxError(r,["'async "+e+"' outside async function"]);var o=$transition(r.parent,e,t);return o.parent.async=!0,o}$_SyntaxError(r,"token "+e+" after "+r)};var $AttrCtx=$B.parser.$AttrCtx=function(e){this.type="attribute",this.value=e.tree[0],this.parent=e,e.tree.pop(),e.tree[e.tree.length]=this,this.tree=[],this.func="getattr"};$AttrCtx.prototype.ast=function(){var e=ast_or_obj(this.value),t=this.unmangled_name,r=new ast.Load;return"setattr"==this.func?r=new ast.Store:"delattr"==this.func&&(r=new ast.Delete),new ast.Attribute(e,t,r)},$AttrCtx.prototype.toString=function(){return"(attr) "+this.value+"."+this.name},$AttrCtx.prototype.transition=function(e,t){var r=this;if("id"===e){var n=t;return"__debug__"==n?$_SyntaxError(r,["cannot assign to __debug__"]):!0===noassign[n]&&$_SyntaxError(r,`'${n}' cannot be an attribute`),r.unmangled_name=n,n=$mangle(n,r),r.name=n,r.parent}$_SyntaxError(r,e)},$AttrCtx.prototype.to_js=function(){this.js_processed=!0;var e=this.value.to_js();if("setattr"==this.func&&"id"==this.value.type){var t=$get_scope(this),r=t.parent;if("def"==t.ntype&&"class"==r.ntype){var n=t.C.tree[0].positional_list;if(this.value.value==n[0]&&r.C&&void 0===r.C.tree[0].args)return this.assign_self=!0,[e+".__class__ && "+e+".__dict__ && !"+e+".__class__.$has_setattr && ! "+e+".$is_class ? _b_.dict.$setitem("+e+".__dict__, '"+this.name+"', ",") : $B.$setattr("+e+', "'+this.name+'", ']}}return"setattr"==this.func?"$B.$setattr("+e+',"'+this.name+'")':"$B.$getattr("+e+',"'+this.name+'")'};var $AugmentedAssignCtx=$B.parser.$AugmentedAssignCtx=function(e,t){check_assignment(e,{augmented:!0}),this.type="augm_assign",this.C=e,this.parent=e.parent,e.parent.tree.pop(),e.parent.tree[e.parent.tree.length]=this,this.op=t,this.tree=[e];var r=this.scope=$get_scope(this);if("expr"==e.type){var n=e.tree[0];if("id"==n.type){var o=n.value;"def"!=r.ntype&&"generator"!=r.ntype||r.binding.hasOwnProperty(o)||void 0!==r.globals&&r.globals.has(o)||(n.unbound=!0)}}$get_node(this).bound_before=Object.keys(r.binding),this.module=r.module};$AugmentedAssignCtx.prototype.ast=function(){var e=ast_or_obj(this.tree[0]),t=ast_or_obj(this.tree[1]);e.ctx=new ast.Store,t.ctx=new ast.Load;var r=this.op.substr(0,this.op.length-1),n=op2ast_class[r][1];return new ast.AugAssign(e,new n,t)},$AugmentedAssignCtx.prototype.toString=function(){return"(augm assign) "+this.tree},$AugmentedAssignCtx.prototype.transition=function(e,t){var r=this;if("eol"==e)return"abstract_expr"==r.tree[1].type&&$_SyntaxError(r,"token "+e+" after "+r),$transition(r.parent,"eol");$_SyntaxError(r,"token "+e+" after "+r)},$AugmentedAssignCtx.prototype.to_js=function(){var e=this.tree[0].tree[0];if("id"==e.type){this.tree[0].tree[0].bindingType(this.scope);var t,r=find_scope(e.value,$get_scope(this));if(t=void 0===r?"$locals":"$locals_"+r.id.replace(/\./g,"_"),e.augm_assign=!0,"int"==(a=this.tree[1].tree[0]).type){var n=parseInt(a.value[1],a.value[0]);if(n<$B.max_int&&n>$B.min_int&&"int"==this.tree[0].tree[0].bindingType(this.scope)&&"//="!==this.op){var o=this.op.substr(0,this.op.length-1),i=e.to_js();return`${t}['${e.value}'] = (typeof ${i} == "number" && $B.is_safe_int($locals.$result = ${i} ${o} ${a.to_js()})) ? $locals.$result : $B.augm_assign(${i}, '${this.op}', ${a.to_js()})`}}var a=this.tree[1].to_js();return`${t}['${e.value}'] = $B.augm_assign(${e.to_js()}, '${this.op}', `+a+")"}return"sub"==e.type?`$B.$setitem(($locals.$tg = ${e.value.to_js()}), ($locals.$key = ${e.tree[0].to_js()}), $B.augm_assign($B.$getitem($locals.$tg, $locals.$key), '${this.op}', ${this.tree[1].to_js()}))`:"attribute"==e.type?`$B.$setattr(($locals.$tg = ${e.value.to_js()}), '${e.name}', $B.augm_assign($B.$getattr($locals.$tg, '${e.name}'), '${this.op}', ${this.tree[1].to_js()}))`:""};var $AwaitCtx=$B.parser.$AwaitCtx=function(e){this.type="await",this.parent=e,this.tree=[],e.tree.push(this);for(var t=e;t;)"list_or_tuple"==t.type&&(t.is_await=!0),t=t.parent;var r=$get_node(this);r.awaits=r.awaits||[],r.awaits.push(this)};$AwaitCtx.prototype.ast=function(){return new ast.Await(ast_or_obj(this.tree[0]))},$AwaitCtx.prototype.transition=function(e,t){return this.parent.is_await=!0,$transition(this.parent,e,t)},$AwaitCtx.prototype.to_js=function(){return`await $B.promise(${$to_js(this.tree)})`};var $BodyCtx=$B.parser.$BodyCtx=function(e){for(var t=e.parent;"node"!==t.type;)t=t.parent;var r=t.node,n=new $Node;return n.is_body_node=!0,n.line_num=r.line_num,r.insert(0,n),new $NodeCtx(n)},set_loop_context=$B.parser.set_loop_context=function(e,t){for(var r=e;"node"!==r.type;)r=r.parent;for(var n=r.node.parent,o=!1;;)if("module"==n.type)$_SyntaxError(e,t+" outside of a loop");else{var i=n.C.tree[0];if("condition"==i.type&&"while"==i.token){this.loop_ctx=i,i["has_"+t]=!0;break}switch(i.type){case"for":this.loop_ctx=i,i["has_"+t]=!0,o=!0;break;case"def":case"generator":case"class":$_SyntaxError(e,t+" outside of a loop");default:n=n.parent}if(o)break}},$BreakCtx=$B.parser.$BreakCtx=function(e){this.type="break",this.parent=e,e.tree[e.tree.length]=this,set_loop_context.apply(this,[e,"break"])};$BreakCtx.prototype.ast=function(){return new ast.Break},$BreakCtx.prototype.toString=function(){return"break "},$BreakCtx.prototype.transition=function(e,t){if("eol"==e)return $transition(this.parent,"eol");$_SyntaxError(this,e)},$BreakCtx.prototype.to_js=function(){this.js_processed=!0;var e=";$no_break"+this.loop_ctx.loop_num+" = false";return"asyncfor"!=this.loop_ctx.type?e+=";break":e+=";throw _b_.StopIteration.$factory("+this.loop_ctx.loop_num+")",e};var $CallArgCtx=$B.parser.$CallArgCtx=function(e){this.type="call_arg",this.parent=e,this.start=$pos,this.tree=[],e.tree.push(this),this.expect="id"};$CallArgCtx.prototype.toString=function(){return"call_arg "+this.tree},$CallArgCtx.prototype.transition=function(e,t){var r=this;switch(e){case"await":case"id":case"imaginary":case"int":case"float":case"str":case"JoinedStr":case"bytes":case"[":case"(":case"{":case".":case"ellipsis":case"not":case"lambda":if("id"==r.expect){r.expect=",";var n=new $AbstractExprCtx(r,!1);return $transition(n,e,t)}break;case"=":if(","==r.expect)return new $ExprCtx(new $KwArgCtx(r),"kw_value",!1);break;case"for":return this.parent.tree.length>1&&$_SyntaxError(r,"non-parenthesized generator expression"),new $TargetListCtx(new $ForExpr(new GeneratorExpCtx(r)));case"op":if("id"==r.expect){var o=t;switch(r.expect=",",o){case"+":case"-":case"~":return $transition(new $AbstractExprCtx(r,!1),e,o);case"*":return r.parent.tree.pop(),new $StarArgCtx(r.parent);case"**":return r.parent.tree.pop(),new $DoubleStarArgCtx(r.parent)}}$_SyntaxError(r,"token "+e+" after "+r);case")":return r.parent.kwargs&&$B.last(r.parent.tree).tree[0]&&-1==["kwarg","star_arg","double_star_arg"].indexOf($B.last(r.parent.tree).tree[0].type)&&$_SyntaxError(r,["non-keyword argument after keyword argument"]),$transition(r.parent,e);case":":if(","==r.expect&&"lambda"==r.parent.parent.type)return $transition(r.parent.parent,e);break;case",":if(","==r.expect)return r.parent.kwargs&&-1==["kwarg","star_arg","double_star_arg"].indexOf($B.last(r.parent.tree).tree[0].type)&&$_SyntaxError(r,["non-keyword argument after keyword argument"]),$transition(r.parent,e,t)}$_SyntaxError(r,"token "+e+" after "+r)},$CallArgCtx.prototype.to_js=function(){return this.js_processed=!0,$to_js(this.tree)};var $CallCtx=$B.parser.$CallCtx=function(e){this.type="call",this.func=e.tree[0],void 0!==this.func&&(this.func.parent=this),this.parent=e,"class"!=e.type?(e.tree.pop(),e.tree[e.tree.length]=this):e.args=this,this.expect="id",this.tree=[],this.start=$pos,this.func&&"attribute"==this.func.type&&"wait"==this.func.name&&"id"==this.func.value.type&&"time"==this.func.value.value&&(console.log("call",this.func),$get_node(this).blocking={type:"wait",call:this}),this.func&&"input"==this.func.value&&($get_node(this).blocking={type:"input"})};$CallCtx.prototype.ast=function(){var e=new ast.Call(ast_or_obj(this.func),[],[]);for(var t of this.tree)if("double_star_arg"==t.type){var r=ast_or_obj(t.tree[0].tree[0]),n=new ast.keyword(_b_.None,r);delete n.arg,e.keywords.push(n)}else if("star_arg"==t.type){var o=new ast.Starred(ast_or_obj(t.tree[0]));o.ctx=new ast.Load,e.args.push(o)}else if("genexpr"==t.type)e.args.push(t.ast());else{var i=t.tree[0];if(void 0===i)continue;"kwarg"==i.type?e.keywords.push(new ast.keyword(i.tree[0].value,ast_or_obj(i.tree[1]))):e.args.push(ast_or_obj(i))}return e},$CallCtx.prototype.toString=function(){return"(call) "+this.func+"("+this.tree+")"},$CallCtx.prototype.transition=function(e,t){var r=this;switch(e){case",":return"id"==r.expect&&$_SyntaxError(r,e),r.expect="id",r;case"await":case"id":case"imaginary":case"int":case"float":case"str":case"JoinedStr":case"bytes":case"[":case"(":case"{":case".":case"not":case"lambda":case"ellipsis":return r.expect=",",$transition(new $CallArgCtx(r),e,t);case")":return r.end=$pos,r.parent;case"op":switch(r.expect=",",t){case"-":case"~":case"+":return r.expect=",",$transition(new $CallArgCtx(r),e,t);case"*":return r.has_star=!0,new $StarArgCtx(r);case"**":return r.has_dstar=!0,new $DoubleStarArgCtx(r)}$_SyntaxError(r,e);case"yield":$_SyntaxError(r,e)}return $transition(r.parent,e,t)},$CallCtx.prototype.to_js=function(){this.js_processed=!0,this.tree.length>0&&0==this.tree[this.tree.length-1].tree.length&&this.tree.pop();var e=this.func.to_js();if(void 0!==this.func){switch(this.func.value){case"classmethod":return"_b_.classmethod.$factory("+$to_js(this.tree)+")";default:if("unary"==this.func.type){var t="$B.$getattr("+$to_js(this.tree);switch(this.func.op){case"+":return t+',"__pos__")()';case"-":return t+',"__neg__")()';case"~":return t+',"__invert__")()'}}}var r,n=[],o=[],i=!1,a=[];for(var s of this.tree)switch(s.type){case"star_arg":i=!0,n.push([s.tree[0].tree[0].to_js(),"*"]);break;case"double_star_arg":a.push(s.tree[0].tree[0].to_js());break;case"id":n.push([s.to_js(),"s"]);break;default:switch(s.tree[0].type){case"expr":n.push([s.to_js(),"s"]);break;case"kwarg":o.push(s.tree[0].tree[0].value+":"+s.tree[0].tree[1].to_js());break;case"list_or_tuple":case"op":default:n.push([s.to_js(),"s"])}}if(i){for(var l=[],_=0,c=n.length;_<c;_++)if("*"==(s=n[_])[1])l.push("_b_.list.$factory("+s[0]+")");else{var u=[n[_][0]];for(_++;_<c&&"s"==n[_][1];)u.push(n[_][0]),_++;_--,l.push("["+u.join(",")+"]")}for(r=l[0],_=1;_<l.length;_++)r+=".concat("+l[_]+")"}else{for(_=0,c=n.length;_<c;_++)n[_]=n[_][0];r=n.join(", ")}var f="{"+o.join(", ")+"}";f=a.length?'{$nat:"kw",kw:['+f+","+a.join(", ")+"]}":"{}"!=f?'{$nat:"kw",kw:'+f+"}":"",i&&f?r+=".concat(["+f+"])":r&&f?r+=","+f:r||(r=f);var p="$B.$call("+e+")"+(r=i?".apply(null,"+r+")":"("+r+")");return this.tree.length>-1&&"id"==this.func.type&&this.func.is_builtin&&void 0!==$B.builtin_funcs[this.func.value]?-1==["complex","bytes","bytearray","object","memoryview","int","float","str","list","tuple","dict","set","frozenset","range","slice","zip","bool","type","classmethod","staticmethod","enumerate","reversed","property","$$super","zip","map","filter"].indexOf(this.func.value)?e+r:e+".$factory"+r:p}};var $CaseCtx=$B.parser.$CaseCtx=function(e){this.type="case",e.tree=[this],this.parent=e,this.tree=[],this.expect="as"};$CaseCtx.prototype.ast=function(){return new ast.match_case(ast_or_obj(this.tree[0]),this.has_guard?ast_or_obj(this.tree[1].tree[0]):void 0,ast_body(this.parent))},$CaseCtx.prototype.set_alias=function(e){this.alias=e},$CaseCtx.prototype.transition=function(e,t){var r=this;switch(e){case"as":return r.expect=":",new $AbstractExprCtx(new $AliasCtx(r));case":":var n;switch((n=function e(t){var r;if("capture_pattern"==t.type)return t.tree[0];if("or_pattern"==t.type){for(var n of t.tree)if(r=e(n))return r}else if("sequence_pattern"==t.type&&"("==t.token&&1==t.tree.length&&(r=e(t.tree[0])))return r;return!1}(this.tree[0]))&&($get_node(r).parent.irrefutable=n),r.expect){case"id":case"as":case":":var o=$B.last(r.tree);return o&&"sequence_pattern"==o.type&&remove_empty_pattern(o),$BodyCtx(r)}break;case"op":if("|"==t)return new $PatternCtx(new $PatternOrCtx(r));$_SyntaxError(r,["expected :"]);case",":if(":"==r.expect||"as"==r.expect)return new $PatternCtx(new $PatternSequenceCtx(r));case"if":return r.has_guard=!0,new $AbstractExprCtx(new $ConditionCtx(r,e),!1);default:$_SyntaxError(r,["expected :"])}},$CaseCtx.prototype.to_js=function(){var e=$get_node(this),t=0==e.parent.children.indexOf(e)?"if":"else if";if(this.has_guard)var r=(r=this.tree.pop().to_js().substr(3)).substr(0,r.length-1);return t+'(($locals.$line_info="'+e.line_num+","+e.module+'") && $B.pattern_match(subject, '+$to_js(this.tree)+(this.alias?`, {as: "${this.alias.value}"}`:"")+")"+(this.has_guard?" && "+r:"")+")"};var $ClassCtx=$B.parser.$ClassCtx=function(e){this.type="class",this.parent=e,this.tree=[],e.tree[e.tree.length]=this,this.expect="id";var t=this.scope=$get_scope(this);this.parent.node.parent_block=t,this.parent.node.bound={},this.parent.node.binding={__annotations__:!0}};$ClassCtx.prototype.ast=function(){var e=get_decorators(this.parent.node),t=[],r=[];if(this.args)for(var n of this.args.tree)"kwarg"==n.tree[0].type?r.push(new ast.keyword(n.tree[0].tree[0].value,ast_or_obj(n.tree[0].tree[1]))):t.push(ast_or_obj(n.tree[0]));return new ast.ClassDef(this.name,t,r,ast_body(this.parent),e)},$ClassCtx.prototype.toString=function(){return"(class) "+this.name+" "+this.tree+" args "+this.args},$ClassCtx.prototype.transition=function(e,t){var r=this;switch(e){case"id":if("id"==r.expect)return r.set_name(t),r.expect="(:",r;break;case"(":return new $CallCtx(r);case":":if(this.args)for(var n of this.args.tree){var o=n.tree[0];"expr"==o.type&&"id"==o.name||"kwarg"==o.type||$_SyntaxError(r,"invalid class parameter")}return $BodyCtx(r)}$_SyntaxError(r,"token "+e+" after "+r)},$ClassCtx.prototype.set_name=function(e){var t=this.parent;this.random=$B.UUID(),this.name=e,this.id=t.node.module+"_"+e+"_"+this.random,this.binding={},this.parent.node.id=this.id;for(var r=this.scope,n=r,o=r,i=[];"class"==o.ntype;)i.splice(0,0,o.C.tree[0].name),o=o.parent;for(this.qualname=i.concat([e]).join(".");n.C&&"class"==n.C.tree[0].type;)n=n.parent;for(;n.C&&"def"!=n.C.tree[0].type&&"generator"!=n.C.tree[0].type;)n=n.parent;this.parent.node.parent_block=n,$bind(e,r,this),r.is_function&&-1==r.C.tree[0].locals.indexOf(e)&&r.C.tree[0].locals.push(e)},$ClassCtx.prototype.transform=function(e,t){this.doc_string=$get_docstring(e),this.module=$get_module(this).module.replace(/\./g,"_");var r="\n"+" ".repeat(e.indent+12),n=new $Node,o="$locals_"+this.id.replace(/\./g,"_");new $NodeJSCtx(n,s="var "+o+" = {__annotations__: $B.empty_dict()}, "+r+"$locals = "+o),e.insert(0,n);for(var i=this.scope;"__builtins__"!==i.parent_block.id;)i=i.parent_block;var a="$locals_"+i.id.replace(/\./g,"_"),s=" ".repeat(e.indent+4)+'$locals.$name = "'+this.name+'"'+r+'$locals.$qualname = "'+this.qualname+'"'+r+"$locals.$is_class = true; "+r+'$locals.$line_info = "'+e.line_num+","+this.module+'";'+r+'var $top_frame = ["'+o+'", $locals,"'+i.id+'", '+a+"]"+r+"$locals.$f_trace = $B.enter_frame($top_frame);"+r+"if($locals.$f_trace !== _b_.None){\n$locals.$f_trace = $B.trace_line()}";e.insert(1,$NodeJS(s)),e.add($NodeJS("if($locals.$f_trace !== _b_.None){\n$B.trace_return(_b_.None)}")),e.add($NodeJS("$B.leave_frame({$locals})"));var l=new $Node;new $NodeJSCtx(l,"return "+o+";"),e.insert(e.children.length,l);var _=new $Node;new $NodeJSCtx(_,")();"),e.parent.insert(t+1,_);var c="$locals_"+this.module+".__name__";t++,e.parent.insert(t+1,$NodeJS("$"+this.name+"_"+this.random+".__module__ = "+c));var u=$get_scope(this),f=";$locals_"+u.id.replace(/\./g,"_"),p=1;if((s=[(f+='["'+this.name+'"]')+' = $B.$class_constructor("'+this.name])[p++]='", $'+this.name+"_"+this.random,void 0!==this.args){var d=this.args.tree,h=[],m=[];for(var g of d)"kwarg"==g.tree[0].type?m.push(g.tree[0]):h.push(g.to_js());s[p++]=", _b_.tuple.$factory(["+h.join(",")+"]),[";var $=new RegExp('"',"g"),v=[],b=0;for(var y of h)v[b++]='"'+y.replace($,'\\"')+'"';for(var g of(s[p++]=v.join(",")+"]",v=[],b=0,m))v[b++]='["'+g.tree[0].value+'",'+g.tree[1].to_js()+"]";s[p++]=",["+v.join(",")+"]"}else s[p++]=", _b_.tuple.$factory([]),[],[]";s[p++]=")";var x=new $Node;new $NodeJSCtx(x,s.join("")),t++,e.parent.insert(t+1,x),t++;var w=new $Node;if(s=f+".__doc__ = "+(this.doc_string||"_b_.None")+";",new $NodeJSCtx(w,s),e.parent.insert(t+1,w),"module"==u.ntype){var B=new $Node;new $NodeJSCtx(B,'$locals["'+this.name+'"] = '+this.name)}e.parent.insert(t+2,$NodeJS("_b_.None;")),this.transformed=!0},$ClassCtx.prototype.to_js=function(){return this.js_processed=!0,"var $"+this.name+"_"+this.random+" = (function()"};var Comprehension={admin_infos:function(e){var t=e.id,r=$get_node(e);return`var $locals_${t} = {},\n            $locals = $locals_${t}\n        $locals.$line_info = '${r.line_num},${r.module}'\n`+Comprehension.code(e)+`var $top_frame = ["${t}", $locals_${t}, "${e.module}", $locals_${e.module_ref}]\n        $locals.$f_trace = $B.enter_frame($top_frame)\n        `},code:function(e){var t=$get_node(e),r=Object.keys(e.varnames||{}).map((e=>`'${e}'`)).join(", ");return`$locals.$comp_code = {\n            co_argcount: 1,\n            co_firstlineno:${t.line_num},\n            co_name: "<${e.type}>",\n            co_flags: ${"genexpr"==e.type?115:83},\n            co_freevars: $B.fast_tuple([]),\n            co_kwonlyargcount: 0,\n            co_posonlyargount: 0,\n            co_varnames: $B.fast_tuple(['.0', ${r}])\n        }\n        $locals['.0'] = expr\n`},generators:function(e){var t=[];for(item of e)"for"==item.type?t.push(new ast.comprehension(ast_or_obj(item.tree[0]),ast_or_obj(item.tree[1]),[],item.is_async?1:0)):$B.last(t).ifs.push(ast_or_obj(item.tree[0]));return t},make_comp:function(e,t){e.comprehension=!0,e.parent=t.parent,e.binding={},e.id=e.type+$B.UUID();var r=$get_scope(t);for(e.parent_block=r;r;){if(r.C&&r.C.tree&&r.C.tree.length>0&&r.C.tree[0].async){e.async=!0;break}r=r.parent_block}e.module=$get_module(t).module,e.module_ref=e.module.replace(/\./g,"_"),t.parent.tree[t.parent.tree.length-1]=e,Comprehension.set_parent_block(t.tree[0],e)},set_parent_block:function(e,t){if(e.tree)for(var r of e.tree)r.comprehension&&(r.parent_block=t),Comprehension.set_parent_block(r,t)},get_awaits:function(e,t){if(t=t||[],"await"==e.type)t.push(e);else if(e.tree)for(var r of e.tree)Comprehension.get_awaits(r,t);return t},has_await:function(e){var t=$get_node(e),r=Comprehension.get_awaits(e);for(var n of r){var o=t.awaits.indexOf(n);o>-1&&t.awaits.splice(o,1)}return r.length>0}},$ConditionCtx=$B.parser.$ConditionCtx=function(e,t){if(this.type="condition",this.token=t,this.parent=e,this.tree=[],this.node=$get_node(this),this.scope=$get_scope(this),"while"==t&&(this.loop_num=$loop_num++),"elif"==t){var r=this.node.parent.children.indexOf(this.node);this.node.parent.children[r-1].C.tree[0].orelse=this}e.tree.push(this)};$ConditionCtx.prototype.ast=function(){var e=new ast[{if:"If",while:"While",elif:"If"}[this.token]](ast_or_obj(this.tree[0]));return this.orelse?"elif"==this.orelse.token?e.orelse=[ast_or_obj(this.orelse)]:e.orelse=ast_or_obj(this.orelse):e.orelse=[],e.body=ast_body(this),e},$ConditionCtx.prototype.toString=function(){return this.token+" "+this.tree},$ConditionCtx.prototype.transition=function(e,t){var r=this;if(":"==e)return"abstract_expr"==r.tree[0].type&&0==r.tree[0].tree.length&&$_SyntaxError(r,"token "+e+" after "+r),$BodyCtx(r);if(this.in_comp&&"if"==this.token){if("]"==e)return $transition(r.parent,e,t);if("if"==e){var n=new $ConditionCtx(r.parent,"if");return n.in_comp=!0,new $AbstractExprCtx(n,!1)}if(")]}".indexOf(e)>-1)return $transition(this.parent,e,t)}$_SyntaxError(r,["expected ':'"])},$ConditionCtx.prototype.transform=function(e,t){if($get_scope(this),"while"==this.token){e.parent.insert(t,$NodeJS("var $no_break"+this.loop_num+" = true"));var r=$get_module(this).module;if("return"!=$B.last(e.children).C.tree[0].type){var n='$locals.$line_info = "'+e.line_num+","+r+'";if($locals.$f_trace !== _b_.None){\n$B.trace_line()};_b_.None;';e.add($NodeJS(n))}return 2}},$ConditionCtx.prototype.to_js=function(){this.js_processed=!0;var e=this.token;"elif"==e&&(e="else if");var t=[e+"($B.$bool("];if("while"==e)t.push("$no_break"+this.loop_num+" && ");else if("else if"==e){var r=$get_node(this).line_num+","+$get_scope(this).id;t.push('($B.set_line("'+r+'")) && ')}return 1==this.tree.length?t.push($to_js(this.tree)+"))"):(t.push(this.tree[0].to_js()+"))"),this.tree[1].tree.length>0&&t.push("{"+this.tree[1].to_js()+"}")),t.join("")};var $ContinueCtx=$B.parser.$ContinueCtx=function(e){this.type="continue",this.parent=e,$get_node(this).is_continue=!0,e.tree[e.tree.length]=this,set_loop_context.apply(this,[e,"continue"])};$ContinueCtx.prototype.ast=function(){return new ast.Continue},$ContinueCtx.prototype.toString=function(){return"(continue)"},$ContinueCtx.prototype.transition=function(e,t){var r=this;if("eol"==e)return r.parent;$_SyntaxError(r,"token "+e+" after "+r)},$ContinueCtx.prototype.to_js=function(){this.js_processed=!0;var e="continue";return this.loop_ctx.has_break&&(e=`$locals["$no_break${this.loop_ctx.loop_num}"] = true;${e}`),e};var $DebuggerCtx=$B.parser.$DebuggerCtx=function(e){this.type="continue",this.parent=e,e.tree[e.tree.length]=this};$DebuggerCtx.prototype.toString=function(){return"(debugger)"},$DebuggerCtx.prototype.transition=function(e,t){},$DebuggerCtx.prototype.to_js=function(){return this.js_processed=!0,"debugger"};var $DecoratorCtx=$B.parser.$DecoratorCtx=function(e){this.type="decorator",this.parent=e,e.tree[e.tree.length]=this,this.tree=[]};function get_decorators(e){for(var t=[],r=e.parent,n=r.children.indexOf(e);!(--n<0)&&"decorator"==r.children[n].C.tree[0].type;){var o=r.children[n].C.tree[0].tree[0];t.splice(0,0,ast_or_obj(o))}return t}$DecoratorCtx.prototype.toString=function(){return"(decorator) "+this.tree},$DecoratorCtx.prototype.transition=function(e,t){var r=this;return"id"==e&&0==r.tree.length?$transition(new $AbstractExprCtx(r,!1),e,t):"eol"==e?$transition(r.parent,e):void $_SyntaxError(r,"token "+e+" after "+r)},$DecoratorCtx.prototype.transform=function(e,t){for(var r=t+1,n=e.parent.children,o=[this.tree];;)if(r>=n.length)$_SyntaxError(e.C,["decorator expects function"]);else if("node_js"==n[r].C.type)r++;else{if("decorator"!=n[r].C.tree[0].type)break;o.push(n[r].C.tree[0].tree),n.splice(r,1)}for(var i of(this.dec_ids=[],o))this.dec_ids.push("$id"+$B.UUID());var a=n[r].C.tree[0];"def"==a.type&&(a.decorated=!0,a.alias="$dec"+$B.UUID());var s="",l=$get_scope(this),_='$locals["';l.globals&&l.globals.has(a.name)&&(_="$locals_"+$get_module(this).id+'["');var c=(_+=a.name+'"]')+" = ";o.forEach((function(e,t){c+="$B.$call("+this.dec_ids[t]+")(",s+=")"}),this),c+=(a.decorated?a.alias:_)+s+";",$bind(a.name,l,this),e.parent.insert(r+1,$NodeJS(c)),this.decorators=o},$DecoratorCtx.prototype.to_js=function(){this.js_processed=!0;var e=[];return this.decorators.forEach((function(t,r){e.push("var "+this.dec_ids[r]+" = "+$to_js(t)+";")}),this),e.join("")};var $DefCtx=$B.parser.$DefCtx=function(e){this.type="def",this.name=null,this.parent=e,this.tree=[],this.async=e.async,this.locals=[],e.tree[e.tree.length]=this,this.enclosing=[];var t=this.scope=$get_scope(this);t.C&&"class"==t.C.tree[0].type&&(this.class_name=t.C.tree[0].name),e.node.binding={};for(var r=t;r.C&&"class"==r.C.tree[0].type;)r=r.parent;for(;r.C&&"def"!=r.C.tree[0].type;)r=r.parent;this.parent.node.parent_block=r;var n=r;for(this.is_comp=n.is_comp;n&&n.C;){if("def"==n.C.tree[0].type){this.inside_function=!0;break}n=n.parent_block}this.module=t.module,this.root=$get_module(this),this.num=$loop_num,$loop_num++,this.positional_list=[],this.default_list=[],this.other_args=null,this.other_kw=null,this.after_star=[]};$DefCtx.prototype.ast=function(){var e,t,r=get_decorators(this.parent.node);return e=ast_or_obj(this.tree[1]),t=this.async?new ast.AsyncFunctionDef(this.name,e,[],r):new ast.FunctionDef(this.name,e,[],r),this.annotation&&(t.returns=ast_or_obj(this.annotation.tree[0])),t.body=ast_body(this.parent),t},$DefCtx.prototype.set_name=function(e){["None","True","False"].indexOf(e)>-1&&$_SyntaxError(this,"invalid function name");var t=new $IdCtx(this,e);this.name=e,this.id=this.scope.id+"_"+e,this.id=this.id.replace(/\./g,"_"),this.id+="_"+$B.UUID(),this.parent.node.id=this.id,this.parent.node.module=this.module,this.binding={};var r=this.scope;void 0!==r.globals&&r.globals.has(e)?$bind(e,this.root,this):$bind(e,r,this),t.bound=!0,r.is_function&&-1==r.C.tree[0].locals.indexOf(e)&&r.C.tree[0].locals.push(e)},$DefCtx.prototype.toString=function(){return"def "+this.name+"("+this.tree+")"},$DefCtx.prototype.transition=function(e,t){var r=this;switch(e){case"id":return r.name&&$_SyntaxError(r,"token "+e+" after "+r),r.set_name(t),r;case"(":return null==r.name&&$_SyntaxError(r,"missing name in function definition"),r.has_args=!0,new $FuncArgs(r);case"annotation":return new $AbstractExprCtx(new $AnnotationCtx(r),!0);case":":if(r.has_args)return $BodyCtx(r);$_SyntaxError(r,"missing function parameters");case"eol":r.has_args&&$_SyntaxError(r,"missing colon")}$_SyntaxError(r,"token "+e+" after "+r)},$DefCtx.prototype.transform=function(e,t){if(this.is_comp&&($get_node(this).is_comp=!0),void 0===this.transformed){var r=this.scope;this.doc_string=$get_docstring(e),this.rank=t;var n=e.indent+12;if(this.name.substr(0,15)=="lambda_"+$B.lambda_magic){var o=r.parent_block;o.C&&"def"==o.C.tree[0].type&&this.enclosing.push(o)}for(var i=this.parent.node;i.parent&&i.parent.is_def_func;)this.enclosing.push(i.parent.parent),i=i.parent.parent;var a=[],s=[],l=!1;this.argcount=0,this.kwonlyargcount=0,this.kwonlyargsdefaults=[],this.otherdefaults=[],this.varnames={},this.args=[],this.__defaults__=[],this.slots=[];var _=[],c=[],u=[];this.annotation&&u.push('"return":'+this.annotation.to_js()),this.func_name=this.tree[0].to_js();var f=this.func_name;this.decorated&&(this.func_name="var "+this.alias,f=this.alias);var p=this.tree[1].tree;for(var d of p)if("end_positional"==d.type?(this.args.push("/"),_.push('"/"'),l=!0):(this.args.push(d.name),this.varnames[d.name]=!0),"func_arg_id"==d.type?(this.star_arg?(this.kwonlyargcount++,d.has_default&&this.kwonlyargsdefaults.push(d.name)):(this.argcount++,d.has_default&&this.otherdefaults.push(d.name)),this.slots.push('"'+d.name+'":null'),_.push('"'+d.name+'"'),c.push('"'+d.name+'": _'+d.name),d.tree.length>0&&(a.push('"'+d.name+'"'),s.push(d.name+":"+$to_js(d.tree)),this.__defaults__.push($to_js(d.tree)))):"func_star_arg"==d.type&&("*"==d.op?this.star_arg=d.name:"**"==d.op&&(this.kw_arg=d.name)),d.annotation){var h=$mangle(d.name,this);u.push(h+": "+d.annotation.to_js())}c="{"+c.join(", ")+"}";var m=67;this.star_arg&&(m|=4),this.kw_arg&&(m|=8),"generator"==this.type&&(m|=32),this.async&&(m|=128);for(var g=[],$=r;$.parent_block&&"__builtins__"!==$.parent_block.id;)$=$.parent_block;var v="$locals_"+$.id.replace(/\./g,"_"),b=(h=this.name+this.num,"$locals_"+this.id);B="var "+b+" = {},"+(G="\n"+" ".repeat(n))+"$locals = "+b+";",(k=new $Node).locals_def=!0,k.func_node=e,new $NodeJSCtx(k,B),g.push(k);var y=[$NodeJS('$locals.$line_info = "'+e.line_num+","+this.module+'"'),$NodeJS(`var $top_frame = ["${this.id}", $locals,"`+$.id+'", '+v+", "+(this.is_comp?this.name:h)+"]"),$NodeJS("$locals.$f_trace = $B.enter_frame($top_frame)"),$NodeJS("var $stack_length = $B.frames_stack.length;")];for(var x of("generator"==this.type&&y.push($NodeJS("$locals.$is_generator = true")),this.async&&y.splice(1,0,$NodeJS(`$locals.$async = "${this.id}"`)),y))x.enter_frame=!0;this.is_comp&&g.push($NodeJS("var $defaults = {}")),this.env=[];var w=[],B=b+' = $locals = $B.args("'+this.name+'", '+this.argcount+", {"+this.slots.join(", ")+"}, ["+_.join(", ")+"], arguments, $defaults, "+this.other_args+", "+this.other_kw+");",k=new $Node;new $NodeJSCtx(k,B),w.push(k);var C=!1;if(null!==this.other_args||null!==this.other_kw||0!=this.after_star.length||l)g.push(w[0]),w.length>1&&g.push(w[1]);else{for(var S of(C=!0,g.push($NodeJS("var $len = arguments.length;")),k=new $Node,new $NodeJSCtx(k,B="var last_arg;if($len > 0 && ((last_arg = arguments[$len - 1]) !== undefined) && last_arg.$nat !== undefined)"),g.push(k),w))k.add(S);var E=new $Node;new $NodeJSCtx(E,"else"),g.push(E);var N=this.slots.length,j=$NodeJS("if($len == "+N+")");if(E.add(j),j.add($NodeJS(b+" = $locals = $B.conv_undef("+c+")")),E.add($NodeJS("else if($len > "+N+'){\n$B.wrong_nb_args("'+this.name+'", $len, '+N+", ["+_+"])}")),N>0){E.add($NodeJS("else if($len + Object.keys($defaults).length < "+N+'){\n$B.wrong_nb_args("'+this.name+'", $len, '+N+", ["+_+"])}"));var T=$NodeJS("else");E.add(T),T.add($NodeJS(b+" = $locals = $B.conv_undef("+c+")")),T.add($NodeJS("var defparams = ["+_+"]")),T.add($NodeJS("for(var i = $len; i < defparams.length; i++){\n$locals[defparams[i]] = $defaults[defparams[i]]}"))}}g=g.concat(y);var O="class"==r.ntype;if(O){var A="$locals_"+r.parent_block.id.replace(/\./g,"_"),I=r.C.tree[0].qualname,M=this.parent.node.binding.__class__;this.parent.node.binding.__class__=!0,g.push($NodeJS("$locals.__class__ = $B.get_method_class("+A+', "'+I+'")'))}g.push($NodeJS("$B.js_this = this;"));for(var L=g.length-1;L>=0;L--)e.children.splice(0,0,g[L]);var F=new $Node;this.params="",C&&(this.params=Object.keys(this.varnames).map((e=>"_"+e)).join(", ")),new $NodeJSCtx(F,""),F.is_def_func=!0,F.module=this.module;var P=e.children[e.children.length-1];n=P.get_indent(),"return"!=P.C.tree[0].type&&(B="if($locals.$f_trace !== _b_.None){\n$B.trace_return(_b_.None)}\n"+"    ".repeat(n+1),B+="$B.leave_frame","$exec"==this.id.substr(0,5)&&(B+="_exec"),B+="({$locals});return _b_.None",e.add($NodeJS(B)));var D=[];if(this.parent.node.referenced)for(var R in this.parent.node.referenced)this.parent.node.binding.hasOwnProperty(R)||D.push('"'+R+'"');if(this.parent.node.nonlocals)for(var W of this.parent.node.nonlocals)R='"'+W+'"',-1==D.indexOf(R)&&D.push(R);e.add(F);var z=1;if(n=e.indent,!this.is_comp){e.parent.insert(t+z++,$NodeJS(h+".$is_func = true")),this.$has_yield_in_cm&&e.parent.insert(t+z++,$NodeJS(h+".$has_yield_in_cm = true")),e.parent.insert(t+z++,$NodeJS(h+".$infos = {"));var V=this.name;V.substr(0,15)=="lambda_"+$B.lambda_magic&&(V="<lambda>"),B='    __name__:"'+V+'",',e.parent.insert(t+z++,$NodeJS(B));var q=V;if(this.class_name&&(q=this.class_name+"."+V),B='    __qualname__:"'+q+'",',e.parent.insert(t+z++,$NodeJS(B)),this.otherdefaults.length>0){var J=[];for(var U of this.otherdefaults)J.push("$defaults."+U);e.parent.insert(t+z++,$NodeJS("    __defaults__ : $B.fast_tuple(["+J.join(", ")+"]),"))}else e.parent.insert(t+z++,$NodeJS("    __defaults__ : _b_.None,"));if(this.kwonlyargsdefaults.lengh>0){for(var U of(J=[],this.kwonlyargsdefaults))J.push("$defaults."+U);e.parent.insert(t+z++,$NodeJS("    __kwdefaults__ : $B.fast_tuple(["+J.join(", ")+"]),"))}else e.parent.insert(t+z++,$NodeJS("    __kwdefaults__ : _b_.None,"));e.parent.insert(t+z++,$NodeJS("    __annotations__: {"+u.join(",")+"},")),e.parent.insert(t+z++,$NodeJS("    __dict__: $B.empty_dict(),")),e.parent.insert(t+z++,$NodeJS("    __doc__: "+(this.doc_string||"_b_.None")+","));var H=$get_module(this);for(var R in e.parent.insert(t+z++,$NodeJS('    __module__ : "'+H.module+'",')),this.parent.node.binding)"__class__"==R&&O&&!M||(this.varnames[R]=!0);var G,Y=[];for(var R in this.varnames)Y.push('"'+R+'"');this.name,this.num,B="    __code__:{"+(G="\n"+" ".repeat(n+8))+"    co_argcount:"+this.argcount;var K=","+G+" ".repeat(4),X=$get_module(this).module,Z=this.name;Z.startsWith("lambda_"+$B.lambda_magic)&&(Z="<lambda>"),B+=K+"co_filename:$locals_"+X.replace(/\./g,"_")+'["__file__"] || "<string>"'+K+"co_firstlineno:"+e.line_num+K+"co_flags:"+m+K+"co_freevars: ["+D+"]"+K+"co_kwonlyargcount:"+this.kwonlyargcount+K+'co_name: "'+Z+'"'+K+"co_nlocals: "+Y.length+K+"co_posonlyargcount: "+(this.pos_only||0)+K+"co_varnames: $B.fast_tuple(["+Y.join(", ")+"])"+G+"}\n"+" ".repeat(n+4)+"};",B+="_b_.None;",e.parent.insert(t+z++,$NodeJS(B))}if(this.default_str="{"+s.join(", ")+"}",!this.is_comp){var Q=h;"generator"==this.type&&(Q=`$B.generator.$factory(${h})`);var ee="return "+Q;this.async&&(ee="generator"==this.type?`return $B.async_generator.$factory(${h})`:"return $B.make_async("+Q+")"),e.parent.insert(t+z++,$NodeJS(ee+"}")),e.parent.insert(t+z++,$NodeJS(this.func_name+" = "+this.name+"$"+this.num+"("+this.default_str+")")),e.parent.insert(t+z++,$NodeJS(f+".$set_defaults = function(value){\nreturn "+f+" = "+this.name+"$"+this.num+"(value)}")),this.$has_yield_in_cm&&e.parent.insert(t+z++,$NodeJS(`${f}.$has_yield_in_cm = true`))}for(var te=e,re=0;re<te.children.length&&te.children[re]!==$B.last(y);re++);var ne=$NodeJS("try"),oe=te.children.slice(re+1);for(var ie of(te.insert(re+1,ne),oe))if(ie.is_def_func)for(var ae of ie.children)ne.add(ae);else ne.add(ie);te.children.splice(re+2,te.children.length);var se=$NodeJS("catch(err)");return se.add($NodeJS("$B.set_exc(err)")),se.add($NodeJS("if((! err.$in_trace_func) && $locals.$f_trace !== _b_.None){\n$locals.$f_trace = $B.trace_exception()}")),se.add($NodeJS("$B.leave_frame({$locals});throw err")),te.add(se),this.transformed=!0,z}},$DefCtx.prototype.to_js=function(e){return this.js_processed=!0,this.is_comp?"var "+this.name+" = "+(this.async?" async ":"")+"function* (_expr)":(e=e||this.tree[0].to_js(),this.decorated&&(e="var "+this.alias),"var "+this.name+"$"+this.num+" = function($defaults){\n"+(this.async?"async ":"")+"function"+("generator"==this.type?"* ":" ")+this.name+this.num+"("+this.params+")")};var $DelCtx=$B.parser.$DelCtx=function(e){this.type="del",this.parent=e,e.tree.push(this),this.tree=[]};$DelCtx.prototype.ast=function(){var e;if("list_or_tuple"==this.tree[0].type)e=this.tree[0].tree.map(ast_or_obj);else{if("expr"==this.tree[0].type&&"list_or_tuple"==this.tree[0].tree[0].type){for(var t of((e=ast_or_obj(this.tree[0].tree[0])).ctx=new ast.Del,e.elts))t.ctx=new ast.Del;return new ast.Delete([e])}e=[ast_or_obj(this.tree[0].tree[0])]}for(var r of e)r.ctx=new ast.Del;return new ast.Delete(e)},$DelCtx.prototype.toString=function(){return"del "+this.tree},$DelCtx.prototype.transition=function(e,t){var r=this;if("eol"==e)return check_assignment(this.tree[0],{action:"delete"}),$transition(r.parent,e);$_SyntaxError(r,"token "+e+" after "+r)},$DelCtx.prototype.to_js=function(){this.js_processed=!0;var e=this.parent;if("list_or_tuple"==this.tree[0].type){var t=[];for(var r of this.tree[0].tree){var n=new $DelCtx(e);n.tree=[r],t.push(n.to_js()),e.tree.pop()}return this.tree=[],t.join(";")}if("expr"==this.tree[0].type&&"list_or_tuple"==this.tree[0].tree[0].type)return this.tree[0]=this.tree[0].tree[0],this.to_js();var o=this.tree[0].tree[0];switch(o.type){case"id":var i=$get_scope(this),a=!1;if(("def"==i.ntype||"generator"==i.ntype)&&i.globals&&i.globals.has(o.value)){for(i=i.parent;i.parent&&"__builtins__"!==i.parent.id;)i=i.parent;a=!0}return t='$B.$delete("'+o.value+'"'+(a?', "global"':"")+");",delete i.binding[o.value],t;case"list_or_tuple":for(var r of(t=[],o.tree))t.push("delete "+r.to_js());return t.join(";");case"sub":return o.func="delitem",js=o.to_js(),o.func="getitem",js;case"attribute":return"_b_.delattr("+o.value.to_js()+',"'+o.name+'")';default:$_SyntaxError(this,["cannot delete "+o.type])}};var DictCompCtx=function(e){"expr"==e.tree[0].type&&e.tree[0].tree[0].comprehension&&(e.tree[0].tree[0].parent_block=this),this.type="dictcomp",this.comprehension=!0,this.parent=e.parent,this.key=e.tree[0],this.value=e.tree[1],this.key.parent=this,this.value.parent=this,this.tree=[],this.binding={},this.id="dictcomp"+$B.UUID(),this.parent_block=$get_scope(e),this.module=$get_module(e).module,e.parent.tree[e.parent.tree.length-1]=this,this.type="dictcomp",Comprehension.make_comp(this,e)};DictCompCtx.prototype.ast=function(){return new ast.DictComp(ast_or_obj(this.key),ast_or_obj(this.value),Comprehension.generators(this.tree))},DictCompCtx.prototype.transition=function(e,t){if("}"==e)return this.has_await=Comprehension.has_await(this),this.parent;$_SyntaxError(this,"token "+e+"after list comp")},DictCompCtx.prototype.to_js=function(){var e=$get_node(this).get_indent(),t=this.id,r=this.tree[0],n=r.tree[1].to_js();r.comp_body=!0,r.iterable_is_outermost=!0,this.module.replace(/\./g,"_");var o=`(${this.has_await?"async ":""}function(expr){`+Comprehension.admin_infos(this)+`\nvar $result_${t} = $B.empty_dict()\n`;o+=r.to_js(e);for(var i=-1,a=1;a<this.tree.length;a++){i++;var s=this.tree[a];"for"==s.type?(s.comp_body=!0,o+="\n"+s.to_js(e+i)):"condition"==s.type&&"if"==s.token&&(o+="\n"+" ".repeat(12+4*i)+s.to_js()+"{")}var l=Comprehension.has_await(this.value);for(o+="\n"+" ".repeat(16+4*i)+(l?"var save_stack = $B.save_stack();\n":"")+`try{\n  _b_.dict.$setitem($result_${t}, ${this.key.to_js()}, `+`${this.value.to_js()})\n}catch(err){\n`+(l?"$B.restore_stack(save_stack, $locals);":"")+"$B.leave_frame($locals)\n  throw err\n}"+(l?"$B.restore_stack(save_stack, $locals);":""),a=0;a<this.tree.length;a++)o+="\n"+" ".repeat(12+4*i--)+"}";return o+="\n$B.leave_frame({$locals, value: _b_.None})",(o+=`\nreturn $result_${t}`)+`\n}\n)(${n})`};var $DictOrSetCtx=$B.parser.$DictOrSetCtx=function(e){this.type="dict_or_set",this.real="dict_or_set",this.expect="id",this.closed=!1,this.start=$pos,this.parent=e,this.tree=[],e.tree[e.tree.length]=this};$DictOrSetCtx.prototype.ast=function(){if("dict"==this.real){for(var e=[],t=[],r=0,n=this.items.length;r<n;r++)this.items[r].packed?(e.push(_b_.None),t.push(ast_or_obj(this.items[r]))):(e.push(ast_or_obj(this.items[r])),t.push(ast_or_obj(this.items[r+1])),r++);return new ast.Dict(e,t)}return"set"==this.real?new ast.Set(this.items.map(ast_or_obj)):this},$DictOrSetCtx.prototype.toString=function(){switch(this.real){case"dict":return"(dict) {"+this.items+"}";case"set":return"(set) {"+this.tree+"}"}return"(dict_or_set) {"+this.tree+"}"},$DictOrSetCtx.prototype.transition=function(e,t){var r=this;if(r.closed){switch(e){case"[":return new $AbstractExprCtx(new $SubCtx(r.parent),!1);case"(":return new $CallArgCtx(new $CallCtx(r.parent))}return $transition(r.parent,e,t)}if(","==r.expect){switch(e){case"}":switch(r.real){case"dict_or_set":if(1!=r.tree.length)break;r.real="set";case"set":return r.items=r.tree,r.tree=[],r.closed=!0,r;case"dict":return"abstract_expr"==$B.last(this.tree).type?$_SyntaxError(r,["expression expected after dictionary key and ':'"]):r.nb_dict_items()%2!=0&&$_SyntaxError(r,["':' expected after dictionary key"]),r.items=r.tree,r.tree=[],r.closed=!0,r}$_SyntaxError(r,"token "+e+" after "+r);case",":return"dict_or_set"==r.real&&(r.real="set"),"dict"==r.real&&r.nb_dict_items()%2&&$_SyntaxError(r,["':' expected after dictionary key"]),r.expect="id",r;case":":if("dict_or_set"==r.real&&(r.real="dict"),"dict"==r.real)return r.expect="value",r.value_pos=$pos,r;$_SyntaxError(r,"token "+e+" after "+r);case"for":return"set"==r.real&&r.tree.length>1&&(r.$pos=r.tree[0].$pos,$_SyntaxError(r,["did you forget parentheses around the comprehension target?"])),"dict_or_set"==r.real?new $TargetListCtx(new $ForExpr(new SetCompCtx(this))):new $TargetListCtx(new $ForExpr(new DictCompCtx(this)))}$_SyntaxError(r,"token "+e+" after "+r)}else if("id"==r.expect){switch(e){case"}":return 0==r.tree.length?(r.items=[],r.real="dict"):r.items=r.tree,r.tree=[],r.closed=!0,r;case"id":case"imaginary":case"int":case"float":case"str":case"JoinedStr":case"bytes":case"[":case"(":case"{":case".":case"not":case"lambda":r.expect=",";var n=new $AbstractExprCtx(r,!1);return $transition(n,e,t);case"op":switch(t){case"*":case"**":return r.expect=",",(n=new $AbstractExprCtx(r,!1)).packed=t.length,"dict_or_set"==r.real?r.real="*"==t?"set":"dict":("set"==r.real&&"**"==t||"dict"==r.real&&"*"==t)&&$_SyntaxError(r,"token "+e+" after "+r),n;case"+":return r;case"-":case"~":r.expect=",";var o=new $UnaryCtx(r,t);if("-"==t)var i=new $OpCtx(o,"unary_neg");else i=new $OpCtx(o,"+"==t?"unary_pos":"unary_inv");return new $AbstractExprCtx(i,!1)}$_SyntaxError(r,"token "+e+" after "+r)}$_SyntaxError(r,"token "+e+" after "+r)}else if("value"==r.expect)try{return r.expect=",",$transition(new $AbstractExprCtx(r,!1),e,t)}catch(e){r.$pos=r.value_pos,$_SyntaxError(r,["expression expected after dictionary key and ':'"])}return $transition(r.parent,e,t)},$DictOrSetCtx.prototype.nb_dict_items=function(){var e=0;for(var t of this.tree)t.packed?e+=2:e++;return e},$DictOrSetCtx.prototype.packed_indices=function(){var e=[];return this.items.forEach((function(t,r){"expr"==t.type&&t.packed&&e.push(r)})),e},$DictOrSetCtx.prototype.unpack_dict=function(e){for(var t,r,n,o="",i=0;i<this.items.length;)r=0==i,"expr"==(n=this.items[i]).type&&n.packed?(t="_b_.list.$factory(_b_.dict.items("+n.to_js()+"))",i++):(void 0===this.items[i+1]&&console.log("stack",$B.frames_stack.slice(),"this.items",this.items,"i",i),t="[["+n.to_js()+","+this.items[i+1].to_js()+"]]",i+=2),r||(t=".concat("+t+")"),o+=t;return o},$DictOrSetCtx.prototype.unpack_set=function(e){var t,r="";return this.items.forEach((function(n,o){t=e.indexOf(o)>-1?"_b_.list.$factory("+n.to_js()+")":"["+n.to_js()+"]",o>0&&(t=".concat("+t+")"),r+=t})),r},$DictOrSetCtx.prototype.to_js=function(){this.js_processed=!0;var e=this.packed_indices();if("dict"==this.real){if(e.length>0)return"_b_.dict.$factory("+this.unpack_dict(e)+")"+$to_js(this.tree);for(var t=[],r=0;r<this.items.length;r+=2)t.push("["+this.items[r].to_js()+","+this.items[r+1].to_js()+"]");return"_b_.dict.$factory(["+t.join(",")+"])"+$to_js(this.tree)}return e.length>0?"_b_.set.$factory("+this.unpack_set(e)+")":"_b_.set.$factory(["+$to_js(this.items)+"])"+$to_js(this.tree)};var $DoubleStarArgCtx=$B.parser.$DoubleStarArgCtx=function(e){this.type="double_star_arg",this.parent=e,this.tree=[],e.tree[e.tree.length]=this};$DoubleStarArgCtx.prototype.toString=function(){return"**"+this.tree},$DoubleStarArgCtx.prototype.transition=function(e,t){var r=this;switch(e){case"id":case"imaginary":case"int":case"float":case"str":case"JoinedStr":case"bytes":case"[":case"(":case"{":case".":case"not":case"lambda":return $transition(new $AbstractExprCtx(r,!1),e,t);case",":case")":return $transition(r.parent,e);case":":if("lambda"==r.parent.parent.type)return $transition(r.parent.parent,e)}$_SyntaxError(r,"token "+e+" after "+r)},$DoubleStarArgCtx.prototype.to_js=function(){return this.js_processed=!0,'{$nat:"pdict",arg:'+$to_js(this.tree)+"}"};var $EllipsisCtx=$B.parser.$EllipsisCtx=function(e){this.type="ellipsis",this.parent=e,this.start=$pos,e.tree[e.tree.length]=this};$EllipsisCtx.prototype.ast=function(){return new ast.Constant({type:"ellipsis"})},$EllipsisCtx.prototype.toString=function(){return"ellipsis"},$EllipsisCtx.prototype.transition=function(e,t){return $transition(this.parent,e,t)},$EllipsisCtx.prototype.to_js=function(){return this.js_processed=!0,'$B.builtins["Ellipsis"]'};var $EndOfPositionalCtx=$B.parser.$EndOfConditionalCtx=function(e){this.type="end_positional",this.parent=e,e.has_end_positional=!0,e.parent.pos_only=e.tree.length,e.tree.push(this)};$EndOfPositionalCtx.prototype.transition=function(e,t){var r=this;if(","==e||")"==e)return $transition(r.parent,e,t);$_SyntaxError(r,"token "+e+" after "+r)},$EndOfPositionalCtx.prototype.to_js=function(){return"/"};var $ExceptCtx=$B.parser.$ExceptCtx=function(e){this.type="except",this.parent=e,e.tree[e.tree.length]=this,this.tree=[],this.expect="id",this.scope=$get_scope(this)};$ExceptCtx.prototype.ast=function(){return new ast.ExceptHandler(1==this.tree.length?ast_or_obj(this.tree[0]):void 0,this.has_alias?this.tree[0].alias:void 0,ast_body(this.parent))},$ExceptCtx.prototype.toString=function(){return"(except) "},$ExceptCtx.prototype.transition=function(e,t){var r=this;switch(e){case"id":case"imaginary":case"int":case"float":case"str":case"JoinedStr":case"bytes":case"[":case"(":case"{":case"not":case"lambda":if("id"==r.expect)return r.expect="as",$transition(new $AbstractExprCtx(r,!1),e,t);case"as":if("as"==r.expect&&void 0===r.has_alias)return r.expect="alias",r.has_alias=!0,r;case"id":if("alias"==r.expect)return r.expect=":",r.set_alias(t),r;break;case":":var n=r.expect;if("id"==n||"as"==n||":"==n)return $BodyCtx(r);break;case"(":if("id"==r.expect&&0==r.tree.length)return r.parenth=!0,r;break;case")":if(","==r.expect||"as"==r.expect)return r.expect="as",r;case",":if(void 0!==r.parenth&&void 0===r.has_alias&&("as"==r.expect||","==r.expect))return r.expect="id",r;void 0===r.parenth&&$_SyntaxError(r,["multiple exception types must be parenthesized"])}console.log("error",r,e),$_SyntaxError(r,"token "+e+" after "+r.expect)},$ExceptCtx.prototype.set_alias=function(e){this.tree[0].alias=$mangle(e,this),$bind(e,this.scope,this)},$ExceptCtx.prototype.transform=function(e,t){var r=$NodeJS("void(0)");r.line_num=e.line_num,e.insert(0,r);var n=$B.last(e.children);n.C.tree&&n.C.tree[0]&&"return"==n.C.tree[0].type||e.add($NodeJS("$B.del_exc()"))},$ExceptCtx.prototype.to_js=function(){switch(this.js_processed=!0,this.tree.length){case 0:return"else";case 1:if("Exception"==this.tree[0].name)return"else if(1)"}var e=[];for(var t of this.tree)e.push(t.to_js());var r="";if($B.debug>0){var n=$get_module(this);r='($locals.$line_info = "'+$get_node(this).line_num+","+n.id+'") && '}return"else if("+r+"$B.is_exc("+this.error_name+",["+e.join(",")+"]))"};var $ExprCtx=$B.parser.$ExprCtx=function(e,t,r){this.type="expr",this.name=t,this.$pos=$pos,this.with_commas=r,this.expect=",",this.parent=e,e.packed&&(this.packed=e.packed),this.tree=[],e.tree[e.tree.length]=this};$ExprCtx.prototype.ast=function(){var e=ast_or_obj(this.tree[0]);if(this.packed);else if(this.annotation)return new ast.AnnAssign(e,ast_or_obj(this.annotation.tree[0]),void 0,1);return e},$ExprCtx.prototype.toString=function(){return"(expr "+this.with_commas+") "+this.tree},$ExprCtx.prototype.transition=function(e,t){var r=this;switch(python_keywords.indexOf(e)>-1&&-1==["as","else","if","for","from","in"].indexOf(e)&&(r.$pos=$pos,$_SyntaxError(r,`'${e}' after expression`)),e){case"bytes":case"float":case"id":case"imaginary":case"int":case"lambda":case"pass":case"str":case"JoinedStr":"dict_or_set"==r.parent.type&&","==r.parent.expect&&$_SyntaxError(r,["invalid syntax. Perhaps you forgot a comma?"]),$_SyntaxError(r,"token "+e+" after "+r);break;case"{":return"id"==r.tree[0].type&&-1!=["print","exec"].indexOf(r.tree[0].value)||$_SyntaxError(r,"token "+e+" after "+r),new $DictOrSetCtx(r);case"[":case"(":case".":case"not":if("expr"==r.expect)return r.expect=",",$transition(new $AbstractExprCtx(r,!1),e,t)}switch(e){case"not":if(","==r.expect)return new $ExprNot(r);break;case"in":if("target_list"==r.parent.type)return $transition(r.parent,e);if(","==r.expect)return $transition(r,"op","in");case",":if(","==r.expect&&(r.with_commas||["assign","return"].indexOf(r.parent.type)>-1)){$parent_match(r,{type:"yield",from:!0})&&$_SyntaxError(r,"no implicit tuple for yield from"),r.parent.tree.pop();var n=new $ListOrTupleCtx(r.parent,"tuple");return n.implicit=!0,n.has_comma=!0,n.tree=[r],r.parent=n,n}return $transition(r.parent,e);case".":return new $AttrCtx(r);case"[":return new $AbstractExprCtx(new $SubCtx(r),!0);case"(":return new $CallCtx(r);case"op":var o=r.parent,i=t;if("ternary"==o.type&&o.in_else){var a=new $OpCtx(r,i);return new $AbstractExprCtx(a,!1)}for(var s=r.parent,l=null;;)if("unary"==s.type&&"**"!==i)l=s,s=s.parent;else if("expr"==s.type)s=s.parent;else if("op"==s.type&&$op_weight[s.op]>=$op_weight[i]&&("**"!=s.op||"**"!=i))l=s,s=s.parent;else{if(!("not"==s.type&&$op_weight.not>$op_weight[i]))break;l=s,s=s.parent}if(null===l){if("op"==s.type){var _=s.tree.pop();return(c=new $ExprCtx(s,"operand",r.with_commas)).tree.push(_),_.parent=c,a=new $OpCtx(c,i),new $AbstractExprCtx(a,!1)}for(;r.parent!==s;)o=(r=r.parent).parent;var c;return r.parent.tree.pop(),(c=new $ExprCtx(o,"operand",r.with_commas)).expect=",",r.parent=c,a=new $OpCtx(r,i),new $AbstractExprCtx(a,!1)}if("and"===i||"or"===i)for(;"not"==l.parent.type||"expr"==l.parent.type&&"not"==l.parent.parent.type;)o=(l=l.parent).parent;if("op"==l.type){var u=!1;switch(l.op){case"<":case"<=":case"==":case"!=":case"is":case">=":case">":u=!0}if(u)switch(i){case"<":case"<=":case"==":case"!=":case"is":case">=":case">":case"in":case"not_in":return l.ops=l.ops||[l.op],l.ops.push(i),new $AbstractExprCtx(l,!1)}}return l.parent.tree.pop(),(c=new $ExprCtx(l.parent,"operand",!1)).tree=[s],l.parent=c,a=new $OpCtx(l,i),new $AbstractExprCtx(a,!1);case"augm_assign":for(var f=r;f;)"assign"==f.type||"augm_assign"==f.type?$_SyntaxError(r,"augmented assignment inside assignment"):"op"==f.type?$_SyntaxError(r,["cannot assign to operator"]):"list_or_tuple"==f.type?$_SyntaxError(r,[`'${f.real}' is an illegal expression for augmented assignment`]):["list","tuple"].indexOf(f.name)>-1?$_SyntaxError(r,[`'${f.name}' is an illegal expression for augmented assignment`]):["dict_or_set"].indexOf(f.name)>-1&&$_SyntaxError(r,[`'${f.tree[0].real} display' is an illegal expression for augmented assignment`]),f=f.parent;return","==r.expect?new $AbstractExprCtx(new $AugmentedAssignCtx(r,t),!0):$transition(r.parent,e,t);case":":if("sub"==r.parent.type||"list_or_tuple"==r.parent.type&&"sub"==r.parent.parent.type)return new $AbstractExprCtx(new $SliceCtx(r.parent),!1);if("slice"==r.parent.type)return $transition(r.parent,e,t);if("node"==r.parent.type){if(1==r.tree.length){var p=r.tree[0];if(check_assignment(p),["id","sub","attribute"].indexOf(p.type)>-1)return new $AbstractExprCtx(new $AnnotationCtx(r),!1);if("tuple"==p.real&&","==p.expect&&1==p.tree.length)return new $AbstractExprCtx(new $AnnotationCtx(p.tree[0]),!1)}$_SyntaxError(r,"invalid target for annotation")}break;case"=":var d;if(","==r.expect){if("call_arg"==r.parent.type)return"id"!=r.tree[0].type&&$_SyntaxError(r,['expression cannot contain assignment, perhaps you meant "=="?']),new $AbstractExprCtx(new $KwArgCtx(r),!0);if(d=function(e,t){for(;e.parent;){if("annotation"==e.parent.type)return e.parent;e=e.parent}return!1}(r))return $transition(d,e,t);if("op"==r.parent.type)$_SyntaxError(r,["cannot assign to operator"]);else if("not"==r.parent.type)$_SyntaxError(r,["cannot assign to operator"]);else if("with"==r.parent.type)$_SyntaxError(r,["expected :"]);else if("list_or_tuple"==r.parent.type)for(var h=0;h<r.parent.tree.length;h++){var m=r.parent.tree[h];"expr"==m.type&&"operand"==m.name&&$_SyntaxError(r,["cannot assign to operator"])}else"expr"==r.parent.type&&"iterator"==r.parent.name?$_SyntaxError(r,["expected :"]):"lambda"==r.parent.type?"node"!=r.parent.parent.parent.type&&$_SyntaxError(r,['expression cannot contain assignment, perhaps you meant "=="?']):"target_list"==r.parent.type&&$_SyntaxError(r,"assign to target in iteration");for(;void 0!==r.parent;)"condition"==(r=r.parent).type?$_SyntaxError(r,["invalid syntax. Maybe you meant '==' or ':=' instead of '='?"]):"augm_assign"==r.type&&$_SyntaxError(r,"assignment inside augmented assignment");return r=r.tree[0],new $AbstractExprCtx(new $AssignCtx(r),!0)}break;case":=":var g=r.parent.type;if(["node","assign","kwarg","annotation"].indexOf(g)>-1||"func_arg_id"==g&&r.parent.tree.length>0?$_SyntaxError(r,":= invalid, parent "+g):"call_arg"==g&&"call"==r.parent.parent.type&&"lambda"==r.parent.parent.parent.type&&$_SyntaxError(r,":= invalid inside function arguments"),1==r.tree.length&&"id"==r.tree[0].type){var $=$get_scope(r),v=r.tree[0].value;for(["None","True","False"].indexOf(v)>-1?$_SyntaxError(r,[`cannot use assignment expressions with ${v}`]):"__debug__"==v&&$_SyntaxError(r,["cannot assign to __debug__"]);$.comprehension;)$=$.parent_block;return r.tree[0].binding_scope=$bind(v,$,r),new $AbstractExprCtx(new NamedExprCtx(r),!1)}$_SyntaxError(r,"token "+e+" after "+r);case"if":for(var b=!1,y=r.parent;y;){if(y.comprehension){b=!0;break}if("list_or_tuple"==y.type)break;if("comp_for"==y.type)break;if("comp_if"==y.type){b=!0;break}if("call_arg"==y.type||"sub"==y.type)break;if("expr"==y.type&&"comp_iterable"==y.parent.type){b=!0;break}y=y.parent}if(b)break;for(y=r;y.parent&&("op"==y.parent.type||"not"==y.parent.type||"unary"==y.parent.type||"expr"==y.parent.type&&"operand"==y.parent.name);)y=y.parent;return new $AbstractExprCtx(new $TernaryCtx(y),!0);case"eol":if(2==r.tree.length&&"id"==r.tree[0].type&&["print","exec"].indexOf(r.tree[0].value)>-1&&$_SyntaxError(r,["Missing parentheses in call to '"+r.tree[0].value+"'."]),-1==["dict_or_set","list_or_tuple","str"].indexOf(r.parent.type)){var x=r.tree[0];"packed"==x.type?($pos=x.pos,$_SyntaxError(r,["can't use starred expression here"])):"call"==x.type&&"packed"==x.func.type&&($pos=x.func.pos,$_SyntaxError(r,["can't use starred expression here"]))}}return $transition(r.parent,e)},$ExprCtx.prototype.to_js=function(e){var t;return this.js_processed=!0,"list"==this.type?t="["+$to_js(this.tree)+"]":1==this.tree.length?(void 0===this.tree[0].to_js&&console.log("pas de to_js",this),t=this.tree[0].to_js(e)):t="_b_.tuple.$factory(["+$to_js(this.tree)+"])",this.is_await&&(t="await ($B.promise("+t+"))"),"call"==this.name&&(t+="()"),t};var $ExprNot=$B.parser.$ExprNot=function(e){this.type="expr_not",this.parent=e,this.tree=[],e.tree[e.tree.length]=this};$ExprNot.prototype.transition=function(e,t){var r=this;if("in"==e){r.parent.tree.pop();for(var n=r.parent;"expr"!==n.type;)n=n.parent;return n.transition("op","not_in")}$_SyntaxError(r,"token "+e+" after "+r)},$ExprNot.prototype.toString=function(){return"(expr_not)"};var $ForExpr=$B.parser.$ForExpr=function(e){e.node&&e.node.parent.is_comp&&(e.node.parent.first_for=this),this.type="for",this.parent=e,this.tree=[],e.tree.push(this),this.loop_num=$loop_num,this.scope=$get_scope(this),this.scope.is_comp,this.module=this.scope.module,$loop_num++};function tg_to_js(e,t,r){if("simple"==e.type){var n,o=e.item,i=r?e.starred?`${t}.read_rest()`:`${t}.read_one()`:e.starred?`$B.read_rest(${t})`:t;switch(o.type){case"id":n=`${o.to_js()} = ${i}`;break;case"sub":n="$B.$setitem("+o.value.to_js()+", "+o.tree[0].to_js()+", "+i+")";break;case"attribute":n="$B.$setattr("+o.value.to_js()+', "'+o.name+'", '+i+")";break;case"packed":n=o.tree[0].to_js()+(unpacked?" = $next_${id}.read_rest()":" = $B.rest_iter($next_${id})");break;default:console.log("-- unexpected target type",o.type,o)}if(n)return n+"\n"}else{var a=$B.UUID(),s=`try{\n var $next_${a} = $B.unpacker(${r?`${t}.read_one()`:t}, ${e.items.length}, ${!!$B.last(e.items).starred})\n}catch(err){\n console.log("erreur");$B.leave_frame($locals); throw err\n}\n`;for(var o of e.items)s+=tg_to_js(o,`$next_${a}`,!0)}return s+"\n"}function make_target(e){if("expr"==e.type)return make_target(e.tree[0]);if(void 0===e.tree||0==e.tree.length)var t={type:"simple",item:e};else if(e.tree.length>1||e.implicit_tuple)t={type:"tuple",items:e.tree.map(make_target)};else if("list_or_tuple"==e.tree[0].type)t={type:"tuple",items:e.tree[0].tree.map(make_target)};else{var r=e.tree[0];"expr"==r.type&&(r=r.tree[0]),t={type:"simple",item:r},e.packed?(t=make_target(e.tree[0])).starred=!0:"packed"==e.tree[0].type&&((t=make_target(e.tree[0].tree[0])).starred=!0)}return t}$ForExpr.prototype.ast=function(){var e=ast_or_obj(this.tree[0]),t=ast_or_obj(this.tree[1]),r=this.orelse?ast_or_obj(this.orelse):[],n=ast_body(this.parent);return new ast.For(e,t,n,r,void 0)},$ForExpr.prototype.toString=function(){return"(for) "+this.tree},$ForExpr.prototype.transition=function(e,t){var r=this;switch(e){case"in":for(var n of(r.tree[0].tree,r.tree[0].tree))if(check_assignment(n.tree[0]),"id"==n.tree[0].type){var o=n.tree[0];$bind(o.value,this.scope,o)}return 0==r.tree[0].tree.length&&$_SyntaxError(r,"missing target between 'for' and 'in'"),new $AbstractExprCtx(new $ExprCtx(r,"iterator",!0),!1);case":":return(r.tree.length<2||"abstract_expr"==r.tree[1].tree[0].type)&&$_SyntaxError(r,"token "+e+" after "+r),$BodyCtx(r)}if(this.parent.comprehension)switch(e){case"]":if("listcomp"==this.parent.type)return $transition(this.parent,e,t);break;case")":if("genexpr"==this.parent.type)return $transition(this.parent,e,t);break;case"}":if("dictcomp"==this.parent.type||"setcomp"==this.parent.type)return $transition(this.parent,e,t);break;case"for":return new $TargetListCtx(new $ForExpr(this.parent));case"if":var i=new $ConditionCtx(this.parent,"if");return i.in_comp=!0,new $AbstractExprCtx(i,!1)}$_SyntaxError(r,"token "+e+" after "+r)},$ForExpr.prototype.to_js=function(e){this.js_processed=!0;var t=$get_node(this),r=(e=e||t.get_indent(),this.tree[0].tree,this.tree[1]),n=$B.UUID();if(void 0===t.module)var o=$get_module(this).module;else o=t.module;o=o.replace(/\./g,"_");var i=tg_to_js(make_target(this.tree[0]),`$next_${n}`),a=this.iterable_is_outermost?"expr":r.to_js(),s=this.comp_body?"":`var $no_break${this.loop_num} = true\n`;this.async?s+=`var $iter_${n} = ${a}\nvar $type_${n} = _b_.type.$factory($iter_${n})\n$iter_${n} = $B.$call($B.$getattr($type_${n}, "__aiter__"))($iter_${n})\nvar $next_func_${n} = $B.$call($B.$getattr($type_${n}, '__anext__'))\nwhile(true){\n  try{\n    var $next_${n} = await $B.promise($next_func_${n}($iter_${n}))\n  }catch(err){\n    if($B.is_exc(err, [_b_.StopAsyncIteration])){\nbreak}\n    else{\n$B.leave_frame({$locals, value: _b_.None});throw err}\n  }\n`:s+=`var $next_func_${n} = $B.next_of(${a})\nwhile(true){\n  try{\n    var $next_${n} = $next_func_${n}()\n  }catch(err){\n    if($B.is_exc(err, [_b_.StopIteration])){\nbreak}\n    else{\n$B.leave_frame({$locals, value: _b_.None});throw err}\n  }\n`;var l="";if(!this.comp_body){for(var _ of t.children)l+="\n"+_.to_js();l+=`;$locals.$line_info = "${t.line_num},${o}";if($locals.$f_trace !== _b_.None){$B.trace_line()};_b_.None;`,l+="\n}\n",t.children=[]}return(s+i+l).split("\n").map((t=>"    ".repeat(e)+t)).join("\n")};var $FromCtx=$B.parser.$FromCtx=function(e){this.type="from",this.parent=e,this.module="",this.names=[],e.tree[e.tree.length]=this,this.expect="module",this.scope=$get_scope(this)};$FromCtx.prototype.ast=function(){for(var e=this.module,t=0;e.length>0&&e.startsWith(".");)t++,e=e.substr(1);var r={module:e||void 0,names:[],level:t};for(var n of this.names)Array.isArray(n)?r.names.push(new ast.alias(n[0],n[1])):r.names.push(new ast.alias(n));return new ast.ImportFrom(r.module,r.names,r.level)},$FromCtx.prototype.add_name=function(e){this.names[this.names.length]=e,"*"==e&&(this.scope.blurred=!0)},$FromCtx.prototype.bind_names=function(){var e=$get_scope(this);for(var t of this.names)Array.isArray(t)&&(t=t[1]),$bind(t,e,this)},$FromCtx.prototype.transition=function(e,t){var r=this;switch(e){case"id":if("id"==r.expect)return r.add_name(t),r.expect=",",r;if("alias"==r.expect)return r.names[r.names.length-1]=[$B.last(r.names),t],r.expect=",",r;case".":if("module"==r.expect)return r.module+="id"==e?t:".",r;case"import":if(r.names.length>0&&$_SyntaxError(r,["only one 'import' allowed after 'from'"]),"module"==r.expect)return r.expect="id",r;case"op":if("*"==t&&"id"==r.expect&&0==r.names.length)return"module"!==$get_scope(r).ntype&&$_SyntaxError(r,["import * only allowed at module level"]),r.add_name("*"),r.expect="eol",r;case",":if(","==r.expect)return r.expect="id",r;case"eol":switch(r.expect){case",":case"eol":return r.bind_names(),$transition(r.parent,e);case"id":$_SyntaxError(r,["trailing comma not allowed without surrounding parentheses"]);default:$_SyntaxError(r,["invalid syntax"])}case"as":if(","==r.expect||"eol"==r.expect)return r.expect="alias",r;case"(":if("id"==r.expect)return r.expect="id",r;case")":if(","==r.expect||"id"==r.expect)return r.expect="eol",r}$_SyntaxError(r,"token "+e+" after "+r)},$FromCtx.prototype.toString=function(){return"(from) "+this.module+" (import) "+this.names},$FromCtx.prototype.to_js=function(){this.js_processed=!0;var e=$get_scope(this),t=$get_module(this),r=t.module,n=[],o=0,i=$get_node(this).indent,a=" ".repeat(i);if(r.startsWith("$exec")){var s=$B.last($B.frames_stack)[1];s.module&&s.module.__name__&&(r=s.module.__name__)}for(var l=this.module.split("."),_=0;_<l.length;_++)t.imports[l.slice(0,_+1).join(".")]=!0;for(var c,u=this.module.replace(/\$/g,""),f=[];u.length>0&&"."==u.charAt(0);){if(void 0===c?void 0!==$B.imported[r]&&(f=(c=$B.imported[r].__package__).split(".")):(c=$B.imported[c],f.pop()),void 0===c)return"throw _b_.SystemError.$factory(\"Parent module '' not loaded, cannot perform relative import\")";"None"===c&&console.log("package is None !"),u=u.substr(1)}u&&f.push(u),this.module=f.join(".");var p=this.module.replace(/\$/g,"");n[o++]='var module = $B.$import("',n[o++]=p+'",["';for(var d=[],h=(_=0,this.names.length);_<h;_++)Array.isArray(this.names[_])?d.push(this.names[_][0]):d.push(this.names[_]);n[o++]=d.join('","')+'"], {';var m="";for(var g in this.aliases)n[o++]=m+'"'+g+'": "'+this.aliases[g]+'"',m=",";if(n[o++]="}, {}, true);","*"==this.names[0])e.blurred=!0,n[o++]="\n"+a+"$B.import_all($locals, module);";else for(var $ of this.names){var v=$;Array.isArray($)&&(v=$[1],$=$[0]),t.imports[this.module+"."+$]=!0,n[o++]="\n"+a+'$locals["'+v+'"] = $B.$getattr($B.imported["'+p+'"], "'+$+'");'}return n[o++]="\n"+a+"_b_.None;",n.join("")};var $FuncArgs=$B.parser.$FuncArgs=function(e){this.type="func_args",this.parent=e,this.tree=[],this.names=[],e.tree[e.tree.length]=this,this.expect="id",this.has_default=!1,this.has_star_arg=!1,this.has_kw_arg=!1};$FuncArgs.prototype.ast=function(){var e,t={posonlyargs:[],args:[],kwonlyargs:[],kw_defaults:[],defaults:[]},r="arg";for(var n of this.tree)if("end_positional"==n.type)t.posonlyargs=t.args,t.args=[];else if("func_star_arg"==n.type)r="kwonly","*"==n.op&&"*"!=n.name?t.vararg=new ast.arg(n.name):"**"==n.op&&(t.kwarg=new ast.arg(n.name));else{e=!1,n.has_default&&(e=ast_or_obj(n.tree[0]));var o=new ast.arg(n.name);n.annotation&&(o.annotation=ast_or_obj(n.annotation.tree[0])),"kwonly"==r?(t.kwonlyargs.push(o),e?t.kw_defaults.push(e):t.kw_defaults.push(_b_.None)):(t.args.push(o),e&&t.defaults.push(e))}return new ast.arguments(t.posonlyargs,t.args,t.vararg,t.kwonlyargs,t.kw_defaults,t.kwarg,t.defaults)},$FuncArgs.prototype.toString=function(){return"func args "+this.tree},$FuncArgs.prototype.transition=function(e,t){var r=this;function n(){if(0!=r.tree.length){var e=$B.last(r.tree);if(r.has_default&&!e.has_default){if("func_star_arg"==e.type||"end_positional"==e.type)return;if(r.names.indexOf("*")>-1)return;$_SyntaxError(r,["non-default argument follows default argument"])}e.has_default&&(r.has_default=!0)}}switch(e){case"id":return r.has_kw_arg&&$_SyntaxError(r,"duplicate keyword argument"),"id"==r.expect&&(r.expect=",",r.names.indexOf(t)>-1&&$_SyntaxError(r,["duplicate argument "+t+" in function definition"])),new $FuncArgIdCtx(r,t);case",":if(","==r.expect)return n(),r.expect="id",r;$_SyntaxError(r,"token "+e+" after "+r);case")":n();var o=$B.last(r.tree);return o&&"func_star_arg"==o.type&&"*"==o.name&&("*"==r.op?$_SyntaxError(r,["named arguments must follow bare *"]):$_SyntaxError(r,"invalid syntax")),r.parent;case"op":r.has_kw_arg&&$_SyntaxError(r,"duplicate keyword argument");var i=t;if(r.expect=",","*"==i)return r.has_star_arg&&$_SyntaxError(r,"duplicate star argument"),new $FuncStarArgCtx(r,"*");if("**"==i)return new $FuncStarArgCtx(r,"**");if("/"==i)return r.has_end_positional?$_SyntaxError(r,["duplicate / in function parameters"]):r.has_star_arg&&$_SyntaxError(r,["/ after * in function parameters"]),new $EndOfPositionalCtx(r);$_SyntaxError(r,"token "+i+" after "+r);case":":if("lambda"==r.parent.type)return $transition(r.parent,e)}$_SyntaxError(r,"token "+e+" after "+r)},$FuncArgs.prototype.to_js=function(){return this.js_processed=!0,$to_js(this.tree)};var $FuncArgIdCtx=$B.parser.$FuncArgIdCtx=function(e,t){if(this.type="func_arg_id",["None","True","False"].indexOf(t)>-1&&$_SyntaxError(e,"invalid name"),this.name=t,this.parent=e,e.has_star_arg?e.parent.after_star.push(t):e.parent.positional_list.push(t),"lambda"!=e.parent.type){var r=$get_node(this);r.binding.hasOwnProperty(t)&&$_SyntaxError(e,["duplicate argument '"+t+"' in function definition"]),$bind(t,r,this)}this.tree=[],e.tree[e.tree.length]=this;for(var n=e;void 0!==n.parent;){if("def"==n.type){n.locals.push(t);break}n=n.parent}this.expect="="};$FuncArgIdCtx.prototype.toString=function(){return"func arg id "+this.name+"="+this.tree},$FuncArgIdCtx.prototype.transition=function(e,t){var r=this;switch(e){case"=":if("="==r.expect){r.has_default=!0;var n=r.parent.parent;return r.parent.has_star_arg?n.default_list.push(n.after_star.pop()):n.default_list.push(n.positional_list.pop()),new $AbstractExprCtx(r,!1)}break;case",":case")":if(!r.parent.has_default||0!=r.tree.length||void 0!==r.parent.has_star_arg)return $transition(r.parent,e);$pos-=r.name.length,$_SyntaxError(r,["non-default argument follows default argument"]);case":":return"lambda"==r.parent.parent.type?$transition(r.parent.parent,":"):(r.has_default&&$_SyntaxError(r,"token "+e+" after "+r),new $AbstractExprCtx(new $AnnotationCtx(r),!1))}$_SyntaxError(r,"token "+e+" after "+r)},$FuncArgIdCtx.prototype.to_js=function(){return this.js_processed=!0,this.name+$to_js(this.tree)};var $FuncStarArgCtx=$B.parser.$FuncStarArgCtx=function(e,t){this.type="func_star_arg",this.op=t,this.parent=e,this.node=$get_node(this),e.has_star_arg="*"==t,e.has_kw_arg="**"==t,e.tree[e.tree.length]=this};$FuncStarArgCtx.prototype.toString=function(){return"(func star arg "+this.op+") "+this.name},$FuncStarArgCtx.prototype.transition=function(e,t){var r=this;switch(e){case"id":return void 0===r.name&&r.parent.names.indexOf(t)>-1&&$_SyntaxError(r,["duplicate argument "+t+" in function definition"]),["None","True","False"].indexOf(t)>-1&&$_SyntaxError(r,"invalid name"),r.set_name(t),r.parent.names.push(t),r;case",":case")":return void 0===r.name&&(r.set_name("*"),r.parent.names.push("*")),$transition(r.parent,e);case":":return"lambda"==r.parent.parent.type?$transition(r.parent.parent,":"):(void 0===r.name&&$_SyntaxError(r,"annotation on an unnamed parameter"),new $AbstractExprCtx(new $AnnotationCtx(r),!1))}$_SyntaxError(r,"token "+e+" after "+r)},$FuncStarArgCtx.prototype.set_name=function(e){this.name=e,"lambda"!=this.parent.parent.type&&(this.node.binding.hasOwnProperty(e)&&$_SyntaxError(C,["duplicate argument '"+e+"' in function definition"]),$bind(e,this.node,this));for(var t=this.parent;void 0!==t.parent;){if("def"==t.type){t.locals.push(e);break}t=t.parent}"*"==this.op?t.other_args='"'+e+'"':t.other_kw='"'+e+'"'};var GeneratorExpCtx=function(e){this.type="genexpr",this.tree=[e.tree[0]],this.tree[0].parent=this,Comprehension.make_comp(this,e)};GeneratorExpCtx.prototype.ast=function(){return new ast.GeneratorExp(ast_or_obj(this.tree[0]),Comprehension.generators(this.tree.slice(1)))},GeneratorExpCtx.prototype.transition=function(e,t){if(")"==e)return this.has_await=Comprehension.has_await(this),"call"==this.parent.type?this.parent.parent:this.parent;$_SyntaxError(this,"token "+e+"after gen expr")},GeneratorExpCtx.prototype.to_js=function(){var e=$get_node(this),t=e.get_indent(),r=this.id,n=this.tree[0],o=this.tree[1];outmost_expr=o.tree[1].to_js(),o.comp_body=!0,o.iterable_is_outermost=!0;var i=this.module.replace(/\./g,"_"),a=`(${this.has_await?"async ":""}function(expr){\n        var $locals_${r} = {},\n            $locals = $locals_${r}\n        $locals.$line_info = '${e.line_num},${e.module}'\n`+Comprehension.code(this)+`\n        var $top_frame = ["${r}", $locals_${r}, "${this.module}", $locals_${i}]\n        $locals.$f_trace = $B.enter_frame($top_frame)\n        `+`var ${r} = ${this.has_await?"async ":""}function*(expr){\n          var $top_frame = ["${r}", $locals_${r}, "${this.module}", $locals_${i}]\n          $locals.$f_trace = $B.enter_frame($top_frame)\n        `;a+=o.to_js(t);for(var s=-1,l=2;l<this.tree.length;l++){s++;var _=this.tree[l];"for"==_.type?(_.comp_body=!0,a+="\n"+_.to_js(t+s)):"condition"==_.type&&"if"==_.token&&(a+="\n"+" ".repeat(12+4*s)+_.to_js()+"{")}var c=Comprehension.has_await(n);for(a+="\n"+" ".repeat(16+4*s)+(c?"var save_stack = $B.save_stack();\n":"")+`try{\n                var result = ${n.to_js()}\n             }catch(err){\n             `+(c?"$B.restore_stack(save_stack, $locals);":"")+"\n                 $B.leave_frame($locals)\n                 throw err\n             }\n             "+(c?"\n$B.restore_stack(save_stack, $locals);":"")+"\n             try{\n                $B.leave_frame($locals)\n                yield result\n                $B.frames_stack.push($top_frame)\n             }catch(err1){\n                $B.frames_stack.push($top_frame)\n                throw err1\n             }",l=1;l<this.tree.length;l++)a+="\n"+" ".repeat(12+4*s--)+"}";return a+`\n            $B.leave_frame($locals)\n        }\n           $B.leave_frame($locals)\n           return $B.generator.$factory(${r})(expr)\n          }\n          )(${outmost_expr})`};var $GlobalCtx=$B.parser.$GlobalCtx=function(e){for(this.type="global",this.parent=e,this.tree=[],e.tree[e.tree.length]=this,this.expect="id",this.scope=$get_scope(this),this.scope.globals=this.scope.globals||new Set,this.module=$get_module(this);this.module.module!=this.module.id;)this.module=this.module.parent_block;this.module.binding=this.module.binding||{},this.$pos=$pos};function check_global_nonlocal(e,t,r){var n=e.scope;if("nonlocal"==r&&n.globals&&n.globals.has(t)&&$_SyntaxError(e,[`name '${t}' is nonlocal and global`]),"global"==r&&n.nonlocals&&n.nonlocals.has(t)&&$_SyntaxError(e,[`name '${t}' is nonlocal and global`]),["def","generator"].indexOf(n.ntype)>-1){var o=n.C.tree[0];o.locals&&o.locals.indexOf(t)>-1&&$_SyntaxError(e,[`name '${t}' is parameter and ${r}`]),n.binding[t]&&(console.log("scope ntype",n),$_SyntaxError(e,[`name '${t}' is assigned to before ${r} declaration`])),n.referenced&&n.referenced[t]&&$_SyntaxError(e,[`name '${t}' is used prior to ${r} declaration`])}}$GlobalCtx.prototype.ast=function(){return new ast.Global(this.tree.map((e=>e.value)))},$GlobalCtx.prototype.toString=function(){return"global "+this.tree},$GlobalCtx.prototype.transition=function(e,t){var r=this;switch(e){case"id":if("id"==r.expect)return check_global_nonlocal(r,t,"global"),new $IdCtx(r,t),r.add(t),r.expect=",",r;break;case",":if(","==r.expect)return r.expect="id",r;break;case"eol":if(","==r.expect)return $transition(r.parent,e)}$_SyntaxError(r,"token "+e+" after "+r)},$GlobalCtx.prototype.add=function(e){if(this.scope.annotations&&this.scope.annotations.has(e)&&$_SyntaxError(this,["annotated name '"+e+"' can't be global"]),"module"!=this.scope.type){this.scope.binding&&this.scope.binding[e]&&(console.log("error globals, scope",this.scope),$pos=this.$pos-1,$_SyntaxError(this,[`name '${e}' is parameter and global`])),this.scope.globals.add(e);var t=this.scope.parent_block;if(this.module.module.startsWith("$exec"))for(;t&&t.parent_block!==this.module;)t._globals=t._globals||new Map,t._globals.set(e,this.module.id),delete t.binding[e],t=t.parent_block;this.module.binding[e]=!0}},$GlobalCtx.prototype.to_js=function(){return this.js_processed=!0,""};var $IdCtx=$B.parser.$IdCtx=function(e,t){this.type="id",this.value=t,this.parent=e,this.tree=[],e.tree[e.tree.length]=this;var r=this.scope=$get_scope(this);this.blurred_scope=this.scope.blurred,this.env=clone(this.scope.binding),["def","generator"].indexOf(r.ntype)>-1&&(e instanceof $GlobalCtx||e instanceof $NonlocalCtx||(r.referenced=r.referenced||{},$B.builtins[this.value]||(r.referenced[this.value]=!0))),"call_arg"==e.parent.type&&(this.call_arg=!0);for(var n=e;void 0!==n.parent;){switch(n.type){case"ctx_manager_alias":$bind(t,r,this);break;case"list_or_tuple":case"dict_or_set":case"call_arg":case"def":case"lambda":void 0===n.vars?n.vars=[t]:-1==n.vars.indexOf(t)&&n.vars.push(t),this.call_arg&&"lambda"==n.type&&(void 0===n.locals?n.locals=[t]:n.locals.push(t))}n=n.parent}if($parent_match(e,{type:"target_list"})&&(this.no_bindings=!0,this.bound=!0),["def","generator"].indexOf(r.ntype)>-1){for(var o=this.parent;o;){if(o.comprehension){this.in_comp=!0;break}o=o.parent}"expr"==e.type&&"comp_if"==e.parent.type||"global"==e.type&&(void 0===r.globals?r.globals=new Set([t]):r.globals.add(t))}};$IdCtx.prototype.ast=function(){return["True","False","None"].indexOf(this.value)>-1?new ast.Constant(_b_[this.value]):new ast.Name(this.value,this.bound?new ast.Store:new ast.Load)},$IdCtx.prototype.toString=function(){return"(id) "+this.value+":"+(this.tree||"")},$IdCtx.prototype.transition=function(e,t){var r=this;if("case"==r.value&&"node"==r.parent.parent.type){var n=r.parent.$pos,o=$get_module(this).src;try{var i=line_ends_with_comma(o.substr(n))}catch(e){$pos=n+e.offset,$_SyntaxError(r,[e.message])}if(i){var a=$get_node(r);if(a.parent,a.parent&&a.parent.is_match){if(a.parent.irrefutable){var s=a.parent.irrefutable;$_SyntaxError(r,[("_"==s?"wildcard":`name capture '${s}'`)+" makes remaining patterns unreachable"])}}else $_SyntaxError(r,'"case" not inside "match"');return $transition(new $PatternCtx(new $CaseCtx(r.parent.parent)),e,t)}}else if("match"==r.value&&"node"==r.parent.parent.type&&(n=r.parent.$pos,i=line_ends_with_comma((o=$get_module(this).src).substr(n))))return $transition(new $AbstractExprCtx(new $MatchCtx(r.parent.parent),!0),e,t);switch(e){case"=":return"expr"==r.parent.type&&void 0!==r.parent.parent&&"call_arg"==r.parent.parent.type?new $AbstractExprCtx(new $KwArgCtx(r.parent),!1):$transition(r.parent,e,t);case".":return delete this.bound,$transition(r.parent,e,t);case"op":return $transition(r.parent,e,t);case"id":case"str":case"JoinedStr":case"int":case"float":case"imaginary":["print","exec"].indexOf(r.value)>-1&&$_SyntaxError(r,["missing parenthesis in call to '"+r.value+"'"]),$_SyntaxError(r,"token "+e+" after "+r)}return"packed"==this.parent.parent.type&&-1==[".","[","("].indexOf(e)?this.parent.parent.transition(e,t):$transition(r.parent,e,t)},$IdCtx.prototype.firstBindingScopeId=function(){for(var e=this.scope;e;){if(e.globals&&e.globals.has(this.value))return $get_module(this).id;if(e.binding&&e.binding[this.value])return e.id;e=e.parent}},$IdCtx.prototype.boundBefore=function(e){function t(e,t){if(e.bindings&&e.bindings[t]){var r=e.C.tree[0];return!(["def","generator"].indexOf(r.type)>-1&&r.locals.indexOf(t)>-1)}}var r=$get_node(this),n="wxc"==this.value;if(n&&(console.log(this.value,"bound before"),console.log("node",r),console.log("scope",e)),("def"==e.ntype||"generator"==e.ntype)&&e.C.tree[0].args.indexOf(this.value)>-1)return!0;for(;r.parent;){var o=r.parent;if(t(o,this.value))return n&&console.log("bound in",o),o.bindings[this.value];for(var i=0;i<o.children.length;i++){var a=o.children[i];if(a===r)break;if(t(a,this.value))return n&&console.log("bound in child",a),a.bindings[this.value]}if(o===e)break;r=o}return!1},$IdCtx.prototype.bindingType=function(e){for(var t,r,n=0,o=$get_node(this),i=!1;!i&&o.parent&&n++<100;){var a=o.parent;if(a.bindings&&a.bindings[this.value])return a.bindings[this.value];for(var s=0;s<a.children.length;s++){var l=a.children[s];if(l===o)break;l.bindings&&l.bindings[this.value]&&(i=l.bindings[this.value],r=s)}if(i){for(var _=r+1;_<a.children.length;_++){if((l=a.children[_]).children.length>0){t=!0;break}if(l===o)break}return i||t}if(a===e)break;o=a}return i},$IdCtx.prototype.to_js=function(e){var t=$get_scope(this),r=t,n=[];if(void 0!==this.result&&"generator"==r.ntype)return this.result;var o=$mangle(this.value,this);if("__BRYTHON__"==o||"$B"==o)return o;if(o.startsWith("comp_result_"+$B.lambda_magic))return this.bound?"var "+o:o;if(this.js_processed=!0,r._globals&&r._globals.has(o)&&(this.global_module=r._globals.get(o)),this.global_module)return this.bound?"$locals_"+this.global_module.replace(/\./g,"_")+'["'+o+'"]':'$B.$check_def_global("'+o+'", $locals_'+this.global_module.replace(/\./g,"_")+")";var i=void 0!==r.binding[o],a=$get_node(this),s=r.comprehension?[]:a.bound_before;if(this.nonlocal=r.nonlocals&&r.nonlocals.has(o),this.unbound=this.unbound||i&&!this.bound&&s&&-1==s.indexOf(o),!this.bound&&r.C&&"class"==r.ntype&&r.C.tree[0].name==o)return'$B.$search("'+o+'")';if(this.unbound&&!this.nonlocal)return"def"==r.ntype||"generator"==r.ntype||r.comprehension?`$B.$local_search('${o}')`:'$B.$search("'+o+'")';for(var l=['"'+t.id+'"'],_=t;;){if(_.parent_block){if(_.parent_block==$B.builtins_scope)break;if(void 0===_.parent_block.id)break;_=_.parent_block}"class"==t.ntype&&_.parent_block!==$B.builtins_scope||l.push('"'+_.id+'"')}if(l="["+l.join(", ")+"]",t.globals&&t.globals.has(o)&&(l=['"'+_.id+'"'],t=_),this.nonlocal||this.bound){var c=this.firstBindingScopeId();if(void 0!==c)return"$locals_"+c.replace(/\./g,"_")+'["'+o+'"]';if(this.bound)return"$locals_"+t.id.replace(/\./g,"_")+'["'+o+'"]'}for(var u="$locals_"+_.id.replace(/\./g,"_");;){if(void 0!==r.globals&&r.globals.has(o))return this.boundBefore(_)||this.augm_assign?u+'["'+o+'"]':'$B.$check_def("'+o+'", '+u+'["'+o+'"])';if(r===t){if(s&&s.length>0)(s.indexOf(o)>-1||r.C&&"def"==r.C.tree[0].type&&r.C.tree[0].env.indexOf(o)>-1)&&n.push(r);else if(r.binding[o]){if(void 0!==a.locals[o]){n.push(r);break}r.is_comp||r.parent_block&&r.parent_block.is_comp||n.push(r)}}else void 0===r.binding&&console.log("scope",r,o,"no binding",t),t.binding[o]&&"class"==t.ntype?!r.binding[o]||r.parent_block&&"__builtins__"!=r.parent_block.id||(n.push(r),console.l):r.binding[o]&&n.push(r);if(!r.parent_block)break;r=r.parent_block}if(this.found=n,this.nonlocal&&n[0]===t&&n.shift(),n.length>0){if(n[0].C&&n[0]===t&&"$"!=o.charAt(0)){var f=a.locals||{},p=t.nonlocals;try{if(void 0===f[o]&&!this.augm_assign&&("def"!=t.type||"generator"!=t.type)&&"class"!=t.ntype&&t.C.tree[0].args&&-1==t.C.tree[0].args.indexOf(o)&&(void 0===p||void 0===p[o]))return this.result='$B.$local_search("'+o+'")',this.result}catch(e){throw console.log("error",o,t),e}}if(n.length>1&&n[0].C&&"class"==n[0].C.tree[0].type){var d="$locals_"+n[0].id.replace(/\./g,"_"),h="$locals_"+n[1].id.replace(/\./g,"_");if(s)return s.indexOf(o)>-1?(this.found=n[0].binding[o],m=d):(this.found=n[1].binding[o],m=h),this.result=m+'["'+o+'"]',this.result;this.found=!1;var m=d+'["'+o+'"] !== undefined ? ';return m+=d+'["'+o+'"] : ',this.result="("+m+h+'["'+o+'"])',this.result}r=n[0],this.found=r.binding[o];var g="$locals_"+r.id.replace(/\./g,"_");if(void 0!==r.C||r.comprehension)o=r===t?r.globals&&r.globals.has(o)?u+'["'+o+'"]':this.bound||this.augm_assign||this.boundBefore(r)?'$locals["'+o+'"]':'$B.$check_def_local("'+o+'",$locals["'+o+'"])':this.augm_assign?g+'["'+o+'"]':'$B.$check_def_free("'+o+'",'+g+'["'+o+'"])';else if("__builtins__"==r.id)_.blurred?o="("+u+'["'+o+'"] || _b_.'+o+")":(o="_b_."+o,this.is_builtin=!0);else if(this.bound||this.augm_assign)o=g+'["'+o+'"]';else{if(r===t&&void 0===this.env[o])return this.result='$B.$search("'+o+'")',this.result;o=this.boundBefore(r)?g+'["'+o+'"]':'$B.$check_def("'+o+'",'+g+'["'+o+'"])'}return this.result=o+$to_js(this.tree,""),this.result}return this.unknown_binding=!0,this.result='$B.$global_search("'+o+'", '+l+")",this.result};var $ImportCtx=$B.parser.$ImportCtx=function(e){this.type="import",this.parent=e,this.tree=[],e.tree[e.tree.length]=this,this.expect="id"};$ImportCtx.prototype.ast=function(){var e=[];for(var t of this.tree){var r=new ast.alias(t.name);t.alias!=t.name&&(r.asname=t.alias),e.push(r)}return new ast.Import(e)},$ImportCtx.prototype.toString=function(){return"import "+this.tree},$ImportCtx.prototype.transition=function(e,t){var r=this;switch(e){case"id":if("id"==r.expect)return new $ImportedModuleCtx(r,t),r.expect=",",r;if("qual"==r.expect)return r.expect=",",r.tree[r.tree.length-1].name+="."+t,r.tree[r.tree.length-1].alias+="."+t,r;if("alias"==r.expect)return r.expect=",",r.tree[r.tree.length-1].alias=t,r;break;case".":if(","==r.expect)return r.expect="qual",r;break;case",":if(","==r.expect)return r.expect="id",r;break;case"as":if(","==r.expect)return r.expect="alias",r;break;case"eol":if(","==r.expect)return r.bind_names(),$transition(r.parent,e)}$_SyntaxError(r,"token "+e+" after "+r)},$ImportCtx.prototype.bind_names=function(){var e=$get_scope(this);for(var t of this.tree){if(t.name==t.alias){var r=t.name,n=r.split("."),o=r;n.length>1&&(o=n[0])}else o=t.alias;$bind(o,e,this)}},$ImportCtx.prototype.to_js=function(){this.js_processed=!0;var e=$get_scope(this),t=[],r=$get_module(this);for(var n of this.tree){for(var o=n.name,i=n.name==n.alias?"{}":'{"'+o+'" : "'+n.alias+'"}',a="$locals_"+e.id.replace(/\./g,"_"),s=n.name.split("."),l=0;l<s.length;l++)r.imports[s.slice(0,l+1).join(".")]=!0;var _='$B.$import("'+o+'", [],'+i+","+a+", true);";t.push(_)}return t.join("")+"_b_.None;"};var $ImportedModuleCtx=$B.parser.$ImportedModuleCtx=function(e,t){this.type="imported module",this.parent=e,this.name=t,this.alias=t,e.tree[e.tree.length]=this};$ImportedModuleCtx.prototype.toString=function(){return" (imported module) "+this.name},$ImportedModuleCtx.prototype.transition=function(e,t){},$ImportedModuleCtx.prototype.to_js=function(){return this.js_processed=!0,'"'+this.name+'"'};var JoinedStrCtx=$B.parser.JoinedStrCtx=function(e,t){this.type="JoinedStr",this.parent=e,this.tree=[],this.scope=$get_scope(e);var r=$get_node(e).line_num;for(var n of t)if("string"==typeof n)new $StringCtx(this,"'"+n.replace(new RegExp("'","g"),"\\'")+"'");else{void 0!==n.format&&(n.format=new JoinedStrCtx(this,n.format),this.tree.pop());var o=n.expression,i=$pos,a=$create_root_node({src:o},this.scope.module,this.scope.id,this.scope.parent_block,r);a.binding=$B.clone(this.scope.binding);try{dispatch_tokens(a,o)}catch(e){e.args[1][1]+=r-1;for(var s=i,l=$get_module(this).src;s-- >0&&"\n"!=l[s];);throw e.args[1][2]+=n.start+i-s,e.lineno+=r-1,e.args[1][3]=$get_module(this).src.split("\n")[r-1],e}$pos=i;var _=a.children[0].C.tree[0];this.tree.push(_),_.parent=this,_.elt=n}e.tree.push(this),this.raw=!1,this.$pos=$pos};JoinedStrCtx.prototype.ast=function(){var res={type:"JoinedStr",values:[]},state;for(var item of this.tree)if(item instanceof $StringCtx)"string"==state?$B.last(res.values).value+=eval(item.value):res.values.push(new ast.Constant(eval(item.value))),state="string";else{var conv_num={a:97,r:114,s:115},format=item.elt.format;format=void 0===format?format:ast_or_obj(format),value=new ast.FormattedValue(ast_or_obj(item),conv_num[item.elt.conversion]||-1,format);var format=item.format;void 0!==format&&(value.format=item.format.ast()),res.values.push(value),state="formatted_value"}return new ast.JoinedStr(res.values)},JoinedStrCtx.prototype.toString=function(){return"f-string "+(this.tree||"")},JoinedStrCtx.prototype.transition=function(token,value){var C=this;switch(token){case"[":return new $AbstractExprCtx(new $SubCtx(C.parent),!1);case"(":return C.parent.tree[0]=C,new $CallCtx(C.parent);case"str":return C.tree.length>0&&"string"==typeof $B.last(C.tree)?C.tree[C.tree.length-1]=$B.last(C.tree)+eval(value):new $StringCtx(this,value),C;case"JoinedStr":var joined_expr=new JoinedStrCtx(C.parent,value);return C.parent.tree.pop(),C.tree.length>0&&$B.last(C.tree)instanceof $StringCtx&&joined_expr.tree[0]instanceof $StringCtx?($B.last(C.tree).value+=" + "+joined_expr.tree[0].value,C.tree=C.tree.concat(joined_expr.tree.slice(1))):C.tree=C.tree.concat(joined_expr.tree),C}return $transition(C.parent,token,value)},JoinedStrCtx.prototype.to_js=function(){this.js_processed=!0;var e=[];for(var t of this.tree)if(t instanceof $StringCtx)e.push(t.to_js());else{var r=t.elt,n=t.to_js();switch(r.conversion){case"a":n="_b_.ascii("+n+")";break;case"r":n="_b_.repr("+n+")";break;case"s":n="_b_.str.$factory("+n+")"}var o=r.format;void 0!==o?n="_b_.str.format('{0:' + "+o.to_js()+" + '}', "+n+")":null===r.conversion&&(n="_b_.str.$factory("+n+")"),e.push(n)}return"$B.String("+(e.join(" + ")||"''")+")"};var $JSCode=$B.parser.$JSCode=function(e){this.js=e};$JSCode.prototype.toString=function(){return this.js},$JSCode.prototype.transition=function(e,t){},$JSCode.prototype.to_js=function(){return this.js_processed=!0,this.js};var $KwArgCtx=$B.parser.$KwArgCtx=function(e){this.type="kwarg",this.parent=e.parent,this.tree=[e.tree[0]],e.parent.tree.pop(),e.parent.tree.push(this),e.parent.parent.has_kw=!0;var t=this.tree[0].value,r=e.parent.parent;void 0===r.kwargs?r.kwargs=[t]:-1==r.kwargs.indexOf(t)?r.kwargs.push(t):$_SyntaxError(e,["keyword argument repeated"])};$KwArgCtx.prototype.toString=function(){return"kwarg "+this.tree[0]+"="+this.tree[1]},$KwArgCtx.prototype.transition=function(e,t){return","==e?new $CallArgCtx(this.parent.parent):$transition(this.parent,e)},$KwArgCtx.prototype.to_js=function(){return this.js_processed=!0,'{$nat:"kw",name:"'+this.tree[0].value+'",value:'+$to_js(this.tree.slice(1,this.tree.length))+"}"};var $LambdaCtx=$B.parser.$LambdaCtx=function(e){this.type="lambda",this.parent=e,e.tree[e.tree.length]=this,this.tree=[],this.args_start=$pos+6,this.vars=[],this.locals=[],this.node=$get_node(this),this.positional_list=[],this.default_list=[],this.other_args=null,this.other_kw=null,this.after_star=[]};$LambdaCtx.prototype.ast=function(){var e;return e=0==this.args.length?new ast.arguments([],[],void 0,[],[],void 0,[]):this.args[0].ast(),new ast.Lambda(e,ast_or_obj(this.tree[0]))},$LambdaCtx.prototype.toString=function(){return"(lambda) "+this.args_start+" "+this.body_start},$LambdaCtx.prototype.transition=function(e,t){var r=this;return":"==e&&void 0===r.args?(r.args=r.tree,r.tree=[],r.body_start=$pos,new $AbstractExprCtx(r,!1)):void 0!==r.args?(r.body_end=$pos,$transition(r.parent,e)):void 0===r.args&&"("!=e?$transition(new $FuncArgs(r),e,t):void $_SyntaxError(r,"token "+e+" after "+r)},$LambdaCtx.prototype.to_js=function(){this.js_processed=!0;var e=this.parent,t=this.node,r=$get_module(this),n=$get_src(e),o=n.substring(this.args_start,this.body_start),i=n.substring(this.body_start+1,this.body_end);i=i.replace(/\\\n/g," ");var a=$get_scope(this),s=$B.UUID(),l="lambda_"+$B.lambda_magic+"_"+s,_="def "+l+"("+o+"):\n";_+="    return ("+i+"\n)";var c="lambda"+s,u=r.id.replace(/\./g,"_"),f=$B.py2js(_,u,c,a,t.line_num).to_js(),p=`$locals_${c}`;return o="{}",r.is_comp&&(p+=`, $locals_${r.id.replace(/\./g,"_")}`,o+=`, typeof $locals_${r.id.replace(/\./g,"_")}  === "undefined" ? {} : $locals_${r.id.replace(/\./g,"_")}`),f=`(function(${p}){\n`+f+`\nreturn $locals.${l}})(${o})`,$B.clear_ns(c),$B.$py_src[c]=null,delete $B.$py_src[c],f};var ListCompCtx=function(e){this.type="listcomp",this.tree=[e.tree[0]],this.tree[0].parent=this,Comprehension.make_comp(this,e)};ListCompCtx.prototype.ast=function(){return new ast.ListComp(ast_or_obj(this.tree[0]),Comprehension.generators(this.tree.slice(1)))},ListCompCtx.prototype.transition=function(e,t){if("]"==e)return this.has_await=Comprehension.has_await(this),this.parent;$_SyntaxError(this,"token "+e+"after list comp")},ListCompCtx.prototype.to_js=function(){var e=$get_node(this).get_indent(),t=this.id,r=this.tree[0],n=this.tree[1],o=n.tree[1].to_js();n.comp_body=!0,n.iterable_is_outermost=!0;var i=`(${this.has_await?"async ":""}function(expr){`+Comprehension.admin_infos(this)+`var $result_${t} = []\n`;i+=n.to_js(e);for(var a=-1,s=2;s<this.tree.length;s++){a++;var l=this.tree[s];"for"==l.type?(l.comp_body=!0,i+="\n"+l.to_js(e+a)):"condition"==l.type&&"if"==l.token&&(i+="\n"+" ".repeat(12+4*a)+l.to_js()+"{")}var _=Comprehension.has_await(r);for(i+="\n"+" ".repeat(16+4*a)+(_?"var save_stack = $B.save_stack();\n":"")+"try{\n"+` $result_${t}.push(${r.to_js()})\n}catch(err){\n`+(_?"$B.restore_stack(save_stack, $locals);":"")+"$B.leave_frame($locals); throw err\n}"+(_?"\n$B.restore_stack(save_stack, $locals);":""),s=1;s<this.tree.length;s++)i+="\n"+" ".repeat(12+4*a--)+"}";return i+="\n$B.leave_frame({$locals, value: _b_.None})",(i+=`\nreturn $result_${t}`)+`\n}\n)(${o})`};var $ListOrTupleCtx=$B.parser.$ListOrTupleCtx=function(e,t){this.type="list_or_tuple",this.start=$pos,this.real=t,this.expect="id",this.closed=!1,this.parent=e,this.tree=[],e.tree[e.tree.length]=this};$ListOrTupleCtx.prototype.ast=function(){var e=this.tree.map(ast_or_obj);return"list"==this.real?new ast.List(e,new ast.Load):"tuple"==this.real?new ast.Tuple(e,new ast.Load):(console.log("list_or_tuple ast, real",this.real),this)},$ListOrTupleCtx.prototype.toString=function(){switch(this.real){case"list":return"(list) ["+this.tree+"]";default:return"(tuple) ("+this.tree+")"}},$ListOrTupleCtx.prototype.transition=function(e,t){var r=this;if(r.closed)return"["==e?new $AbstractExprCtx(new $SubCtx(r.parent),!1):"("==e?new $CallCtx(r.parent):$transition(r.parent,e,t);if(","==r.expect){switch(r.real){case"tuple":if(")"==e){if(1==r.tree.length){var n=r.parent.parent;return n.tree.pop(),n.tree.push(r.tree[0]),r.tree[0].parent=n,r.tree[0]}return(r.packed||"list_or_tuple"==r.type&&1==r.tree.length&&"expr"==r.tree[0].type&&"packed"==r.tree[0].tree[0].type)&&$_SyntaxError(r,["cannot use starred expression here"]),r.close(),"packed"==r.parent.type?r.parent.parent:r.parent}break;case"list":if("]"==e)return r.close(),"packed"==r.parent.type?r.parent.tree.length>0?r.parent.tree[0]:r.parent.parent:r.parent}switch(e){case",":return"tuple"==r.real&&(r.has_comma=!0),r.expect="id",r;case"for":return"list"==r.real?(this.tree.length>1&&$_SyntaxError(r,["did you forget parentheses around the comprehension target?"]),new $TargetListCtx(new $ForExpr(new ListCompCtx(r)))):new $TargetListCtx(new $ForExpr(new GeneratorExpCtx(r)))}return $transition(r.parent,e,t)}if("id"!=r.expect)return $transition(r.parent,e,t);switch(r.real){case"tuple":if(")"==e)return r.close(),r.parent;if("eol"==e&&!0===r.implicit)return r.close(),$transition(r.parent,e);break;case"list":if("]"==e)return r.close(),r}switch(e){case"=":if("tuple"==r.real&&!0===r.implicit)return r.close(),r.parent.tree.pop(),(o=new $ExprCtx(r.parent,"tuple",!1)).tree=[r],r.parent=o,$transition(r.parent,e);$_SyntaxError(r,"unexpected = inside list");break;case")":break;case"]":if("tuple"==r.real&&!0===r.implicit)return $transition(r.parent,e,t);break;case",":$_SyntaxError(r,"unexpected comma inside list");case"str":case"JoinedStr":case"int":case"float":case"imaginary":case"ellipsis":case"lambda":case"yield":case"id":case"(":case"[":case"{":case"await":case"not":case":":r.expect=",";var o=new $AbstractExprCtx(r,!1);return $transition(o,e,t);case"op":if("+-~*".indexOf(t)>-1||"**"==t)return r.expect=",",o=new $AbstractExprCtx(r,!1),$transition(o,e,t);$_SyntaxError(r,"unexpected operator: "+t);default:$_SyntaxError(r,"token "+e)}},$ListOrTupleCtx.prototype.close=function(){this.closed=!0,this.src=$get_module(this).src;for(var e=0,t=this.tree.length;e<t;e++){var r=this.tree[e];"expr"==r.type&&"list_or_tuple"==r.tree[0].type&&"tuple"==r.tree[0].real&&1==r.tree[0].tree.length&&","==r.tree[0].expect&&(this.tree[e]=r.tree[0].tree[0],this.tree[e].parent=this)}},$ListOrTupleCtx.prototype.get_src=function(){var e=$get_module(this).src,t=$get_scope(this);if(void 0===t.comments)return e;for(var r of t.comments){var n=r[0],o=r[1];e=e.substr(0,n)+" ".repeat(o+1)+e.substr(n+o+1)}return e},$ListOrTupleCtx.prototype.bind_ids=function(e){for(var t of this.tree)if("id"==t.type)$bind(t.value,e,this),t.bound=!0;else if("expr"==t.type&&"id"==t.tree[0].type)$bind(t.tree[0].value,e,this),t.tree[0].bound=!0;else if("expr"==t.type&&"packed"==t.tree[0].type){var r=t.tree[0].tree[0];"expr"==r.type&&"id"==r.tree[0].type&&($bind(r.tree[0].value,e,this),r.tree[0].bound=!0)}else("list_or_tuple"==t.type||"expr"==t.type&&"list_or_tuple"==t.tree[0].type)&&("expr"==t.type&&(t=t.tree[0]),t.bind_ids(e))},$ListOrTupleCtx.prototype.packed_indices=function(){for(var e=[],t=0;t<this.tree.length;t++){var r=this.tree[t];"expr"==r.type&&("packed"==(r=r.tree[0]).type||"call"==r.type&&"packed"==r.func.type)&&e.push(t)}return e},$ListOrTupleCtx.prototype.unpack=function(e){for(var t,r="",n=0;n<this.tree.length;n++)t=e.indexOf(n)>-1?"_b_.list.$factory("+this.tree[n].to_js()+")":"["+this.tree[n].to_js()+"]",n>0&&(t=".concat("+t+")"),r+=t;return r},$ListOrTupleCtx.prototype.to_js=function(){switch(this.js_processed=!0,$get_scope(this).id.replace(/\//g,"_"),$get_module(this).module,this.real){case"list":return(e=this.packed_indices()).length>0?"$B.$list("+this.unpack(e)+")":"$B.$list(["+$to_js(this.tree)+"])";case"tuple":var e;return(e=this.packed_indices()).length>0?"$B.fast_tuple("+this.unpack(e)+")":1==this.tree.length&&void 0===this.has_comma?this.tree[0].to_js():"$B.fast_tuple(["+$to_js(this.tree)+"])"}};var $MatchCtx=$B.parser.$MatchCtx=function(e){this.type="match",e.tree=[this],e.node.is_match=!0,this.parent=e,this.tree=[],this.expect="as"};$MatchCtx.prototype.ast=function(){var e=new ast.Match(ast_or_obj(this.tree[0]),ast_body(this.parent));return e.$line_num=$get_node(this).line_num,e},$MatchCtx.prototype.transition=function(e,t){var r=this;switch(e){case"as":return new $AbstractExprCtx(new $AliasCtx(r));case":":switch("list_or_tuple"==this.tree[0].type&&remove_abstract_expr(this.tree[0].tree),r.expect){case"id":case"as":case":":return $BodyCtx(r)}}},$MatchCtx.prototype.to_js=function(){return"var subject = "+$to_js(this.tree)+";if(true)"};var NamedExprCtx=function(e){this.type="named_expr",this.target=e.tree[0],this.target.scope_ref=this.target.binding_scope.id.replace(/\./g,"_"),e.tree.pop(),e.tree.push(this),this.parent=e,this.target.parent=this,this.tree=[]};NamedExprCtx.prototype.ast=function(){var e=new ast.NamedExpr(ast_or_obj(this.target),ast_or_obj(this.tree[0]));return e.target.ctx=new ast.Store,e},NamedExprCtx.prototype.transition=function(e,t){return $transition(this.parent,e,t)},NamedExprCtx.prototype.to_js=function(){return`($locals_${this.target.scope_ref}.${this.target.value} = ${this.tree[0].to_js()})`};var $NodeCtx=$B.parser.$NodeCtx=function(e){this.node=e,e.C=this,this.tree=[],this.type="node";for(var t=null,r=e;r.parent&&"module"!=r.parent.type;){var n=!1;switch(r.parent.C.tree[0].type){case"def":case"class":case"generator":t=r.parent,n=!0}if(n)break;r=r.parent}null===t&&(t=r.parent||r),this.node.locals=clone(t.binding),this.scope=t};$NodeCtx.prototype.toString=function(){return"node "+this.tree},$NodeCtx.prototype.transition=function(e,t){var r=this;if(this.node.parent&&this.node.parent.C){var n=this.node.parent.C;n.tree&&1==n.tree.length&&"match"==n.tree[0].type&&("eol"==e||"id"===e&&"case"===t||(r.$pos=$pos,$_SyntaxError(r,'line does not start with "case"')))}if(0==this.tree.length&&this.node.parent){var o=this.node.parent.children.indexOf(this.node);o>0&&"try"==(l=this.node.parent.children[o-1]).C.tree[0].type&&-1==["except","finally"].indexOf(e)&&$_SyntaxError(r,["expected 'except' or 'finally' block"])}switch(e){case",":r.tree&&0==r.tree.length&&$_SyntaxError(r,"token "+e+" after "+r);var i=r.tree[0];r.tree=[];var a=new $ListOrTupleCtx(r);return a.real="tuple",a.implicit=0,a.tree.push(i),i.parent=a,a;case"[":case"(":case"{":case".":case"bytes":case"float":case"id":case"imaginary":case"int":case"str":case"JoinedStr":case"not":case"lambda":var s=new $AbstractExprCtx(r,!0);return $transition(s,e,t);case"assert":return new $AbstractExprCtx(new $AssertCtx(r),!1,!0);case"async":return new $AsyncCtx(r);case"await":return new $AbstractExprCtx(new $AwaitCtx(r),!0);case"break":return new $BreakCtx(r);case"class":return new $ClassCtx(r);case"continue":return new $ContinueCtx(r);case"__debugger__":return new $DebuggerCtx(r);case"def":return new $DefCtx(r);case"del":return new $AbstractExprCtx(new $DelCtx(r),!0);case"elif":try{var l=$previous(r)}catch(e){$_SyntaxError(r,"'elif' does not follow 'if'")}return-1!=["condition"].indexOf(l.type)&&"while"!=l.token||$_SyntaxError(r,"elif after "+l.type),new $AbstractExprCtx(new $ConditionCtx(r,e),!1);case"ellipsis":return s=new $AbstractExprCtx(r,!0),$transition(s,e,t);case"else":return l=$previous(r),-1==["condition","except","for"].indexOf(l.type)&&$_SyntaxError(r,"else after "+l.type),new $SingleKwCtx(r,e);case"except":return l=$previous(r),-1==["try","except"].indexOf(l.type)&&$_SyntaxError(r,"except after "+l.type),new $ExceptCtx(r);case"finally":return l=$previous(r),-1!=["try","except"].indexOf(l.type)||"single_kw"==l.type&&"else"==l.token||$_SyntaxError(r,"finally after "+l.type),new $SingleKwCtx(r,e);case"for":return new $TargetListCtx(new $ForExpr(r));case"from":return new $FromCtx(r);case"global":return new $GlobalCtx(r);case"if":case"while":return new $AbstractExprCtx(new $ConditionCtx(r,e),!1);case"import":return new $ImportCtx(r);case"lambda":return new $LambdaCtx(r);case"nonlocal":return new $NonlocalCtx(r);case"op":switch(t){case"*":return s=new $AbstractExprCtx(r,!0),$transition(s,e,t);case"+":case"-":case"~":return new $AbstractExprCtx(new $UnaryCtx(new $ExprCtx(r,"unary",!0),t),!1);case"@":return new $DecoratorCtx(r)}break;case"pass":return new $PassCtx(r);case"raise":return new $AbstractExprCtx(new $RaiseCtx(r),!0);case"return":return new $AbstractExprCtx(new $ReturnCtx(r),!0);case"try":return new $TryCtx(r);case"with":return new $AbstractExprCtx(new $WithCtx(r),!1);case"yield":return new $AbstractExprCtx(new $YieldCtx(r),!0);case"eol":return 0==r.tree.length?(r.node.parent.children.pop(),r.node.parent.C):r}console.log("token",e,t),$_SyntaxError(r,"token "+e+" after "+r)},$NodeCtx.prototype.to_js=function(){if(void 0!==this.js)return this.js;if(this.js_processed=!0,this.js="",this.tree[0]){var e=-1==["def","generator"].indexOf(this.scope.ntype);if(this.tree[0].annotation)if(e){if("expr"==this.tree[0].type&&!this.tree[0].$in_parens&&"id"==this.tree[0].tree[0].type){var t="";return this.create_annotations&&(t+="$locals.__annotations__ = $B.empty_dict();"),t+"_b_.dict.$setitem($locals.__annotations__, '"+this.tree[0].tree[0].value+"', "+this.tree[0].annotation.to_js()+");"}"def"==this.tree[0].type||"generator"==this.tree[0].type?this.js=this.tree[0].annotation.to_js()+";":this.js=""}else-1==["def","generator"].indexOf(this.tree[0].type)&&(this.tree=[]);else if("assign"==this.tree[0].type&&!this.tree[0].tree[0].$in_parens&&this.tree[0].tree[0].annotation){var r=this.tree[0].tree[0],n=this.tree[0].tree[1];if(this.create_annotations&&(this.js+="$locals.__annotations__ = $B.empty_dict();"),this.js+="var $value = "+n.to_js()+";",this.tree[0].tree.splice(1,1),new $RawJSCtx(this.tree[0],"$value"),!r.tree[0]||"id"!=r.tree[0].type||!e)return this.js+=$to_js(this.tree)+";",e&&(this.js+=r.annotation.to_js()),this.js;this.js+="_b_.dict.$setitem($locals.__annotations__, '"+r.tree[0].value+"', "+r.annotation.to_js()+");"}}return 0==this.node.children.length?this.js+=$to_js(this.tree)+";":this.js+=$to_js(this.tree),this.js};var $NodeJS=$B.parser.$NodeJS=function(e){var t=new $Node;return new $NodeJSCtx(t,e),t},$NodeJSCtx=$B.parser.$NodeJSCtx=function(e,t){this.node=e,e.C=this,this.type="node_js",this.tree=[t]};$NodeJSCtx.prototype.toString=function(){return"js "+js},$NodeJSCtx.prototype.to_js=function(){return this.js_processed=!0,this.tree[0]};var $NonlocalCtx=$B.parser.$NonlocalCtx=function(e){this.type="nonlocal",this.parent=e,this.tree=[],this.names={},e.tree[e.tree.length]=this,this.expect="id",this.scope=$get_scope(this),this.scope.nonlocals=this.scope.nonlocals||new Set,void 0===this.scope.C&&$_SyntaxError(e,["nonlocal declaration not allowed at module level"])};$NonlocalCtx.prototype.toString=function(){return"nonlocal "+this.tree},$NonlocalCtx.prototype.ast=function(){return new ast.Nonlocal(this.tree.map((e=>e.value)))},$NonlocalCtx.prototype.add=function(e){"arg"==this.scope.binding[e]&&$_SyntaxError(C,["name '"+e+"' is parameter and nonlocal"]),this.names[e]=[!1,$pos],this.scope.nonlocals.add(e)},$NonlocalCtx.prototype.transition=function(e,t){var r=this;switch(e){case"id":if("id"==r.expect)return check_global_nonlocal(r,t,"nonlocal"),new $IdCtx(r,t),r.add(t),r.expect=",",r;break;case",":if(","==r.expect)return r.expect="id",r;break;case"eol":if(","==r.expect)return $transition(r.parent,e)}$_SyntaxError(r,"token "+e+" after "+r)},$NonlocalCtx.prototype.transform=function(e,t){var r=this.parent,n=this.scope.parent_block;if(void 0===n.C)$_SyntaxError(r,["no binding for nonlocal '"+$B.last(Object.keys(this.names))+"' found"]);else{for(;void 0!==n&&void 0!==n.C;){for(var o in this.names)void 0!==n.binding[o]&&(this.names[o]=[!0]);n=n.parent_block}for(var o in this.names)this.names[o][0]||(console.log("nonlocal error, C "+r),$pos=this.names[o][1],$_SyntaxError(r,["no binding for nonlocal '"+o+"' found"]))}},$NonlocalCtx.prototype.to_js=function(){return this.js_processed=!0,""};var $NotCtx=$B.parser.$NotCtx=function(e){this.type="not",this.parent=e,this.tree=[],e.tree[e.tree.length]=this};$NotCtx.prototype.ast=function(){return new ast.UnaryOp(new ast.Not,ast_or_obj(this.tree[0]))},$NotCtx.prototype.toString=function(){return"not ("+this.tree+")"},$NotCtx.prototype.transition=function(e,t){var r=this;switch(e){case"in":return r.parent.parent.tree.pop(),new $ExprCtx(new $OpCtx(r.parent,"not_in"),"op",!1);case"id":case"imaginary":case"int":case"float":case"str":case"JoinedStr":case"bytes":case"[":case"(":case"{":case".":case"not":case"lambda":var n=new $AbstractExprCtx(r,!1);return $transition(n,e,t);case"op":if("+"==t||"-"==t||"~"==t)return n=new $AbstractExprCtx(r,!1),$transition(n,e,t)}return $transition(r.parent,e)},$NotCtx.prototype.to_js=function(){return this.js_processed=!0,"!$B.$bool("+$to_js(this.tree)+")"};var $NumberCtx=$B.parser.$NumberCtx=function(e,t,r){this.type=e,this.value=r,this.parent=t,this.tree=[],t.tree[t.tree.length]=this};$NumberCtx.prototype.ast=function(){return new ast.Constant({type:this.type,value:this.value})},$NumberCtx.prototype.toString=function(){return this.type+" "+this.value},$NumberCtx.prototype.transition=function(e,t){return $transition(this.parent,e,t)},$NumberCtx.prototype.to_js=function(){this.js_processed=!0;var e,t=this.type,r=this.value;return"int"==t?(e=parseInt(r[1],r[0]))>$B.min_int&&e<$B.max_int?e:'$B.fast_long_int("'+(e=$B.long_int.$factory(r[1],r[0])).value+'", '+e.pos+")":"float"==t?/^\d+$/.exec(r)||/^\d+\.\d*$/.exec(r)?"(new Number("+this.value+"))":"_b_.float.$factory("+r+")":"imaginary"==t?"$B.make_complex(0,"+r+")":void 0};var $OpCtx=$B.parser.$OpCtx=function(e,t){if(this.type="op",this.op=t,this.parent=e.parent,this.tree=[e],this.scope=$get_scope(this),"expr"==e.type)if(["int","float","str"].indexOf(e.tree[0].type)>-1)this.left_type=e.tree[0].type;else if("id"==e.tree[0].type){var r=this.scope.binding[e.tree[0].value];r&&(this.left_type=r.type)}e.parent.tree.pop(),e.parent.tree.push(this)};$OpCtx.prototype.ast=function(){var e=op2ast_class[this.op],t=e[0],r=e[1];if(t===ast.Compare){var n=ast_or_obj(this.tree[0]),o=[new r];if(this.ops){for(var i of this.ops.slice(1))o.push(new op2ast_class[i][1]);return new ast.Compare(n,o,this.tree.slice(1).map(ast_or_obj))}return new ast.Compare(n,o,[ast_or_obj(this.tree[1])])}if(t===ast.UnaryOp)return new t(new r,ast_or_obj(this.tree[1]));if(t===ast.BoolOp){for(var a=[this.tree[1]],s=this.op,l=this;"op"==l.tree[0].type&&l.tree[0].op==s;)a.splice(0,0,l.tree[0].tree[1]),l=l.tree[0];return a.splice(0,0,l.tree[0]),new t(new r,a.map(ast_or_obj))}return new t(ast_or_obj(this.tree[0]),new r,ast_or_obj(this.tree[1]))},$OpCtx.prototype.toString=function(){return"(op "+this.op+") ["+this.tree+"]"},$OpCtx.prototype.transition=function(e,t){var r=this;switch(void 0===r.op&&$_SyntaxError(r,["C op undefined "+r]),e){case"id":case"imaginary":case"int":case"float":case"str":case"JoinedStr":case"bytes":case"[":case"(":case"{":case".":case"not":case"lambda":return $transition(new $AbstractExprCtx(r,!1),e,t);case"op":switch(t){case"+":case"-":case"~":return new $UnaryCtx(r,t)}default:"abstract_expr"==r.tree[r.tree.length-1].type&&$_SyntaxError(r,"token "+e+" after "+r)}return $transition(r.parent,e)},$OpCtx.prototype.to_js=function(){this.js_processed=!0;var e={"==":"eq","!=":"ne",">=":"ge","<=":"le","<":"lt",">":"gt"};if(void 0!==e[this.op]){if(this.ops){var t=0,r=[];for(var n of this.ops){var o=e[n];r.push(`$B.rich_comp('__${o}__', ${0==t?this.tree[t].to_js():"$locals.$op"}, $locals.$op = ${this.tree[t+1].to_js()})`),t++}return r.join(" && ")}if(o=e[this.op],"expr"==this.tree[0].type&&"expr"==this.tree[1].type){var i=this.tree[0].tree[0],a=this.tree[1].tree[0],s=i.to_js(),l=a.to_js();switch(a.type){case"int":switch(i.type){case"int":return Number.isSafeInteger(i.value)&&Number.isSafeInteger(a.value)?s+this.op+l:"$B.$getattr("+this.tree[0].to_js()+',"__'+o+'__")('+this.tree[1].to_js()+")";case"str":switch(this.op){case"==":return"false";case"!=":return"true";default:return'$B.$TypeError("unorderable types:  int() '+this.op+' str()")'}case"id":return"(typeof "+s+' == "number" ? '+s+this.op+l+' : $B.rich_comp("__'+o+'__",'+this.tree[0].to_js()+","+this.tree[1].to_js()+"))"}break;case"str":switch(i.type){case"str":return s+".valueOf() "+this.op+l+".valueOf()";case"int":switch(this.op){case"==":return"false";case"!=":return"true";default:return'$B.$TypeError("unorderable types:  str() '+this.op+' int()")'}case"id":return"(typeof "+s+' == "string" ? '+s+this.op+l+' : $B.rich_comp("__'+o+'__",'+this.tree[0].to_js()+","+this.tree[1].to_js()+"))"}break;case"id":if("id"==i.type)return"typeof "+s+'!="object" && typeof '+s+'!="function" && typeof '+s+" == typeof "+l+" ? "+s+this.op+l+' : $B.rich_comp("__'+o+'__",'+this.tree[0].to_js()+","+this.tree[1].to_js()+")"}}}switch(this.op){case"and":var _=this.tree[0].to_js(),c=this.tree[1].to_js();return void 0!==this.wrap?"(function(){var "+this.wrap.name+" = "+this.wrap.js+";return $B.$test_expr($B.$test_item("+_+") && $B.$test_item("+c+"))})()":"$B.$test_expr($B.$test_item("+_+")&&$B.$test_item("+c+"))";case"or":return(x="$B.$test_expr($B.$test_item("+this.tree[0].to_js()+")||")+"$B.$test_item("+this.tree[1].to_js()+"))";case"in":return"$B.$is_member("+$to_js(this.tree)+")";case"not_in":return"!$B.$is_member("+$to_js(this.tree)+")";case"unary_neg":case"unary_pos":case"unary_inv":if("unary_neg"==this.op?(n="-",o="__neg__"):"unary_pos"==this.op?(n="+",o="__pos__"):(n="~",o="__invert__"),"expr"==this.tree[1].type){var u=this.tree[1].tree[0];switch(u.type){case"int":var f=parseInt(u.value[1],u.value[0]);return Number.isSafeInteger(f)?n+f:"$B.$getattr("+u.to_js()+', "'+o+'")()';case"float":return"_b_.float.$factory("+n+u.value+")";case"imaginary":return"$B.make_complex(0,"+n+u.value+")"}}return"$B.$getattr("+this.tree[1].to_js()+',"'+o+'")()';case"is":return"$B.$is("+this.tree[0].to_js()+", "+this.tree[1].to_js()+")";case"is_not":return"! $B.$is("+this.tree[0].to_js()+", "+this.tree[1].to_js()+")";case"+":return"$B.add("+this.tree[0].to_js()+", "+this.tree[1].to_js()+")";case"*":case"-":n=this.op;var p=[],d=!1,h=$get_scope(this);function m(e,t){var r;return["int","float","str"].indexOf(t.type)>-1?r=t.type:"id"==t.type&&e[t.value]&&(r=e[t.value].type),r}var g=this.tree[0],$=this.tree[1];if(function e(t){if("expr"==t.type&&"int"==t.tree[0].type)return!0;if("expr"==t.type&&"float"==t.tree[0].type)return d=!0,!0;if("expr"==t.type&&"list_or_tuple"==t.tree[0].type&&"tuple"==t.tree[0].real&&1==t.tree[0].tree.length&&"expr"==t.tree[0].tree[0].type)return e(t.tree[0].tree[0].tree[0]);if("expr"==t.type&&"id"==t.tree[0].type){var r=t.tree[0].to_js();return-1==p.indexOf(r)&&p.push(r),!0}if("op"==t.type&&["*","+","-"].indexOf(t.op)>-1){for(var n=0;n<t.tree.length;n++)if(!e(t.tree[n]))return!1;return!0}return!1}(this)){var v=this.tree[0].tree[0],b=this.tree[1].tree[0];if(0!=p.length||d){if(0==p.length)return"new Number("+this.simple_js()+")";var y=h.binding;if(i=m(y,v),a=m(y,b),"float"==i&&"float"==a||"+"==this.op&&"str"==i&&"str"==a)return this.result_type=i,v.to_js()+this.op+b.to_js();if(["int","float"].indexOf(i)>-1&&["int","float"].indexOf(a)>-1)switch(this.result_type="int"==i&&"int"==a?"int":"float",this.op){case"-":return"$B.sub("+v.to_js()+","+b.to_js()+")";case"*":return"$B.mul("+v.to_js()+","+b.to_js()+")"}r=[];var x,w=[];for(var B of p)r.push(B+".valueOf && typeof "+B+'.valueOf() == "number"'),w.push("typeof "+B+' == "number"');return(x=[r.join(" && ")+" ? "]).push("("+w.join(" && ")+" ? "),x.push(this.simple_js()),x.push(" : new Number("+this.simple_js()+")"),x.push(")"),i=this.tree[0].to_js(),a=this.tree[1].to_js(),"+"==this.op&&x.push(" : (typeof "+i+' == "string" && typeof '+a+' == "string") ? '+i+"+"+a),x.push(': $B.rich_op("'+$operators[this.op]+'",'+i+","+a+")"),"("+x.join("")+")"}return this.simple_js()}return void 0!==e[this.op]?'$B.rich_comp("__'+$operators[this.op]+'__",'+g.to_js()+","+$.to_js()+")":'$B.rich_op("'+$operators[this.op]+'", '+g.to_js()+", "+$.to_js()+")";default:return void 0!==e[this.op]?'$B.rich_comp("__'+$operators[this.op]+'__",'+this.tree[0].to_js()+","+this.tree[1].to_js()+")":'$B.rich_op("'+$operators[this.op]+'", '+this.tree[0].to_js()+", "+this.tree[1].to_js()+")"}},$OpCtx.prototype.simple_js=function(){var e=this.op;function t(e){return"op"==e.type?e.simple_js():"expr"==e.type&&"list_or_tuple"==e.tree[0].type&&"tuple"==e.tree[0].real&&1==e.tree[0].tree.length&&"expr"==e.tree[0].tree[0].type?"("+e.tree[0].tree[0].tree[0].simple_js()+")":e.tree[0].to_js()}return"+"==e?"$B.add("+t(this.tree[0])+","+t(this.tree[1])+")":"-"==e?"$B.sub("+t(this.tree[0])+","+t(this.tree[1])+")":"*"==e?"$B.mul("+t(this.tree[0])+","+t(this.tree[1])+")":"/"==e?"$B.div("+t(this.tree[0])+","+t(this.tree[1])+")":t(this.tree[0])+e+t(this.tree[1])};var $PackedCtx=$B.parser.$PackedCtx=function(e){if(this.type="packed","list_or_tuple"==e.parent.type&&"node"==e.parent.parent.type)for(var t=0;t<e.parent.tree.length;t++){var r=e.parent.tree[t];"expr"==r.type&&r.tree.length>0&&"packed"==r.tree[0].type&&$_SyntaxError(e,["two starred expressions in assignment"])}this.parent=e,this.tree=[],this.pos=$pos-1,e.tree[e.tree.length]=this};$PackedCtx.prototype.ast=function(){return new ast.Starred(ast_or_obj(this.tree[0]),new ast.Load)},$PackedCtx.prototype.toString=function(){return"(packed) "+this.tree},$PackedCtx.prototype.transition=function(e,t){var r=this;if(r.tree.length>0&&"["==e)return $transition(r.tree[0],e,t);switch(e){case"id":var n=new $AbstractExprCtx(r,!1);return n.packed=!0,r.parent.expect=",",$transition(n,e,t);case"[":return r.parent.expect=",",new $ListOrTupleCtx(r,"list");case"(":return r.parent.expect=",",new $ListOrTupleCtx(r,"tuple");case"str":return r.parent.expect=",",new $StringCtx(r,t);case"JoinedStr":return r.parent.expect=",",new JoinedStrCtx(r,t);case"]":return $transition(r.parent,e,t);case"{":return r.parent.expect=",",new $DictOrSetCtx(r);case"op":switch(t){case"+":case"-":case"~":return r.parent.expect=",",new $UnaryCtx(r,t);default:$_SyntaxError(r,["can't use starred expression here"])}}return r.parent.transition(e,r)},$PackedCtx.prototype.to_js=function(){return this.js_processed=!0,$to_js(this.tree)};var $PassCtx=$B.parser.$PassCtx=function(e){this.type="pass",this.parent=e,this.tree=[],e.tree[e.tree.length]=this};$PassCtx.prototype.ast=function(){return new ast.Pass},$PassCtx.prototype.toString=function(){return"(pass)"},$PassCtx.prototype.transition=function(e,t){var r=this;if("eol"==e)return r.parent;$_SyntaxError(r,"token "+e+" after "+r)},$PassCtx.prototype.to_js=function(){return this.js_processed=!0,"void(0)"};var $PatternCtx=$B.parser.$PatternCtx=function(e){this.type="pattern",this.parent=e,this.tree=[],e.tree.push(this),this.expect="id"};function as_pattern(e,t,r){if("as"==e.expect)return"as"==t?(e.expect="alias",e):$transition(e.parent,t,r);if("alias"==e.expect){if("id"==t)return"_"==r&&$_SyntaxError(e,["alias cannot be _"]),e.bindings().indexOf(r)>-1&&$_SyntaxError(e,[`multiple assignments to name '${r}' in pattern`]),e.alias=r,e.parent;$_SyntaxError(e,"bad alias")}}$PatternCtx.prototype.transition=function(e,t){var r=this;switch(r.expect){case"id":switch(e){case"str":case"int":case"float":case"imaginary":return r.expect=",",new $PatternLiteralCtx(r,e,t);case"op":switch(t){case"-":case"+":return r.expect=",",new $PatternLiteralCtx(r,{sign:t});case"*":return r.expect="starred_id",r;default:$_SyntaxError(r)}case"id":return r.expect=",",["None","True","False"].indexOf(t)>-1?new $PatternLiteralCtx(r,e,t):new $PatternCaptureCtx(r,t);case"[":return new $PatternCtx(new $PatternSequenceCtx(r.parent,e));case"(":return new $PatternCtx(new $PatternGroupCtx(r.parent,e));case"{":return new $PatternMappingCtx(r.parent,e);case"JoinedStr":$_SyntaxError(r,["patterns may only match literals and attribute lookups"])}break;case"starred_id":if("id"==e){var n=new $PatternCaptureCtx(r,t);return n.starred=!0,n}$_SyntaxError(r,"expected id after *");case"number":switch(e){case"int":case"float":case"imaginary":return r.expect=",",new $PatternLiteralCtx(r,e,t,r.sign);default:$_SyntaxError(r)}case",":switch(e){case",":return r.parent instanceof $PatternSequenceCtx?new $PatternCtx(r.parent):new $PatternCtx(new $PatternSequenceCtx(r.parent));case":":return $BodyCtx(r)}}return r.parent.transition(e,t)};var $PatternCaptureCtx=function(e,t){this.type="capture_pattern",this.parent=e.parent,e.parent.tree.pop(),e.parent.tree.push(this),this.tree=[t],this.expect=".",this.$pos=$pos};$PatternCaptureCtx.prototype.ast=function(){try{if(this.tree.length>1){for(var e=new ast.Name(this.tree[0].value,new ast.Load),t=1;t<this.tree.length;t+=2)e=new ast.Attribute(e,this.tree[t],new ast.Load);return new ast.MatchValue(e)}return"string"==typeof(e=this.tree[0])?e=e.value:"group_pattern"==e.type?e=e.ast():(console.log("bizarre",e),e=$NumberCtx.prototype.ast.bind(this)()),"_"==e&&(e=void 0),this.alias?new ast.MatchAs(new ast.MatchAs(void 0,e),this.alias):new ast.MatchAs(void 0,e)}catch(e){throw console.log("error capture ast"),show_line(this),e}},$PatternCaptureCtx.prototype.bindings=function(){var e="_"==this.tree[0]?[]:this.tree.slice();return this.alias&&e.push(this.alias),e},$PatternCaptureCtx.prototype.transition=function(e,t){var r=this;switch(r.expect){case".":return"."==e?(r.type="value_pattern",r.expect="id",1==r.tree.length?new $IdCtx(r,r.tree.pop()):r.tree.push("."),r):"("==e?new $PatternCtx(new $PatternClassCtx(r)):r.parent instanceof $PatternMappingCtx?r.parent.transition(e,t):(r.expect="as",r.transition(e,t));case"as":case"alias":return as_pattern(r,e,t);case"id":if("id"==e)return r.tree.push(t),r.expect=".",r}return $transition(r.parent,e,t)},$PatternCaptureCtx.prototype.to_js=function(){var e;if(1==this.tree.length)e="{capture",1==this.starred&&(e+="_starred"),e+=`: '${this.tree[0]}'`;else{e=this.tree[0].to_js();for(var t=1,r=this.tree.length;t<r;t+=2)e="$B.$getattr("+e+', "'+this.tree[t]+'")';e=`{value: ${e}`}return this.alias&&(e+=`, alias: '${this.alias}'`),e+"}"},$PatternClassCtx=function(e){this.type="class_pattern",this.tree=[],this.parent=e.parent,this.class_id=new $IdCtx(e,e.tree[0]),e.tree.pop(),this.attrs=e.tree.slice(2),e.parent.tree.pop(),e.parent.tree.push(this),this.expect=",",this.keywords=[],this.positionals=[],this.bound_names=[]},$PatternClassCtx.prototype.ast=function(){var e=new ast.Name(this.class_id.value),t=[],r=[],n=[];for(var o of this.tree)if(o.is_keyword)r.push(o.tree[0]),n.push(ast_or_obj(o.tree[1]));else try{t.push(ast_or_obj(o))}catch(e){throw console.log("error in class pattern item"),show_line(this),e}return new ast.MatchClass(e,t,r,n)},$PatternClassCtx.prototype.bindings=function(){var e=this.bound_names;return this.alias&&e.push(this.alias),e},$PatternClassCtx.prototype.transition=function(e,t){var r=this;function n(){var e,t=$B.last(r.tree);if(t instanceof $PatternCaptureCtx){for(var n of(!t.is_keyword&&r.keywords.length>0&&$_SyntaxError(r,"positional argument after keyword"),t.is_keyword?(r.keywords.indexOf(t.tree[0])>-1&&$_SyntaxError(r,[`keyword argument repeated: ${t.tree[0]}`]),r.keywords.push(t.tree[0]),e=t.tree[1].bindings()):e=t.bindings(),e))r.bound_names.indexOf(n)>-1&&$_SyntaxError(r,[`multiple assignments to name '${n}' in pattern`]);r.bound_names=r.bound_names.concat(e)}}switch(this.expect){case",":switch(e){case"=":var o=$B.last(this.tree);if(o instanceof $PatternCaptureCtx)return this.keywords.indexOf(o.tree[0])>-1&&$_SyntaxError(r,["attribute name repeated in class pattern: "+o.tree[0]]),o.is_keyword=!0,new $PatternCtx(o);$_SyntaxError(this,"= after non-capture");case",":return n(),new $PatternCtx(this);case")":return n(),0==$B.last(this.tree).tree.length&&this.tree.pop(),r.expect="as",r;default:$_SyntaxError(this)}case"as":case"alias":return as_pattern(r,e,t)}return $transition(r.parent,e,t)},$PatternClassCtx.prototype.to_js=function(){for(var e=0,t=[],r=[],n=this.class_id.to_js(),o=(e=0,this.attrs.length);e<o;e+=2)n="$B.$getattr("+n+', "'+this.attrs[e]+'")';for(var i of(e=0,this.tree))i instanceof $PatternCaptureCtx&&i.tree.length>1?r.push(i.tree[0]+": "+i.tree[1].to_js()):t.push(i.to_js());var a="{class: "+n+", args: ["+t.join(", ")+"], keywords: {"+r.join(", ")+"}";return this.alias&&(a+=`, alias: "${this.alias}"`),a+"}"};var $PatternGroupCtx=function(e){this.type="group_pattern",this.parent=e,this.tree=[],e.tree.pop(),this.expect=",|",e.tree.push(this)};function remove_empty_pattern(e){var t=$B.last(e.tree);t&&t instanceof $PatternCtx&&0==t.tree.length&&e.tree.pop()}$PatternGroupCtx.prototype.ast=function(){return 1==this.tree.length?ast_or_obj(this.tree[0]):$PatternSequenceCtx.prototype.ast.bind(this)()},$PatternGroupCtx.prototype.bindings=function(){var e=[];for(var t of this.tree)e=e.concat(t.bindings());return this.alias&&e.push(this.alias),e},$PatternGroupCtx.prototype.transition=function(e,t){var r=this;switch(r.expect){case",|":if(")"==e)return remove_empty_pattern(r),r.expect="as",r;if(","==e)return r.expect="id",r.is_tuple=!0,r;if("op"==e&&"|"==t){var n=new $PatternOrCtx(r.parent);return n.parenthese=!0,new $PatternCtx(n)}if(void 0===this.token)return $transition(r.parent,e,t);$_SyntaxError(r);case"as":case"alias":return as_pattern(r,e,t);case"id":return")"==e?(remove_empty_pattern(r),r.expect="as",r):(r.expect=",|",$transition(new $PatternCtx(r),e,t))}console.log("error",this,e,t),$_SyntaxError(r,"token "+e+" after "+r)},$PatternGroupCtx.prototype.to_js=function(){if(this.is_tuple)var e="{sequence: ["+$to_js(this.tree)+"]";else e="{group: ["+$to_js(this.tree)+"]";return this.alias&&(e+=`, alias: "${this.alias}"`),e+"}"};var $PatternLiteralCtx=function(e,t,r,n){this.type="literal_pattern",this.parent=e.parent,e.parent.tree.pop(),e.parent.tree.push(this),t.sign?(this.tree=[{sign:t.sign}],this.expect="number"):("str"==t?(this.tree=[],new $StringCtx(this,r)):"JoinedStr"==t?$_SyntaxError(this,["patterns cannot include f-strings"]):this.tree=[{type:t,value:r,sign:n}],this.expect="op")};$PatternLiteralCtx.prototype.ast=function(){try{var e,t=this.tree[0];if("str"==t.type)e=new ast.MatchValue(new ast.Constant(t.value));else if("id"==t.type)e=new ast.MatchSingleton(t.value);else{var r=$NumberCtx.prototype.ast.bind(t)(),n=new ast.MatchValue(r);if(1==this.tree.length)e=n;else{var o=$NumberCtx.prototype.ast.bind(this.tree[2])();e=new ast.BinOp(n,"+"==this.tree[1]?ast.Add:ast.Sub,o)}}return 2==this.tree.length&&(e=new ast.MatchValue(new ast.BinOp(ast_or_obj(this.tree[0]),"+"==C.num_sign?ast.Add:ast.Sub,ast_or_obj(this.tree[1])))),this.alias?new ast.MatchAs(e,this.alias):e}catch(e){throw console.log("error pattern literal ast",this),show_line(this),e}},$PatternLiteralCtx.prototype.bindings=function(){return this.alias?[this.alias]:[]},$PatternLiteralCtx.prototype.transition=function(e,t){var r=this;switch(r.expect){case"op":if("op"==e)switch(t){case"+":case"-":if(["int","float"].indexOf(r.tree[0].type)>-1)return r.expect="imaginary",this.tree.push(t),r.num_sign=t,r;$_SyntaxError(r,["patterns cannot include operators"]);default:return $transition(r.parent,e,t)}break;case"number":switch(e){case"int":case"float":case"imaginary":var n=$B.last(r.tree);if(void 0===this.tree.token)return n.type=e,n.value=t,r.expect="op",r;default:$_SyntaxError(r)}case"imaginary":switch(e){case"imaginary":return r.tree.push({type:e,value:t,sign:r.num_sign}),r.parent;default:$_SyntaxError(r,"expected imaginary")}case"as":case"alias":return as_pattern(r,e,t)}return"as"==e&&1==r.tree.length?(r.expect="as",r.transition(e,t)):$transition(r.parent,e,t)},$PatternLiteralCtx.prototype.to_js=function(){var e,t="",r=this.tree[0];if(r instanceof $StringCtx)t=r.to_js();else switch(r.type){case"id":t="_b_."+r.value,e="True"==r.value?1:0;break;case"str":t=r.value;break;case"int":t=function(e){var t=parseInt(e.value[1],e.value[0]);return"-"==e.sign?-t:t}(r);break;case"float":t=("-"==r.sign?"-":"")+r.value;break;case"imaginary":t+="$B.make_complex(0, "+("-"==r.sign?"-":"")+r.value+")",0==r.value&&(e=0)}this.tree.length>1&&(t="$B.make_complex("+t+","+("-"==this.tree[1]?"-":"")+this.tree[2].value+")"),this.js_value=t,this.num_value=void 0===e?t:e;var n="{literal: "+t;return this.alias&&(n+=`, alias: '${this.alias}'`),n+"}"};var $PatternMappingCtx=function(e){this.type="mapping_pattern",this.parent=e,e.tree.pop(),this.tree=[],e.tree.push(this),this.expect="key_value_pattern",this.duplicate_keys=[],this.bound_names=[]};$PatternMappingCtx.prototype.ast=function(){var e=[],t=[];for(var r of this.tree)e.push(ast_or_obj(r.tree[0])),t.push(ast_or_obj(r.tree[1]));var n=new ast.MatchMapping(e,t);return this.double_star&&(n.rest=this.double_star.tree[0]),n},$PatternMappingCtx.prototype.bindings=function(){var e=[];for(var t of this.tree)e=e.concat(t.bindings());return this.rest&&(e=e.concat(this.rest.bindings())),this.alias&&e.push(this.alias),e},$PatternMappingCtx.prototype.transition=function(e,t){var r=this;switch(r.expect){case"key_value_pattern":if("}"==e||","==e)return function(){var e,t=$B.last(r.tree);if(t instanceof $PatternKeyValueCtx){for(var n of(r.double_star&&(r.$pos=r.double_star.$pos,$_SyntaxError(r,["can't use starred name here (consider moving to end)"])),e="value_pattern"==t.tree[0].type?t.tree[2].bindings():t.tree[1].bindings()))r.bound_names.indexOf(n)>-1&&$_SyntaxError(r,[`multiple assignments to name '${n}' in pattern`]);r.bound_names=r.bound_names.concat(e)}}(),r.double_star&&(r.tree.indexOf(r.double_star)!=r.tree.length-1&&(r.$pos=r.double_star.$pos,$_SyntaxError(r,["can't use starred name here (consider moving to end)"])),r.rest=r.tree.pop()),","==e?r:r.parent;if("op"==e&&"**"==t)return r.expect="capture_pattern",r;var n=new $PatternCtx(r);try{var o=n.transition(e,t)}catch(e){$_SyntaxError(r,["mapping pattern keys may only match literals and attribute lookups"])}if(o instanceof $PatternLiteralCtx){for(var i of(r.tree.pop(),r.tree))if(i instanceof $PatternKeyValueCtx){var a=i.tree[0];a instanceof $PatternLiteralCtx&&(a.tree[0],o.tree[0],a.to_js(),o.to_js(),key_value=a.num_value,lit_or_val_value=o.num_value,key_value==lit_or_val_value&&$_SyntaxError(r,["duplicate literal key "+lit_or_val_value]))}return new $PatternKeyValueCtx(r,o),o}if(o instanceof $PatternCaptureCtx)return r.has_value_pattern_keys=!0,r.tree.pop(),new $PatternKeyValueCtx(r,o),r.expect=".",this;console.log("lit_or_val",o),$_SyntaxError(r,"expected key or **");case"capture_pattern":n=new $PatternCtx(r);var s=$transition(n,e,t);if(s instanceof $PatternCaptureCtx)return r.double_star&&(r.$pos=s.$pos,$_SyntaxError(r,["only one double star pattern is accepted"])),"_"==t&&$_SyntaxError(r,"**_ is not valid"),r.bound_names.indexOf(t)>-1&&$_SyntaxError(r,["duplicate binding: "+t]),r.bound_names.push(t),s.double_star=!0,r.double_star=s,r.expect=",",r;$_SyntaxError(this,"expected identifier");case",":if(","==e)return r.expect="key_value_pattern",r;if("}"==e)return r.expect="key_value_pattern",r.transition(e,t);$_SyntaxError(r,"token "+e+"after C "+r);case".":if(r.tree.length>0){var l=$B.last(r.tree);if(l instanceof $PatternKeyValueCtx)return new $IdCtx(l,l.tree[0].tree[0]),r.expect="key_value_pattern",$transition(l.tree[0],e,t)}$_SyntaxError(r,"token "+e+"after "+r)}return $transition(r.parent,e,t)},$PatternMappingCtx.prototype.to_js=function(){var e="{mapping: ["+$to_js(this.tree)+"]";return this.rest&&(e+=", rest: '"+this.rest.tree[0]+"'"),e+"}"};var $PatternKeyValueCtx=function(e,t){this.type="pattern_key_value",this.parent=e,this.tree=[t],t.parent=this,this.expect=":",e.tree.push(this)};$PatternKeyValueCtx.prototype.bindings=$PatternMappingCtx.prototype.bindings,$PatternKeyValueCtx.prototype.transition=function(e,t){var r=this;switch(r.expect){case":":switch(e){case":":return this.expect=",",new $PatternCtx(this);default:console.log("keyvalue",r,"expected :, got",e,t),$_SyntaxError(r,"expected :")}case",":switch(e){case"}":return $transition(r.parent,e,t);case",":return r.parent.expect="key_value_pattern",$transition(r.parent,e,t);case"op":if("|"==t)return new $PatternCtx(new $PatternOrCtx(r))}$_SyntaxError(r,"expected , or }")}return $transition(r.parent,e,t)},$PatternKeyValueCtx.prototype.to_js=function(){var e,t;if("value_pattern"==this.tree[0].type){e=this.tree[1].to_js();for(var r=2,n=this.tree[0].tree.length;r<n;r+=2)e="$B.$getattr("+e+', "'+this.tree[0].tree[r]+'")';e="{value: "+e+"}",t=this.tree[2].to_js()}else e=this.tree[0].to_js(),t=this.tree[1].to_js();return"["+e+","+t+"]"};var $PatternOrCtx=function(e){this.type="or_pattern",this.parent=e;var t=e.tree.pop();t instanceof $PatternGroupCtx&&"as"!=t.expect&&(t=t.tree[0]),this.tree=[t],t.parent=this,this.expect="|",e.tree.push(this),this.check_reachable()};$PatternOrCtx.prototype.ast=function(){return new ast.MatchOr(this.tree.map(ast_or_obj))},$PatternOrCtx.prototype.bindings=function(){var e;for(var t of this.tree){void 0===t.bindings&&console.log("no binding",t);var r=t.bindings();if(void 0===e)e=r;else{for(var n of e)-1==r.indexOf(n)&&$_SyntaxError(this,["alternative patterns bind different names"]);for(var n of r)-1==e.indexOf(n)&&$_SyntaxError(this,["alternative patterns bind different names"])}}return this.alias?e.concat(this.alias):e},$PatternOrCtx.prototype.check_reachable=function(){var e,t=$B.last(this.tree);"capture_pattern"==t.type?e=t.tree[0]:"group_pattern"==t.type&&1==t.tree.length&&"capture_pattern"==t.tree[0].type?e=t.tree[0].tree[0]:t instanceof $PatternOrCtx&&t.check_reachable(),e&&$_SyntaxError(this,[("_"==e?"wildcard":`name capture '${e}'`)+" makes remaining patterns unreachable"])},$PatternOrCtx.prototype.transition=function(e,t){function r(){var e=$B.last(n.tree);e.alias&&(n.alias=e.alias,delete e.alias)}var n=this;if(["as","alias"].indexOf(n.expect)>-1)return as_pattern(n,e,t);if("op"==e&&"|"==t){for(var o of n.tree)o.alias&&$_SyntaxError(n,"no as pattern inside or pattern");return n.check_reachable(),new $PatternCtx(n)}return")"==e&&n.parenthese?(r(),n.bindings(),delete n.parenthese,n.expect="as",n):(r(),n.bindings(),$transition(n.parent,e,t))},$PatternOrCtx.prototype.to_js=function(){var e="{or : ["+$to_js(this.tree)+"]";return this.alias&&(e+=`, alias: '${this.alias}'`),e+"}"};var $PatternSequenceCtx=function(e,t){this.type="sequence_pattern",this.parent=e,this.tree=[],this.bound_names=[];var r=e.tree.pop();void 0===t?(this.bound_names=r.bindings(),this.tree=[r],r.starred&&(this.has_star=!0),r.parent=this):this.token=t,this.expect=",",e.tree.push(this)};$PatternSequenceCtx.prototype.ast=function(){return new ast.MatchSequence(this.tree.map(ast_or_obj))},$PatternSequenceCtx.prototype.bindings=$PatternMappingCtx.prototype.bindings,$PatternSequenceCtx.prototype.transition=function(e,t){function r(){var e=$B.last(n.tree);if(!(e instanceof $PatternCtx)){var t=e.bindings();for(var r of t)n.bound_names.indexOf(r)>-1&&$_SyntaxError(n,["multiple assignments to name '"+r+"' in pattern"]);e.starred&&(n.has_star&&$_SyntaxError(n,["multiple starred names in sequence pattern"]),n.has_star=!0),n.bound_names=n.bound_names.concat(t)}}var n=this;if(","==n.expect){if("["==n.token&&"]"==e||"("==n.token&&")"==e){var o=0;for(var i of n.tree)i instanceof $PatternCaptureCtx&&i.starred&&++o>1&&$_SyntaxError(n,["multiple starred names in sequence pattern"]);return n.expect="as",r(),remove_empty_pattern(n),n}if(","==e)return r(),n.expect="id",n;if("op"==e&&"|"==t)return remove_empty_pattern(n),new $PatternCtx(new $PatternOrCtx(n));if(void 0===this.token)return r(),$transition(n.parent,e,t);$_SyntaxError(n)}else{if("as"==n.expect)return"as"==e?(this.expect="alias",n):$transition(n.parent,e,t);if("alias"==n.expect){if(e="id")return n.alias=t,n.parent;$_SyntaxError(n,"expected alias")}else if("id"==n.expect)return n.expect=",",$transition(new $PatternCtx(n),e,t)}},$PatternSequenceCtx.prototype.to_js=function(){var e="{sequence: ["+$to_js(this.tree)+"]";return this.alias&&(e+=`, alias: '${this.alias}'`),e+"}"};var $RaiseCtx=$B.parser.$RaiseCtx=function(e){this.type="raise",this.parent=e,this.tree=[],e.tree[e.tree.length]=this,this.scope_type=$get_scope(this).ntype};$RaiseCtx.prototype.ast=function(){return new ast.Raise(...this.tree.map(ast_or_obj))},$RaiseCtx.prototype.toString=function(){return" (raise) "+this.tree},$RaiseCtx.prototype.transition=function(e,t){var r=this;switch(e){case"id":if(0==r.tree.length)return new $IdCtx(new $ExprCtx(r,"exc",!1),t);break;case"from":if(r.tree.length>0)return new $AbstractExprCtx(r,!1);break;case"eol":return remove_abstract_expr(this.tree),$transition(r.parent,e)}$_SyntaxError(r,"token "+e+" after "+r)},$RaiseCtx.prototype.to_js=function(){return this.js_processed=!0,"$B.$raise("+(0==this.tree.length?"":this.tree[0].to_js())+")"};var $RawJSCtx=$B.parser.$RawJSCtx=function(e,t){this.type="raw_js",e.tree[e.tree.length]=this,this.parent=e,this.js=t};$RawJSCtx.prototype.toString=function(){return"(js) "+this.js},$RawJSCtx.prototype.transition=function(e,t){},$RawJSCtx.prototype.to_js=function(){return this.js_processed=!0,this.js};var $ReturnCtx=$B.parser.$ReturnCtx=function(e){this.type="return",this.parent=e,this.tree=[],e.tree[e.tree.length]=this,this.scope=$get_scope(this),-1==["def","generator"].indexOf(this.scope.ntype)&&$_SyntaxError(e,["'return' outside function"]);for(var t=this.node=$get_node(this);t.parent;){if(t.parent.C){var r=t.parent.C.tree[0];if("for"==r.type){r.has_return=!0;break}("try"==r.type||"single_kw"==r.type&&"finally"==r.token)&&(r.has_return=!0)}t=t.parent}};$ReturnCtx.prototype.ast=function(){var e=new ast.Return;return this.tree.length>0&&(e.value=ast_or_obj(this.tree[0])),e},$ReturnCtx.prototype.toString=function(){return"return "+this.tree},$ReturnCtx.prototype.transition=function(e,t){return"eol"==e&&1==this.tree.length&&"abstract_expr"==this.tree[0].type&&this.tree.pop(),$transition(this.parent,e)},$ReturnCtx.prototype.to_js=function(){this.js_processed=!0;var e=0==this.tree.length?"_b_.None":$to_js(this.tree),t=this.scope;if("generator"==t.ntype)return"var $res = "+e+"; $B.leave_frame({$locals});return $B.generator_return($res)";var r="    ".repeat(this.node.indent-1),n="var $res = "+e+";\n"+r+"if($locals.$f_trace !== _b_.None){\n$B.trace_return($res)}\n"+r+"$B.leave_frame";return"$exec_"==t.id.substr(0,6)&&(n+="_exec"),n+="({$locals});\n",this.is_await&&(n+=r+"$B.restore_stack(save_stack, $locals)\n"),n+(r+"return $res")};var SetCompCtx=function(e){this.type="setcomp",this.tree=[e.tree[0]],this.tree[0].parent=this,Comprehension.make_comp(this,e)};SetCompCtx.prototype.ast=function(){return new ast.SetComp(ast_or_obj(this.tree[0]),Comprehension.generators(this.tree.slice(1)))},SetCompCtx.prototype.transition=function(e,t){if("}"==e)return this.has_await=Comprehension.has_await(this),this.parent;$_SyntaxError(this,"token "+e+"after list comp")},SetCompCtx.prototype.to_js=function(){var e=$get_node(this).get_indent(),t=this.id,r=this.tree[0],n=this.tree[1],o=n.tree[1].to_js();n.comp_body=!0,n.iterable_is_outermost=!0,this.module.replace(/\./g,"_");var i=`(${this.has_await?"async ":""}function(expr){`+Comprehension.admin_infos(this)+`\nvar $result_${t} = _b_.set.$factory()\n`;i+=n.to_js(e);for(var a=-1,s=2;s<this.tree.length;s++){a++;var l=this.tree[s];"for"==l.type?(l.comp_body=!0,i+="\n"+l.to_js(e+a)):"condition"==l.type&&"if"==l.token&&(i+="\n"+" ".repeat(12+4*a)+l.to_js()+"{")}var _=Comprehension.has_await(r);for(i+="\n"+" ".repeat(16+4*a)+(_?"var save_stack = $B.save_stack();\n":"")+`try{\n_b_.set.add($result_${t}, ${r.to_js()})\n}catch(err){\n`+(_?"$B.restore_stack(save_stack, $locals);":"")+"$B.leave_frame($locals); throw err\n\n}"+(_?"$B.restore_stack(save_stack, $locals);":""),s=1;s<this.tree.length;s++)i+="\n"+" ".repeat(12+4*a--)+"}";return i+="\n$B.leave_frame({$locals, value: _b_.None})",(i+=`\nreturn $result_${t}`)+`\n}\n)(${o})`};var $SingleKwCtx=$B.parser.$SingleKwCtx=function(e,t){if(this.type="single_kw",this.token=t,this.parent=e,this.tree=[],e.tree[e.tree.length]=this,"else"==t){var r=e.node,n=r.parent.children.indexOf(r),o=r.parent.children[n-1].C;if(o.tree[0].orelse=this,o.tree.length>0){var i=o.tree[0];("for"==i.type||"asyncfor"==i.type||"condition"==i.type&&"while"==i.token)&&(i.has_break=!0,i.else_node=$get_node(this),this.loop_num=i.loop_num)}}};$SingleKwCtx.prototype.ast=function(){return ast_body(this.parent)},$SingleKwCtx.prototype.toString=function(){return this.token},$SingleKwCtx.prototype.transition=function(e,t){var r=this;if(":"==e)return $BodyCtx(r);$_SyntaxError(r,"token "+e+" after "+r)},$SingleKwCtx.prototype.transform=function(e,t){if("finally"==this.token){var r=$get_scope(this);e.insert(0,$NodeJS("var $exit;if($B.frames_stack.length < $stack_length){\n$exit = true;$B.frames_stack.push($top_frame)}")),r.id.replace(/\./g,"_"),"return"!=e.children[e.children.length-1].C.tree[0].type&&e.add($NodeJS("if($exit){\n$B.leave_frame({$locals})}"))}},$SingleKwCtx.prototype.to_js=function(){return this.js_processed=!0,"finally"==this.token?this.token:void 0!==this.loop_num?"if($no_break"+this.loop_num+")":this.token};var $SliceCtx=$B.parser.$SliceCtx=function(e){this.type="slice",this.parent=e,this.tree=e.tree.length>0?[e.tree.pop()]:[],e.tree.push(this)};$SliceCtx.prototype.ast=function(){for(var e=new ast.Slice,t=["lower","upper","step"],r=0;r<this.tree.length;r++){var n=this.tree[r];"abstract_expr"!==n.type&&(e[t[r]]=ast_or_obj(n))}return e},$SliceCtx.prototype.transition=function(e,t){return":"==e?new $AbstractExprCtx(this,!1):$transition(this.parent,e,t)},$SliceCtx.prototype.to_js=function(){for(var e=0;e<this.tree.length;e++)"abstract_expr"==this.tree[e].type&&(this.tree[e].to_js=function(){return"_b_.None"});return"_b_.slice.$factory("+$to_js(this.tree)+")"};var $StarArgCtx=$B.parser.$StarArgCtx=function(e){this.type="star_arg",this.parent=e,this.tree=[],e.tree[e.tree.length]=this};$StarArgCtx.prototype.toString=function(){return"(star arg) "+this.tree},$StarArgCtx.prototype.transition=function(e,t){var r=this;switch(e){case"id":return"target_list"==r.parent.type?(r.tree.push(t),r.parent.expect=",",r.parent):$transition(new $AbstractExprCtx(r,!1),e,t);case"imaginary":case"int":case"float":case"str":case"JoinedStr":case"bytes":case"[":case"(":case"{":case"not":case"lambda":return $transition(new $AbstractExprCtx(r,!1),e,t);case",":case")":return 0==r.tree.length&&$_SyntaxError(r,"unnamed star argument"),$transition(r.parent,e);case":":if("lambda"==r.parent.parent.type)return $transition(r.parent.parent,e)}$_SyntaxError(r,"token "+e+" after "+r)},$StarArgCtx.prototype.to_js=function(){return this.js_processed=!0,'{$nat:"ptuple",arg:'+$to_js(this.tree)+"}"};var $StringCtx=$B.parser.$StringCtx=function(e,t){function r(e){return(e=e.replace(/\n/g,"\\n\\\n")).replace(/\r/g,"\\r\\\r")}this.type="str",this.parent=e,this.is_bytes="b"==t.charAt(0),this.is_bytes?this.value=r(t.substr(1)):this.value=r(t),e.tree.push(this),this.tree=[this.value],this.raw=!1,this.$pos=$pos};$StringCtx.prototype.ast=function(){var value;if(this.is_bytes)value=_b_.bytes.$new(_b_.bytes,eval(this.value),"ISO-8859-1");else try{value=eval(this.value)}catch(e){throw console.log("error str ast",this.value),e}return new ast.Constant(value)},$StringCtx.prototype.toString=function(){return"string "+(this.value||"")},$StringCtx.prototype.transition=function(token,value){var C=this;switch(token){case"[":return new $AbstractExprCtx(new $SubCtx(C.parent),!1);case"(":return C.parent.tree[0]=C,new $CallCtx(C.parent);case"str":return(this.is_bytes&&!value.startsWith("b")||!this.is_bytes&&value.startsWith("b"))&&(C.$pos=$pos,$_SyntaxError(C,["cannot mix bytes and nonbytes literals"])),C.value+=" + "+(this.is_bytes?value.substr(1):value),C;case"JoinedStr":C.parent.tree.pop();var joined_str=new JoinedStrCtx(C.parent,value);return"string"==typeof joined_str.tree[0]?joined_str.tree[0]=eval(this.value)+joined_str.tree[0]:joined_str.tree.splice(0,0,this),joined_str}return $transition(C.parent,token,value)},$StringCtx.prototype.to_js=function(){return this.js_processed=!0,this.is_bytes?"_b_.bytes.$new(_b_.bytes, "+this.value+", 'ISO-8859-1')":"$B.String("+this.value+")"};var $SubCtx=$B.parser.$SubCtx=function(e){this.type="sub",this.func="getitem",this.value=e.tree[0],e.tree.pop(),e.tree[e.tree.length]=this,this.parent=e,this.tree=[]};$SubCtx.prototype.ast=function(){var e=ast_or_obj(this.tree[0]);return new ast.Subscript(ast_or_obj(this.value),e,new ast.Load)},$SubCtx.prototype.toString=function(){return"(sub) (value) "+this.value+" (tree) "+this.tree},$SubCtx.prototype.transition=function(e,t){var r=this;switch(e){case"id":case"imaginary":case"int":case"float":case"str":case"JoinedStr":case"bytes":case"[":case"(":case"{":case".":case"not":case"lambda":var n=new $AbstractExprCtx(r,!1);return $transition(n,e,t);case"]":if(r.parent.packed)return r.parent;if(r.tree[0].tree.length>0)return r.parent;break;case":":return new $AbstractExprCtx(new $SliceCtx(r),!1);case",":return new $AbstractExprCtx(r,!1)}$_SyntaxError(r,"token "+e+" after "+r)},$SubCtx.prototype.to_js=function(){if(this.js_processed=!0,"getitem"==this.func&&"id"==this.value.type){var e=$get_node(this).locals[this.value.value],t=this.value.to_js();if("list"==e||"tuple"==e){if(1==this.tree.length)return"$B.list_key("+t+", "+this.tree[0].to_js()+")";if(2==this.tree.length)return"$B.list_slice("+t+", "+(this.tree[0].to_js()||"null")+","+(this.tree[1].to_js()||"null")+")";if(3==this.tree.length)return"$B.list_slice_step("+t+", "+(this.tree[0].to_js()||"null")+","+(this.tree[1].to_js()||"null")+","+(this.tree[2].to_js()||"null")+")"}}if("getitem"==this.func&&1==this.tree.length)return"slice"==this.tree[0].type?`$B.getitem_slice(${this.value.to_js()}, ${this.tree[0].to_js()})`:"$B.$getitem("+this.value.to_js()+","+this.tree[0].to_js()+")";if("delitem"==this.func&&1==this.tree.length)return"slice"==this.tree[0].type?`$B.delitem_slice(${this.value.to_js()}, ${this.tree[0].to_js()})`:"$B.$delitem("+this.value.to_js()+","+this.tree[0].to_js()+")";var r="",n=!1;if("delitem"!==this.func&&1==this.tree.length&&!this.in_sub){var o="",i=this;for(n=!0;"sub"==i.value.type;)o+="["+i.tree[0].to_js()+"]",i.value.in_sub=!0,i=i.value;var a=i.value.to_js()+"["+i.tree[0].to_js()+"]((Array.isArray("+i.value.to_js()+") || typeof "+i.value.to_js()+' == "string") && '+a+" !== undefined ?"+a+o+" : "}if(r+="$B.$getattr("+(t=this.value.to_js())+',"__'+this.func+'__")(',1==this.tree.length)r+=this.tree[0].to_js()+")";else{var s=[];for(var l of this.tree)"abstract_expr"==l.type?s.push("_b_.None"):s.push(l.to_js());r+="_b_.tuple.$factory(["+s.join(",")+"]))"}return n?r+")":r};var $TargetListCtx=$B.parser.$TargetListCtx=function(e){this.type="target_list",this.parent=e,this.tree=[],this.expect="id",this.nb_packed=0,e.tree[e.tree.length]=this};$TargetListCtx.prototype.ast=function(){if(1==this.tree.length){if((r=ast_or_obj(this.tree[0])).ctx=new ast.Store,r instanceof ast.Tuple)for(var e of r.elts)e.ctx=new ast.Store;return r}var t=[];for(var r of this.tree)(r=ast_or_obj(r)).hasOwnProperty("ctx")&&(r.ctx=new ast.Store),t.push(r);return new ast.Tuple(t,new ast.Store)},$TargetListCtx.prototype.toString=function(){return"(target list) "+this.tree},$TargetListCtx.prototype.transition=function(e,t){var r=this;switch(e){case"id":if("id"==r.expect)return r.expect=",",new $IdCtx(new $ExprCtx(r,"target",!1),t);case"op":if("id"==r.expect&&"*"==t)return this.nb_packed++,new $PackedCtx(r);case"(":case"[":if("id"==r.expect)return r.expect=",",new $ListOrTupleCtx(r,"("==e?"tuple":"list");case")":case"]":if(","==r.expect)return r.parent;case",":if(","==r.expect)return r.expect="id",r.implicit_tuple=!0,r}return","==r.expect||"in"==e?$transition(r.parent,e,t):void $_SyntaxError(r,"token "+e+" after "+r)},$TargetListCtx.prototype.to_js=function(){return this.js_processed=!0,$to_js(this.tree)};var $TernaryCtx=$B.parser.$TernaryCtx=function(e){this.type="ternary",e.parent.tree.pop();var t=new $ExprCtx(e.parent,"ternary",!1);t.tree.push(this),this.parent=t,this.tree=[e],e.parent=this};$TernaryCtx.prototype.ast=function(){return new ast.IfExp(ast_or_obj(this.tree[1]),ast_or_obj(this.tree[0]),ast_or_obj(this.tree[2]))},$TernaryCtx.prototype.toString=function(){return"(ternary) "+this.tree},$TernaryCtx.prototype.transition=function(e,t){var r=this;if("else"==e)return r.in_else=!0,new $AbstractExprCtx(r,!1);if(r.in_else){if(","==e&&["assign","augm_assign","node","return"].indexOf(r.parent.type)>-1){r.parent.tree.pop();var n=new $ListOrTupleCtx(r.parent,"tuple");return n.implicit=!0,n.tree[0]=r,r.parent=n,n.expect="id",n}}else $_SyntaxError(r,"token "+e+" after "+r);return $transition(r.parent,e,t)},$TernaryCtx.prototype.to_js=function(){this.js_processed=!0;var e="$B.$bool("+this.tree[1].to_js()+") ? ";return(e+=this.tree[0].to_js()+" : ")+this.tree[2].to_js()};var $TryCtx=$B.parser.$TryCtx=function(e){this.type="try",this.parent=e,e.tree[e.tree.length]=this};$TryCtx.prototype.ast=function(){var e=this.parent.node,t={body:ast_body(this.parent),handlers:[],orelse:[],finalbody:[]},r=e.parent.children.indexOf(e);for(var n of e.parent.children.slice(r+1)){var o=n.C.tree[0],i=o.type;if("single_kw"==i&&(i=o.token),"except"==i)t.handlers.push(ast_or_obj(o));else if("else"==i)t.orelse=ast_body(n.C);else{if("finally"!=i)break;t.finalbody=ast_body(n.C)}}return new ast.Try(t.body,t.handlers,t.orelse,t.finalbody)},$TryCtx.prototype.toString=function(){return"(try) "},$TryCtx.prototype.transition=function(e,t){var r=this;if(":"==e)return $BodyCtx(r);$_SyntaxError(r,"token "+e+" after "+r)},$TryCtx.prototype.transform=function(e,t){e.parent.children.length==t+1&&$_SyntaxError(e.C,["unexpected EOF while parsing"]);var r=$get_scope(this),n=create_temp_name("$err"),o="$locals."+create_temp_name("$failed"),i=o+" = false;\n"+" ".repeat(e.indent+4)+"try";new $NodeJSCtx(e,i),e.has_return=this.has_return;var a=$NodeJS("catch("+n+")");e.parent.insert(t+1,a),a.add($NodeJS("$B.set_exc("+n+")")),a.add($NodeJS("if($locals.$f_trace !== _b_.None){\n$locals.$f_trace = $B.trace_exception()}")),a.add($NodeJS(o+" = true;$B.pmframe = $B.last($B.frames_stack);if(false){\n}"));for(var s=t+2,l=!1,_=!1,c=!1;s!=e.parent.children.length&&void 0!==(h=e.parent.children[s].C.tree[0]);)if("except"==h.type){if(_&&$_SyntaxError(C,"'except' or 'finally' after 'else'"),c&&$_SyntaxError(C,"'except' after 'finally'"),h.error_name=n,h.tree.length>0&&null!==h.tree[0].alias&&void 0!==h.tree[0].alias){var u=h.tree[0].alias;e.parent.children[s].insert(0,$NodeJS('$locals["'+u+'"] = $B.exception('+n+")"))}a.insert(a.children.length,e.parent.children[s]),0==h.tree.length&&(l&&$_SyntaxError(C,"more than one except: line"),l=!0),e.parent.children.splice(s,1)}else if("single_kw"==h.type&&"finally"==h.token){c=!0;var f=e.parent.children[s];s++}else{if("single_kw"!=h.type||"else"!=h.token)break;_&&$_SyntaxError(C,"more than one 'else'"),c&&$_SyntaxError(C,"'else' after 'finally'"),_=!0;var p=e.parent.children[s];e.parent.children.splice(s,1)}if(!l){var d=new $Node,h=new $NodeCtx(d);a.insert(a.children.length,d),new $SingleKwCtx(h,"else"),d.add($NodeJS("throw "+n))}if(_){var m=new $Node;for(var g of(m.module=r.module,new $NodeJSCtx(m,"if(!"+o+")"),p.children))m.add(g);c?f.insert(0,m):e.parent.insert(s,m),s++}$loop_num++},$TryCtx.prototype.to_js=function(){return this.js_processed=!0,"try"};var $UnaryCtx=$B.parser.$UnaryCtx=function(e,t){this.type="unary",this.op=t,this.parent=e,this.tree=[],e.tree.push(this)};$UnaryCtx.prototype.ast=function(){var e={"+":ast.UAdd,"-":ast.USub,"~":ast.Invert}[this.op];return new ast.UnaryOp(new e,ast_or_obj(this.tree[0]))},$UnaryCtx.prototype.toString=function(){return"(unary) "+this.op},$UnaryCtx.prototype.transition=function(e,t){var r=this;switch(e){case"op":if("+"==t||"-"==t)return r.op===t?r.op="+":r.op="-",r;case"int":case"float":case"imaginary":"packed"==r.parent.type&&$_SyntaxError(r,["can't use starred expression here"]);var n=new $NumberCtx(e,r,t);return console.log("new number after unary",n),alert(),n;case"id":return $transition(new $AbstractExprCtx(r,!1),e,t)}return 0!=this.tree.length&&"abstract_expr"!=this.tree[0].type||$_SyntaxError(r,"token "+e+"after C"+r),$transition(r.parent,e,t)},$UnaryCtx.prototype.to_js=function(){this.js_processed=!0;var operand=this.tree[0].tree[0];switch(operand.type){case"float":return"_b_.float.$factory("+this.op+operand.value+")";case"int":var value=eval(operand.to_js());if(value.__class__!=$B.long_int)return eval(this.op+value)}var method={"-":"__neg__","+":"__pos__","~":"__invert__"}[this.op];return"$B.$call($B.$getattr("+operand.to_js()+', "'+method+'"))()'};var $WithCtx=$B.parser.$WithCtx=function(e){this.type="with",this.parent=e,e.tree[e.tree.length]=this,this.tree=[],this.expect="as",this.scope=$get_scope(this)};$WithCtx.prototype.ast=function(){var e,t=[];for(var r of this.tree)e=new ast.withitem(ast_or_obj(r.tree[0])),r.alias&&(e.optional_vars=ast_or_obj(r.alias.tree[0]),e.optional_vars.ctx=new ast.Store),t.push(e);return new(this.async?ast.AsyncWith:ast.With)(t,ast_body(this.parent))},$WithCtx.prototype.toString=function(){return"(with) "+this.tree},$WithCtx.prototype.transition=function(e,t){var r=this;switch(e){case"id":if("id"==r.expect)return r.expect="as",$transition(new $AbstractExprCtx(r,!1),e,t);$_SyntaxError(r,"token "+e+" after "+r);case"as":return new $AbstractExprCtx(new $AliasCtx(r));case":":switch(r.expect){case"id":case"as":case":":return $BodyCtx(r)}break;case"(":if("id"==r.expect&&0==r.tree.length)return r.parenth=!0,r;if("alias"==r.expect)return r.expect=":",new $TargetListCtx(r,!1);break;case")":if(","==r.expect||"as"==r.expect)return r.expect=":",r;break;case",":if(void 0!==r.parenth&&void 0===r.has_alias&&(","==r.expect||"as"==r.expect))return r.expect="id",r;if("as"==r.expect)return r.expect="id",r;if(":"==r.expect)return r.expect="id",r}$_SyntaxError(r,"token "+e+" after "+r.expect)},$WithCtx.prototype.set_alias=function(e){var t=[];if("id"==e.type)t=[e];else if("list_or_tuple"==e.type)for(var r of e.tree)"expr"==r.type&&"id"==r.tree[0].type&&t.push(r.tree[0]);for(var n=0,o=t.length;n<o;n++){var i=t[n];$bind(i.value,this.scope,this),i.bound=!0,"module"!==this.scope.ntype&&this.scope.C.tree[0].locals.push(i.value)}},$WithCtx.prototype.transform=function(e,t){for(;this.tree.length>1;){var r=e.children,n=this.tree.pop(),o=new $Node,i=new $NodeCtx(o),a=new $WithCtx(i);for(var s of(n.parent=a,a.tree=[n],a.async=this.async,r))o.add(s);e.children=[o]}if(!this.transformed){if(this.prefix="",this.tree.length>1){var l=new $Node;i=new $NodeCtx(l),l.parent=e,l.module=e.module,l.indent=e.indent+4;var _=new $WithCtx(i);for(var s of(_.async=this.async,_.tree=this.tree.slice(1),e.children))l.add(s);return e.children=[l],void(this.transformed=!0)}if(this.async)return this.transform_async(e,t);var c=$NodeJS("try");e.parent.insert(t+1,c);var u=this.num=$loop_num++;if(c.ctx_manager_num=u,this.cm_name=this.prefix+"$ctx_manager"+u,this.cmexit_name=this.prefix+"$ctx_manager_exit"+u,this.exc_name=this.prefix+"$exc"+u,this.err_name="$err"+u,this.val_name="$value"+u,this.yield_name=this.prefix+"$yield"+u,null===this.tree[0].alias&&(this.tree[0].alias="$temp"),"expr"==this.tree[0].type&&"list_or_tuple"==this.tree[0].tree[0].type){"expr"==this.tree[1].type&&"list_or_tuple"==this.tree[1].tree[0].type||$_SyntaxError(C),this.tree[0].tree[0].tree.length!=this.tree[1].tree[0].tree.length&&$_SyntaxError(C,["wrong number of alias"]);var f=this.tree[0].tree[0].tree,p=this.tree[1].tree[0].tree;this.tree.shift(),this.tree.shift();for(var d=f.length-1;d>=0;d--)f[d].alias=p[d].value,this.tree.splice(0,0,f[d])}var h=e.children;e.children=[];var m=new $Node;for(var s of(new $NodeJSCtx(m,"try"),c.add(m),this.tree[0].alias&&(o=new $Node,i=new $NodeCtx(o),m.add(o),this.tree[0].alias.tree[0].parent=i,new $AssignCtx(this.tree[0].alias.tree[0]).tree.push(new $RawJSCtx(i,this.val_name))),h))m.add(s);var g=new $Node;new $NodeJSCtx(g,"catch("+this.err_name+")");var $=this.exc_name+" = false;"+this.err_name+" = $B.exception("+this.err_name+", true)\n"+" ".repeat(e.indent+4)+"var $b = "+this.cmexit_name+"("+this.err_name+".__class__,"+this.err_name+",$B.$getattr("+this.err_name+', "__traceback__"));';$+="\nif(!$B.$bool($b)){\nthrow "+this.err_name+"}",g.add($NodeJS($)),c.add(g);var v=new $Node;new $NodeJSCtx(v,"finally"),v.C.type="single_kw",v.C.token="finally",v.C.in_ctx_manager=!0,v.is_except=!0,v.in_ctx_manager=!0,$="if("+this.exc_name,$+="){\n"+this.cmexit_name+"(_b_.None, _b_.None, _b_.None);","generator"==this.scope.ntype&&($+="delete "+this.cmexit_name),$+="};",v.add($NodeJS($)),e.parent.insert(t+2,v),this.transformed=!0}},$WithCtx.prototype.transform_async=function(e,t){$get_scope(this);var r=this.tree[0],n=this.tree[0].alias,o=[],i=this.num=$loop_num++;this.cm_name="$ctx_manager"+i,this.cmexit_name="$ctx_manager_exit"+i,this.exc_name="$exc"+i;var a="$ctx_mgr_type"+i,s="$ctx_manager_enter"+i,l="$err"+i,_="var "+this.cm_name+" = $locals."+this.cm_name+" = "+r.to_js()+",";if(o.push($NodeJS(_)),o.push($NodeJS("    "+a+" = _b_.type.$factory("+this.cm_name+"),")),o.push($NodeJS("    "+this.cmexit_name+" = $B.$call($B.$getattr("+a+', "__aexit__")),')),o.push($NodeJS("    "+s+" = $B.$call($B.$getattr("+a+', "__aenter__"))('+this.cm_name+"),")),o.push($NodeJS("    "+this.exc_name+" = false")),_="",n)if("list_or_tuple"!=n.tree[0].tree[0].type)_=n.tree[0].to_js()+" = await ($B.promise("+s+"))",o.push($NodeJS(_));else{var c=new $Node,u=new $NodeCtx(c);(r=new $ExprCtx(u,"left",!1)).tree.push(n.tree[0].tree[0]),n.tree[0].tree[0].parent=r;var f=new $AssignCtx(r);new $RawJSCtx(f,"await ($B.promise("+s+"))"),o.push(c)}else o.push($NodeJS("await ($B.promise("+s+"))"));var p=new $NodeJS("try");for(var d of e.children)p.add(d);o.push(p);var h=new $NodeJS("catch(err)");o.push(h),h.add($NodeJS(this.exc_name+" = true")),h.add($NodeJS("var "+l+' = $B.imported["_sys"].exc_info()'));var m=$NodeJS("if(! await ($B.promise("+this.cmexit_name+"("+this.cm_name+", "+l+"[0], "+l+"[1], "+l+"[2]))))");h.add(m),m.add($NodeJS("$B.$raise()"));var g=$NodeJS("if(! "+this.exc_name+")");o.push(g),g.add($NodeJS("await ($B.promise("+this.cmexit_name+"("+this.cm_name+", _b_.None, _b_.None, _b_.None)))")),e.parent.children.splice(t,1);for(var $=o.length-1;$>=0;$--)e.parent.insert(t,o[$]);return e.children=[],0},$WithCtx.prototype.to_js=function(){this.js_processed=!0;var e=$get_node(this).indent,t=" ".repeat(e),r=this.num,n=""==this.prefix?"var ":this.prefix,o="$ctx_manager"+r,i=n+"$ctx_manager_exit"+r,a=n+"$exc"+r,s="$value"+r;return"var "+o+" = $locals."+o+" = "+this.tree[0].to_js()+"\n"+t+i+" = $B.$getattr("+o+',"__exit__")\n'+t+"var "+s+" = $B.$getattr("+o+',"__enter__")()\n'+t+a+" = true\n"};var $YieldCtx=$B.parser.$YieldCtx=function(e,t){this.type="yield",this.parent=e,this.tree=[],this.is_await=t,e.tree[e.tree.length]=this,"list_or_tuple"==e.type&&e.tree.length>1&&$_SyntaxError(e,"non-parenthesized yield"),$parent_match(e,{type:"annotation"})&&$_SyntaxError(e,["'yield' outside function"]);for(var r=this;;){var n=$parent_match(r,{type:"list_or_tuple"});if(!n)break;n.yields=n.yields||[],n.yields.push([this,$pos]),r=n}for(r=this;;){var o=$parent_match(r,{type:"dict_or_set"});if(!o)break;o.yields=o.yields||[],o.yields.push([this,$pos]),r=o}var i=$get_module(this);i.yields_func_check=i.yields_func_check||[],i.yields_func_check.push([this,$pos]);var a=this.scope=$get_scope(this,!0),s=$get_node(this);s.has_yield=this;var l=$parent_match(this,{type:"comprehension"});if($get_scope(this).id.startsWith("lc"+$B.lambda_magic)&&delete s.has_yield,l){var _=l.tree[0].tree[1];for(r=e;r&&r!==_;)r=r.parent;r||$_SyntaxError(e,["'yield' inside list comprehension"])}var c=!1;for(r=e;r;){if("lambda"==r.type){c=!0,this.in_lambda=!0;break}r=r.parent}for(r=s.parent;r;){if(r.C&&r.C.tree.length>0&&"with"==r.C.tree[0].type){a.C.tree[0].$has_yield_in_cm=!0;break}r=r.parent}if(!c)switch(e.type){case"node":break;case"assign":case"list_or_tuple":break;default:$_SyntaxError(e,"yield atom must be inside ()")}};$YieldCtx.prototype.ast=function(){return this.from?new ast.YieldFrom(ast_or_obj(this.tree[0])):1==this.tree.length?new ast.Yield(ast_or_obj(this.tree[0])):new ast.Yield},$YieldCtx.prototype.toString=function(){return"(yield) "+(this.from?"(from) ":"")+this.tree},$YieldCtx.prototype.transition=function(e,t){var r=this;return"from"==e?("abstract_expr"!=r.tree[0].type&&$_SyntaxError(r,"'from' must follow 'yield'"),r.from=!0,r.from_num=$B.UUID(),r.tree[0]):(remove_abstract_expr(r.tree),$transition(r.parent,e))},$YieldCtx.prototype.transform=function(e,t){for(var r=e.parent;r;){if(void 0!==r.ctx_manager_num){e.parent.insert(t+1,$NodeJS("$top_frame[1].$has_yield_in_cm = true"));break}r=r.parent}},$YieldCtx.prototype.to_js=function(){return this.from?`_r${this.from_num}`:"yield "+$to_js(this.tree)},$YieldCtx.prototype.check_in_function=function(){if(!this.in_lambda){var e=$get_scope(this),t=e.is_function,r=e;if(!t&&e.comprehension){for(var n=e.parent_block;n.comprehension;)n=parent_block;t=n.is_function,r=n}if(t){var o=r.C.tree[0];this.is_await||(o.type="generator")}else $_SyntaxError(this.parent,["'yield' outside function"])}};var $add_line_num=$B.parser.$add_line_num=function(e,t,r){if("module"!=e.type){if("marker"!==e.type){for(var n=e.C.tree[0],o=1,i=!0,a=e;void 0!==a.parent;)a=a.parent;var s=e.module||a.id,l=e.line_num;if(void 0===l&&(i=!1),("condition"==n.type&&"elif"==n.token||"except"==n.type||"single_kw"==n.type||"case"==n.type)&&(i=!1),i){var _=';$locals.$line_info = "'+(void 0===r?l+","+s:r)+'";if($locals.$f_trace !== _b_.None){$B.trace_line()};_b_.None;',c=new $Node;c.is_line_num=!0,new $NodeJSCtx(c,_),e.parent.insert(t,c),o=2}for(u=0;u<e.children.length;)u+=$add_line_num(e.children[u],u,r);return o}return 1}for(var u=0;u<e.children.length;)u+=$add_line_num(e.children[u],u,r)};function find_scope(e,t){if(t.binding[e])return t;if(t.globals&&t.globals.has(e))return $get_module(t.C);if(t.nonlocals&&t.nonlocals.has(e))for(var r=t.parent_block;r;){if(r.binding[e])return r;r=r.parent_block}}var $bind=$B.parser.$bind=function(e,t,r){if(e=$mangle(e,r),!t.nonlocals||!t.nonlocals.has(e)){if(t.globals&&t.globals.has(e)){var n=$get_module(r);return n.binding[e]=!0,n}if(!r.no_bindings){var o=$get_node(r);o.bindings=o.bindings||{},o.bindings[e]=!0}return t.binding=t.binding||{},t.binding.hasOwnProperty(e)||(t.binding[e]=!0),t.varnames=t.varnames||{},void 0===t.varnames[e]&&(t.varnames[e]=!0),t}for(var i=t.parent_block;i;){if(i.binding[e])return i;i=i.parent_block}};function $parent_match(e,t){for(var r;e.parent;){for(var n in r=!0,t)if(e.parent[n]!=t[n]){r=!1;break}if(r)return e.parent;e=e.parent}return!1}var $previous=$B.parser.$previous=function(e){var t=e.node.parent.children[e.node.parent.children.length-2];return t&&t.C||$_SyntaxError(e,"keyword not following correct keyword"),t.C.tree[0]},$get_docstring=$B.parser.$get_docstring=function(e){var t="";if(e.children.length>0){var r=e.children[0];if(r.C.tree&&r.C.tree.length>0&&"expr"==r.C.tree[0].type){var n=r.C.tree[0].tree[0];"str"!=n.type||Array.isArray(n.tree[0])||(t=r.C.tree[0].tree[0].to_js())}}return t},$get_scope=$B.parser.$get_scope=function(e,t){for(var r=e.parent;"node"!==r.type;){if(r.comprehension)return r;r=r.parent}for(var n=r.node,o=null;n.parent&&"module"!==n.parent.type;){var i=n.parent.C.tree[0].type;switch(i){case"def":case"class":case"generator":return(o=n.parent).ntype=i,o.is_function="class"!=i,o}n=n.parent}return(o=n.parent||n).ntype="module",o},$get_line_num=$B.parser.$get_line_num=function(e){var t=$get_node(e),r=t.line_num;if(void 0===t.line_num){for(t=t.parent;t&&void 0===t.line_num;)t=t.parent;t&&t.line_num&&(r=t.line_num)}return r},$get_module=$B.parser.$get_module=function(e){for(var t=e instanceof $NodeCtx?e:e.parent;"node"!==t.type;)t=t.parent;var r=t.node;if("module"==r.ntype)return r;for(var n=null;"module"!=r.parent.type;)r=r.parent;return(n=r.parent).ntype="module",n},$get_src=$B.parser.$get_src=function(e){for(var t=$get_node(e);void 0!==t.parent;)t=t.parent;return t.src},$get_node=$B.parser.$get_node=function(e){for(var t=e;t.parent;)t=t.parent;return t.node},$to_js_map=$B.parser.$to_js_map=function(e){if(void 0!==e.to_js)return e.to_js();throw console.log("no to_js",e),Error("no to_js() for "+e)},$to_js=$B.parser.$to_js=function(e,t){void 0===t&&(t=",");try{return e.map($to_js_map).join(t)}catch(t){throw console.log("error",t,"\ntree",e),t}},$mangle=$B.parser.$mangle=function(e,t){if("__"!=e.substr(0,2)||"__"===e.substr(e.length-2))return e;for(var r=$get_scope(t);;){if("module"==r.ntype)return e;if("class"==r.ntype){for(var n=r.C.tree[0].name;"_"==n.charAt(0);)n=n.substr(1);return"_"+n+e}if(!r.parent||!r.parent.C)return e;r=$get_scope(r.C.tree[0])}};$B.nb_debug_lines=0;var $transition=$B.parser.$transition=function(e,t,r){return $B.nb_debug_lines>100&&(alert("too many debug lines"),$B.nb_debug_lines=0),$B.track_transitions&&(console.log("C",e,"token",t,r,"$pos",$pos),$B.nb_debug_lines++),e.transition(t,r)};$B.forbidden=[],$B.aliased_names=Object.create(null);for(var s_escaped="abfnrtvxuU\"0123456789'\\",is_escaped={},i=0;i<s_escaped.length;i++)is_escaped[s_escaped.charAt(i)]=!0;function SurrogatePair(e){return e-=65536,String.fromCharCode(55296|e>>10)+String.fromCharCode(56320|1023&e)}function test_num(e){var t=e.length,r=0,n=null,o={b:"binary",o:"octal",x:"hexadecimal"},i=/[_\d]/;function a(e){throw SyntaxError(e)}function s(e){if(0==e.value.length)a("invalid "+(o[e.subtype]||"decimal")+" literal");else{if(!e.value[e.value.length-1].match(/[\-+_]/))return e.value=e.value.replace(/_/g,""),e.length=r,e;a("invalid "+(o[e.subtype]||"decimal")+" literal")}}for(;r<t;){var l;if((l=e[r]).match(i))null===n?n={value:l}:("_"==l&&n.value.match(/[._+\-]$/)?a("consecutive _ at "+r):"_"==l&&"float"==n.subtype&&n.value.match(/e$/i)?a("syntax error"):"b"!=n.subtype||l.match(/[01_]/)?"o"!=n.subtype||l.match(/[0-7_]/)?void 0===n.subtype&&n.value.startsWith("0")&&!l.match(/[0_]/)&&a("leading zeros in decimal integer literals are not permitted; use an 0o prefix for octal integers"):a(`invalid digit '${l}' in octal literal`):a(`invalid digit '${l}' in binary literal`),n.value+=l),r++;else if(l.match(/[oxb]/i))"0"==n.value?(n.subtype=l.toLowerCase(),"x"==n.subtype&&(i=/[_\da-fA-F]/),n.value="",r++):a("invalid char "+l);else if("."==l)if(null===n)a("invalid char in "+e+" pos "+r+": "+l);else{if(void 0!==n.subtype)return s(n);n.subtype="float",n.value.endsWith("_")&&a("invalid decimal literal"),n.value=n.value.replace(/_/g,"")+l,r++}else if(l.match(/e/i))if(void 0===e[r+1])a("nothing after e");else if(n&&void 0!==o[n.subtype])a("syntax error");else if(n&&n.value.endsWith("_"))a("syntax error");else{if(!e[r+1].match(/[+\-0-9_]/))return s(n);if(n&&n.value){if(n.exp)return n.length=r,n;n.subtype="float",n.value+=l,n.exp=!0,r++}else a("unexpected e")}else if(l.match(/[\+\-]/i))if(null===n)n={value:l},r++;else{if(!(n.value.search(/e$/i)>-1))return s(n);n.value+=l,r++}else{if(!l.match(/j/i))break;if(n&&(!n.subtype||"float"==n.subtype))return n.imaginary=!0,s(n),n.length++,n;a("invalid syntax")}}return s(n)}var opening={")":"(","}":"{","]":"["};function line_ends_with_comma(e){var t=":",r=[];for(token of $B.tokenizer(e)){if(":"!=t)return"NEWLINE"==token.type;if("OP"==token.type&&":"==token.string&&0==r.length)t="eol";else if("OP"==token.type){if("([{".indexOf(token.string)>-1)r.push(token);else if(")]}".indexOf(token.string)>-1){var n;if(0==r.length)throw(n=SyntaxError(`unmatched '${token.string}'`)).offset=token.start[1],n;if($B.last(r).string!=opening[token.string])throw(n=SyntaxError(`closing parenthesis '${token.string}' does not match opening parenthesis '${$B.last(r).string}'`)).offset=token.start[1],n;r.pop()}}else if("NEWLINE"==token.type)return!1}return!1}function prepare_number(e){return(e=e.replace(/_/g,"")).startsWith(".")?e.endsWith("j")?{type:"imaginary",value:e.substr(0,e.length-1)}:{type:"float",value:e}:e.startsWith("0")&&"0"!=e?(t=test_num(e)).imaginary?{type:"imaginary",value:t.value}:"float"==t.subtype?{type:t.subtype,value:t.value}:void 0!==(r=void 0===t.subtype?10:{b:2,o:8,x:16}[t.subtype])?{type:"int",value:[r,t.value]}:void 0:"float"==(t=test_num(e)).subtype?{type:t.imaginary?"imaginary":"float",value:t.value}:{type:t.imaginary?"imaginary":"int",value:t.imaginary?t.value:[10,t.value]};var t,r}function test_escape(e,t,r,n){var o;if(i=/^[0-7]{1,3}/.exec(t.substr(n+1)))return[String.fromCharCode(parseInt(i[0],8)),1+i[0].length];switch(t[n+1]){case"x":if(2==(i=/^[0-9A-F]{0,2}/i.exec(t.substr(n+2)))[0].length)return[String.fromCharCode(parseInt(i[0],16)),2+i[0].length];o=n+i[0].length+1,$pos=r+o+2,$_SyntaxError(e,[`(unicode error) 'unicodeescape' codec can't decode bytes in position ${n}-${o}: truncated \\xXX escape`]);case"u":if(4==(i=/^[0-9A-F]{0,4}/i.exec(t.substr(n+2)))[0].length)return[String.fromCharCode(parseInt(i[0],16)),2+i[0].length];o=n+i[0].length+1,$pos=r+o+2,$_SyntaxError(e,[`(unicode error) 'unicodeescape' codec can't decode bytes in position ${n}-${o}: truncated \\uXXXX escape`]);case"U":var i;if(8!=(i=/^[0-9A-F]{0,8}/i.exec(t.substr(n+2)))[0].length)o=n+i[0].length+1,$pos=r+o+2,$_SyntaxError(e,[`(unicode error) 'unicodeescape' codec can't decode bytes in position ${n}-${o}: truncated \\uXXXX escape`]);else{var a=parseInt(i[0],16);if(!(a>1114111))return a>=65536?[SurrogatePair(a),2+i[0].length]:[String.fromCharCode(a),2+i[0].length];$_SyntaxError("invalid unicode escape "+i[0])}}}function prepare_string(C,s,position){for(var len=s.length,pos=0,string_modifier,_type="string";pos<len;){if('"'==s[pos]||"'"==s[pos]){quote=s[pos],string_modifier=s.substr(0,pos),s.substr(pos,3)==quote.repeat(3)?(_type="triple_string",inner=s.substring(pos+3,s.length-3)):inner=s.substring(pos+quote.length,len-quote.length);break}pos++}var result={quote},mods={r:"raw",f:"fstring",b:"bytes"};for(var mod of string_modifier)result[mods[mod]]=!0;var raw="str"==C.type&&C.raw,string_start=$pos+pos+1,bytes=!1,fstring=!1,sm_length,end=null;if(string_modifier){switch(string_modifier){case"r":raw=!0;break;case"u":break;case"b":bytes=!0;break;case"rb":case"br":bytes=!0,raw=!0;break;case"f":fstring=!0,sm_length=1;break;case"fr":case"rf":fstring=!0,sm_length=2,raw=!0}string_modifier=!1}for(var escaped=!1,zone="",end=0,src=inner;end<src.length;)if(escaped)"a"!=src.charAt(end)||raw?(zone+=src.charAt(end),raw&&"\\"==src.charAt(end)&&(zone+="\\")):zone=zone.substr(0,zone.length-1)+"",escaped=!1,end++;else if("\\"==src.charAt(end))if(raw)end<src.length-1&&src.charAt(end+1)==quote?(zone+="\\\\"+quote,end+=2):(zone+="\\\\",end++),escaped=!0;else if("\n"==src.charAt(end+1))end+=2;else if("N{"==src.substr(end+1,2)){var end_lit=end+3,re=new RegExp("[-a-zA-Z0-9 ]+"),search=re.exec(src.substr(end_lit));null===search&&$_SyntaxError(C,"(unicode error) malformed \\N character escape",pos);var end_lit=end_lit+search[0].length;"}"!=src.charAt(end_lit)&&$_SyntaxError(C,"(unicode error) malformed \\N character escape");var description=search[0].toUpperCase();if(void 0===$B.unicodedb){var xhr=new XMLHttpRequest;xhr.open("GET",$B.brython_path+"unicode.txt",!1),xhr.onreadystatechange=function(){4==this.readyState&&(200==this.status?$B.unicodedb=this.responseText:console.log("Warning - could not load unicode.txt"))},xhr.send()}if(void 0!==$B.unicodedb){var re=new RegExp("^([0-9A-F]+);"+description+";.*$","m");search=re.exec($B.unicodedb),null===search&&$_SyntaxError(C,"(unicode error) unknown Unicode character name");var cp="0x"+search[1];zone+=String.fromCodePoint(eval(cp)),end=end_lit+1}else end++}else{var esc=test_escape(C,src,string_start,end);esc?("\\"==esc[0]?zone+="\\\\":zone+=esc[0],end+=esc[1]):(end<src.length-1&&void 0===is_escaped[src.charAt(end+1)]&&(zone+="\\"),zone+="\\",escaped=!0,end++)}else"\n"==src.charAt(end)&&"triple_string"!=_type?(console.log(pos,end,src.substring(pos,end)),$_SyntaxError(C,["EOL while scanning string literal"])):(zone+=src.charAt(end),end++);for(var $string=zone,string="",i=0;i<$string.length;i++){var $car=$string.charAt(i);if($car==quote)if(raw||0==i||"\\"!=$string.charAt(i-1))string+="\\";else if("triple_string"==_type){for(var j=i-1;"\\"==$string.charAt(j);)j--;(i-j-1)%2==0&&(string+="\\")}string+=$car}if(fstring)try{var re=new RegExp("\\\\"+quote,"g"),string_no_bs=string.replace(re,quote),elts=$B.parse_fstring(string_no_bs)}catch(e){e.position&&($pos+=e.position),$_SyntaxError(C,[e.message])}return result.value=bytes?"b"+quote+string+quote:fstring?elts:quote+string+quote,C.raw=raw,result}function unindent(e){for(var t,r,n,o=e.split("\n"),i=[],a=0,s=o.length;a<s;a++)if((n=(t=o[a]).match(/^\s*/)[0])!=t)if(void 0===r){if(0==n.length)return e;var l=(r=n).length;i.push(t.substr(l))}else{if(!t.startsWith(r))throw SyntaxError(`first line starts at column ${l}, line ${a} at column `+t.match(/\s*/).length+"\n    "+t);i.push(t.substr(l))}else i.push("");return i.join("\n")}function handle_errortoken(e,t){"'"!=t.string&&'"'!=t.string||$_SyntaxError(e,[`unterminated string literal (detected at line ${t.start[0]})`]),$_SyntaxError(e,"invalid token "+t[1]+_b_.ord(t[1]))}var python_keywords=["class","return","break","for","lambda","try","finally","raise","def","from","nonlocal","while","del","global","with","as","elif","else","if","yield","assert","import","except","raise","in","pass","with","continue","__debugger__","async","await"],dispatch_tokens=$B.parser.dispatch_tokens=function(e,t){var r=$B.tokenizer(t),n={")":"(","]":"[","}":"{"},o=[],i=[],a=e.module,s=void 0===e.line_num?1:e.line_num,l=new $Node;l.line_num=s,e.add(l);for(var _=null,c=!1,u=0,f={0:0,1:0},p=1,d=0,h=t.length;d<h;d++)"\n"==t[d]&&(f[++p]=d+1);for(;;){try{var m=r.next()}catch(e){if(_=_||new $NodeCtx(l),"IndentationError"==e.type)$pos=f[e.line_num],$_SyntaxError(_,e.message,1);else if(e instanceof SyntaxError){if(o.length>0){var g=(x=$B.last(o)).start;_.$pos=f[g[0]]+g[1],$_SyntaxError(_,[`'${x.string}' was never closed`])}$_SyntaxError(_,e.message)}throw e}if(m.done)throw Error("token done without ENDMARKER.");switch(void 0===(m=m.value)[2]&&(console.log("token incomplet",m,"module",a,e),console.log("src",t)),void 0===m.start&&console.log("no start",m),s=m.start[0],$pos=f[s]+m.start[1],c&&-1==["INDENT","COMMENT","NL"].indexOf(m.type)&&(_=_||new $NodeCtx(l),$_SyntaxError(_,"expected an indented block",c)),m.type){case"ENDMARKER":if(e.yields_func_check){var $=$pos;for(const t of e.yields_func_check)$pos=t[1],t[0].check_in_function();$pos=$}return 0!=u&&$_SyntaxError(l.C,"expected an indented block",1),void(void 0!==l.C&&0!=l.C.tree.length||l.parent.children.pop());case"ENCODING":case"TYPE_COMMENT":continue;case"NL":l.C&&0!=l.C.tree.length||l.line_num++;continue;case"COMMENT":var v=f[m.end[0]]+m.end[1];e.comments.push([$pos,v-$pos]);continue;case"ERRORTOKEN":_=_||new $NodeCtx(l)," "!=m.string&&handle_errortoken(_,m);continue}switch(m[0]){case"NAME":case"NUMBER":case"OP":case"STRING":_=_||new $NodeCtx(l)}switch(m[0]){case"NAME":var b=m[1];python_keywords.indexOf(b)>-1?(i.indexOf(b)>-1&&$_SyntaxError(_,"Unsupported Python keyword '"+b+"'"),_=$transition(_,b)):_="not"==b?$transition(_,"not"):"string"==typeof $operators[b]?$transition(_,"op",b):$transition(_,"id",b);continue;case"OP":var y=m[1];if(1==y.length&&"()[]{}.,=".indexOf(y)>-1||[":="].indexOf(y)>-1){if("([{".indexOf(y)>-1)o.push(m);else if(n[y]){var x;0==o.length?$_SyntaxError(_,"unmatched '"+y+"'"):(x=$B.last(o)).string==n[y]?o.pop():$_SyntaxError(_,[`closing parenthesis '${y}' does not match opening parenthesis '${x.string}'`])}_=$transition(_,m[1])}else":"==y?(_=$transition(_,":")).node&&_.node.is_body_node&&(l=_.node):"..."==y?_=$transition(_,"ellipsis"):"->"==y?_=$transition(_,"annotation"):";"==y?("node"==_.type&&0==_.tree.length&&$_SyntaxError(_,"statement cannot start with ;"),$transition(_,"eol"),(B=new $Node).line_num=m[2][0]+1,_=new $NodeCtx(B),l.parent.add(B),l=B):_=$augmented_assigns[y]?$transition(_,"augm_assign",y):$transition(_,"op",y);continue;case"STRING":_=(w=prepare_string(_,m[1],m[2])).value instanceof Array?$transition(_,"JoinedStr",w.value):$transition(_,"str",w.value);continue;case"NUMBER":try{var w=prepare_number(m[1])}catch(e){$_SyntaxError(_,[e.message])}_=$transition(_,w.type,w.value);continue;case"NEWLINE":var B;_&&_.node&&_.node.is_body_node&&(c=_.node.parent),_=_||new $NodeCtx(l),$transition(_,"eol"),(B=new $Node).line_num=m[2][0]+1,l.parent.children.length>0&&l.parent.children[0].is_body_node?l.parent.parent.add(B):l.parent.add(B),_=new $NodeCtx(B),l=B;continue;case"DEDENT":u--,l.parent.children.pop(),l.parent.parent.add(l);continue;case"INDENT":u++,c||(_=_||new $NodeCtx(l),$_SyntaxError(_,"unexpected indent",$pos)),c=!1;continue}}},$create_root_node=$B.parser.$create_root_node=function(e,t,r,n,o){var i=new $Node("module");return i.module=t,i.id=r,i.binding={__doc__:!0,__name__:!0,__file__:!0,__package__:!0},i.parent_block=n,i.line_num=o,i.indent=-1,i.comments=[],i.imports={},"object"==typeof e&&(i.is_comp=e.is_comp,i.filename=e.filename,e.has_annotations&&(i.binding.__annotations__=!0),e=e.src),i.src=e,i};if($B.py2js=function(e,t,r,n,o){if($pos=0,"object"==typeof t){var i=t.__package__;t=t.__name__}else i="";n=n||$B.builtins_scope;var a=(new Date).getTime(),s=!0;if("object"==typeof e){s=e.has_annotations;var l=e.line_info,_=e.ix,c=e.filename;void 0!==l&&(o=parseInt(l.split(",")[0])),e=e.src}else void 0!==o?l=`${o},${t}`:o=1;(e=e.replace(/\r\n/gm,"\n")).endsWith("\\")&&!e.endsWith("\\\\")&&(e=e.substr(0,e.length-1)),"\n"!=e.charAt(e.length-1)&&(e+="\n"),Array.isArray(r)&&(r=r[0]);var u="$locals_"+r.replace(/\./g,"_"),f="$locals_"+t.replace(/\./g,"_"),p=$create_root_node({src:e,has_annotations:s,filename:c},t,r,n,o);if(dispatch_tokens(p,e),$B.produce_ast){var d=ast_dump(p.ast());2==$B.produce_ast&&console.log(d)}null!=_&&(p.ix=_),p.transform();var h="var $B = __BRYTHON__,\n    _b_ = __BRYTHON__.builtins,\n    $locals = "+u+";\n",m=0;p.insert(0,$NodeJS(h)),m++,p.insert(m++,$NodeJS(u+'.__package__ = "'+i+'"')),p.binding.__annotations__&&p.insert(m++,$NodeJS("$locals.__annotations__ = $B.empty_dict()"));var g=m;h='var $top_frame = ["'+r.replace(/\./g,"_")+'", '+u+', "'+t.replace(/\./g,"_")+'", '+f+"]\n$locals.$f_trace = $B.enter_frame($top_frame)\nvar $stack_length = $B.frames_stack.length;",p.insert(m++,$NodeJS(h));var $=new $NodeJS("try"),v=p.children.slice(g+1,p.children.length);for(var b of(p.insert(g+1,$),0==v.length&&(v=[$NodeJS("")]),v))$.add(b);$.add($NodeJS("$B.leave_frame({$locals, value: _b_.None})")),p.children.splice(g+2,p.children.length);var y=$NodeJS("catch(err)");y.add($NodeJS("$B.leave_frame({$locals, value: _b_.None})")),y.add($NodeJS("throw err")),p.add(y),$add_line_num(p,null,l);var x=(new Date).getTime();return $B.debug>2&&t==r&&console.log("module "+t+" translated in "+(x-a)+" ms"),$B.compile_time+=x-a,p},$B.set_import_paths=function(){var e=[],t=[];$B.use_VFS&&e.push($B.finders.VFS),!1!==$B.$options.static_stdlib_import&&"file"!=$B.protocol&&(e.push($B.finders.stdlib_static),$B.path.length>3&&($B.path.shift(),$B.path.shift())),"file"!==$B.protocol&&(e.push($B.finders.path),t.push($B.url_hook)),$B.$options.cpython_import&&("replace"==$B.$options.cpython_import&&$B.path.pop(),e.push($B.finders.CPython)),$B.meta_path=e,$B.path_hooks=t},$B.parse_options=function(e){void 0===e?e={debug:1}:"number"==typeof e?e={debug:e}:"object"!=typeof e&&(console.warn("ignoring invalid argument passed to brython():",e),e={debug:1}),void 0===e.debug&&(e.debug=1),$B.debug=e.debug,_b_.__debug__=$B.debug>0,$B.compile_time=0,void 0===e.profile&&(e.profile=0),$B.profile=e.profile,void 0===e.indexedDB&&(e.indexedDB=!0),void 0===e.static_stdlib_import&&(e.static_stdlib_import=!0),$B.static_stdlib_import=e.static_stdlib_import,$B.$options=e,$B.set_import_paths();var t=($B.script_path=_window.location.href).split("/");if(t.pop(),($B.isWebWorker||$B.isNode)&&t.pop(),$B.curdir=t.join("/"),void 0!==e.pythonpath&&($B.path=e.pythonpath,$B.$options.static_stdlib_import=!1),e.python_extension=e.python_extension||".py",e.python_paths)for(var r of e.python_paths){var n,o;"string"!=typeof r&&(n=r.lang,o=r.prefetch,r=r.path),$B.path.push(r),".vfs.js"!=r.slice(-7).toLowerCase()||void 0!==o&&!0!==o||($B.path_importer_cache[r+"/"]=$B.imported._importlib.VFSPathFinder(r)),n&&s.optimize_import_for_path(r,n)}if(!$B.isWebWorker&&!$B.isNode)for(var i,a=document.querySelectorAll("head link[rel~=pythonpath]"),s=$B.imported._importlib,l=0;i=a[l];++l){var _=i.href;-1!=(" "+i.rel+" ").indexOf(" prepend ")?$B.path.unshift(_):$B.path.push(_);var c=i.hreflang;c&&("x-"==c.slice(0,2)&&(c=c.slice(2)),s.optimize_import_for_path(i.href,c))}$B.$options.args?$B.__ARGV=$B.$options.args:$B.__ARGV=_b_.list.$factory([])},!$B.isWebWorker){var observer=new MutationObserver((function(e){for(var t=0;t<e.length;t++)for(var r=0;r<e[t].addedNodes.length;r++)checkPythonScripts(e[t].addedNodes[r])}));observer.observe(document.documentElement,{childList:!0,subtree:!0})}function checkPythonScripts(e){if("SCRIPT"==e.tagName&&"text/python"==e.type){var t={};for(var r of e.attributes)"type"!=r.nodeName&&("debug"==r.nodeName?t[r.nodeName]=parseInt(r.nodeValue):t[r.nodeName]=r.nodeValue)}}var brython=$B.parser.brython=function(e){$B.parse_options(e),$B.isWebWorker||$B.isNode||(observer.disconnect(),_run_scripts(e))};$B.run_script=function(e,t,r,n){try{var o=$B.py2js(e,t,t),i=o.to_js(),a={__doc__:o.__doc__,js:i,__name__:t,$src:e,__file__:r};$B.file_cache[a.__file__]=e,$B.debug>1&&console.log($B.format_indent(i,0))}catch(e){$B.handle_error(e)}if($B.hasOwnProperty("VFS")&&$B.has_indexedDB){var s=Object.keys(o.imports).slice().filter((function(e){return $B.VFS.hasOwnProperty(e)}));for(var t of Object.keys(s))if($B.VFS.hasOwnProperty(t)){var l=$B.VFS[t],_=l[0];if(".py"==_){e=l[1];var c=l[2];for(var u of(l.length,".py"==_&&required_stdlib_imports(c),c))-1==s.indexOf(u)&&s.push(u)}}for(var f=0;f<s.length;f++)$B.tasks.push([$B.inImported,s[f]]);o=null}$B.tasks.push(["execute",a]),n&&$B.loop()};var $log=$B.$log=function(e){e.split("\n").forEach((function(e,t){console.log(t+1,":",e)}))},_run_scripts=$B.parser._run_scripts=function(options){void 0===options&&(options={});var kk=Object.keys(_window),defined_ids={},$elts=[],webworkers=[],ids=options.ids||options.ipy_id;if(void 0!==ids){if(!Array.isArray(ids))throw _b_.ValueError.$factory("ids is not a list");var scripts=[];for(var id of options.ids){var elt=document.getElementById(id);if(null===elt)throw _b_.KeyError.$factory(`no script with id '${id}'`);if("SCRIPT"!==elt.tagName)throw _b_.KeyError.$factory(`element ${id} is not a script`);scripts.push(elt)}}else var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){var script=scripts[i];if("text/python"==script.type||"text/python3"==script.type)if("webworker"==script.className){if(void 0===script.id)throw _b_.AttributeError.$factory("webworker script has no attribute 'id'");webworkers.push(script)}else $elts.push(script)}var first_script=!0,module_name;if(void 0!==options.ipy_id){module_name="__main__";var $src="",js,root;for(var elt of $elts)$src+=elt.innerHTML||elt.textContent;try{root=$B.py2js($src,module_name,module_name),js=root.to_js(),$B.debug>1&&$log(js),eval(js),$B.clear_ns(module_name),root=null,js=null}catch(e){if(root=null,js=null,console.log(e),$B.debug>1)for(var attr in console.log(e),e)console.log(attr+" : ",e[attr]);void 0===e.$py_error&&(console.log("Javascript error",e),e=_b_.RuntimeError.$factory(e+""));var $trace=$B.$getattr(e,"info")+"\n"+e.__name__+": "+e.args;try{$B.$getattr($B.stderr,"write")($trace)}catch(e){console.log($trace)}throw e}}else{$elts.length>0&&options.indexedDB&&$B.has_indexedDB&&$B.hasOwnProperty("VFS")&&$B.tasks.push([$B.idb_open]);for(var i=0;i<$elts.length;i++){var elt=$elts[i];if(elt.id){if(defined_ids[elt.id])throw Error("Brython error : Found 2 scripts with the same id '"+elt.id+"'");defined_ids[elt.id]=!0}}for(var src,i=0,len=webworkers.length;i<len;i++){var worker=webworkers[i];worker.src?$B.tasks.push([$B.ajax_load_script,{name:worker.id,url:worker.src,is_ww:!0}]):(src=worker.innerHTML||worker.textContent,src=unindent(src),src=src.replace(/^\n/,""),$B.webworkers[worker.id]=src)}for(var i=0;i<$elts.length;i++){var elt=$elts[i];if("text/python"==elt.type||"text/python3"==elt.type){if(elt.id)module_name=elt.id;else for(first_script?(module_name="__main__",first_script=!1):module_name="__main__"+$B.UUID();void 0!==defined_ids[module_name];)module_name="__main__"+$B.UUID();elt.src?$B.tasks.push([$B.ajax_load_script,{name:module_name,url:elt.src}]):(src=elt.innerHTML||elt.textContent,src=unindent(src),src=src.replace(/^\n/,""),$B.tasks.push([$B.run_script,src,module_name,$B.script_path+"#"+module_name,!0]))}}}void 0===options.ipy_id&&$B.loop()};$B.$operators=$operators,$B.$Node=$Node,$B.$NodeJSCtx=$NodeJSCtx,$B.brython=brython}(__BRYTHON__);var brython=__BRYTHON__.brython;__BRYTHON__.isNode&&(__webpack_require__.g.__BRYTHON__=__BRYTHON__,module.exports={__BRYTHON__}),function(e){var t=e.builtins;function r(t){var i=e.idb_cx.result.transaction("modules","readonly");try{var a=i.objectStore("modules");req=a.get(t),req.onsuccess=function(i){!function(t,i){var a=t.target.result;if(e.timestamp,void 0===a||a.timestamp!=e.timestamp||e.VFS[i]&&a.source_ts!==e.VFS[i].timestamp){if(void 0!==e.VFS[i]){var s=(g=e.VFS[i])[0],l=g[1];if(".py"==s){g[2];var _,c=4==g.length;if(g.timestamp,c)_=i;else{var u=i.split(".");u.pop(),_=u.join(".")}e.imported[i]=e.module.$factory(i,"",_);try{e.py2js(l,i,i).to_js()}catch(t){e.handle_error(t)}delete e.imported[i],e.debug>1&&console.log("precompile",i)}else console.log("bizarre",i,s)}}else if(a.is_package?e.precompiled[i]=[a.content]:e.precompiled[i]=a.content,a.imports.length>0){e.debug>1&&console.log(i,"imports",a.imports);for(var f=a.imports.split(","),p=0;p<f.length;p++){var d=f[p];if(d.startsWith(".")){for(var h=i.split("."),m=0;d.startsWith(".");)m++,d=d.substr(1);var g=h.slice(0,m);d&&(g=g.concat([d])),d=g.join(".")}if(!e.imported.hasOwnProperty(d)&&!e.precompiled.hasOwnProperty(d)&&e.VFS.hasOwnProperty(d)){var $=e.VFS[d];s=$[0],l=$[1],".py"==$[0]?e.tasks.splice(0,0,[r,d]):n(d,l)}}}o()}(i,t)}}catch(e){console.info("error",e)}}function n(t,r){r+="\nvar $locals_"+t.replace(/\./g,"_")+" = $module",e.precompiled[t]=r}e.VFS_timestamp&&e.VFS_timestamp>e.timestamp&&(e.timestamp=e.VFS_timestamp),e.idb_open=function(t){e.idb_name="brython-cache";var r=e.idb_cx=indexedDB.open(e.idb_name);r.onsuccess=function(){var t=r.result;if(t.objectStoreNames.contains("modules")){e.debug>1&&console.info("using indexedDB for stdlib modules cache");var n,i=t.transaction("modules","readwrite").objectStore("modules"),a=[],s=i.openCursor();s.onerror=function(e){console.log("open cursor error",e)},s.onsuccess=function(t){cursor=t.target.result,cursor?((n=cursor.value).timestamp==e.timestamp?e.VFS&&e.VFS[n.name]&&e.VFS[n.name].timestamp!=n.source_ts?a.push(n.name):(n.is_package?e.precompiled[n.name]=[n.content]:e.precompiled[n.name]=n.content,e.debug>1&&console.info("load from cache",n.name)):a.push(n.name),cursor.continue()):(e.debug>1&&console.log("done"),e.outdated=a,o())}}else{var l=t.version;t.close(),console.info("create object store",l),(r=indexedDB.open(e.idb_name,l+1)).onupgradeneeded=function(){console.info("upgrade needed"),e.idb_cx.result.createObjectStore("modules",{keyPath:"name"}).onsuccess=o},r.onversionchanged=function(){console.log("version changed")},r.onsuccess=function(){console.info("db opened",r),r.result.createObjectStore("modules",{keyPath:"name"}).onsuccess=o}}},r.onupgradeneeded=function(){console.info("upgrade needed"),r.result.createObjectStore("modules",{keyPath:"name"}).onsuccess=o},r.onerror=function(){console.info("could not open indexedDB database"),e.idb_cx=null,e.idb_name=null,e.$options.indexedDB=!1,o()}},e.ajax_load_script=function(r){var n=r.url,i=r.name,a=n.substr(e.script_dir.length+1);if(e.files&&e.files.hasOwnProperty(a))e.tasks.splice(0,0,[e.run_script,atob(e.files[a].content),i,n,!0]),o();else{if("file"==e.protocol)throw t.IOError.$factory("can't load external script at "+r.url+" (Ajax calls not supported with protocol file:///)");var s=new XMLHttpRequest,l=e.$options.cache?"":(n.search(/\?/)>-1?"&":"?")+Date.now();s.open("GET",n+l,!0),s.onreadystatechange=function(){if(4==this.readyState)if(200==this.status){var t=this.responseText;r.is_ww?e.webworkers[i]=t:e.tasks.splice(0,0,[e.run_script,t,i,n,!0]),o()}else if(404==this.status)throw Error(n+" not found")},s.send()}},e.inImported=function(t){if(e.imported.hasOwnProperty(t));else if(__BRYTHON__.VFS&&__BRYTHON__.VFS.hasOwnProperty(t)){var i=__BRYTHON__.VFS[t];void 0===i&&console.log("bizarre",t);var a=i[0],s=i[1];i.length,".py"==a?e.idb_cx&&!e.idb_cx.$closed&&e.tasks.splice(0,0,[r,t]):n(t,s)}else console.log("bizarre",t);o()};var o=e.loop=function(){if(0!=e.tasks.length){var r=e.tasks.shift(),n=r[0],i=r.slice(1);if("execute"==n){try{var a=r[1],s=a.__name__.replace(/\./g,"_");(c=e.module.$factory(a.__name__)).$src=a.$src,c.__file__=a.__file__,e.imported[s]=c,new Function("$locals_"+s,a.js)(c)}catch(r){if(void 0===r.__class__){console.log("Javascript error",r);var l=r.lineNumber;void 0!==l&&(console.log("around line",l),console.log(a.js.split("\n").slice(l-4,l).join("\n"))),e.is_recursion_error(r)?r=t.RecursionError.$factory("too much recursion"):(e.print_stack(),r=t.RuntimeError.$factory(r+""))}e.handle_error(r)}o()}else try{n.apply(null,i)}catch(t){e.handle_error(t)}}else{if(e.idb_cx&&!e.idb_cx.$closed){for(var _=e.idb_cx.result.transaction("modules","readwrite").objectStore("modules");e.outdated.length>0;){var c=e.outdated.pop();_.delete(c).onsuccess=function(t){return function(r){e.debug>1&&console.info("delete outdated",t),document.dispatchEvent(new CustomEvent("precompile",{detail:"remove outdated "+t+" from cache"}))}}(c)}document.dispatchEvent(new CustomEvent("precompile",{detail:"close"})),e.idb_cx.result.close(),e.idb_cx.$closed=!0}document.dispatchEvent(new CustomEvent("brython_done",{detail:e.obj_dict(e.$options)}))}};e.tasks=[],e.has_indexedDB=void 0!==self.indexedDB}(__BRYTHON__),__BRYTHON__.builtins.object=function(e){var t=e.builtins,r={$infos:{__name__:"object"},$is_class:!0,$native:!0};function n(t){return e.$getattr(t,"__new__").apply(null,arguments)}return r.__delattr__=function(r,n){if(r.__dict__&&r.__dict__.$string_dict&&void 0!==r.__dict__.$string_dict[n])return delete r.__dict__.$string_dict[n],t.None;if(void 0===r.__dict__&&void 0!==r[n])return delete r[n],t.None;var o=r.__class__;if(o){var i=e.$getattr(o,n);if(i.__class__===t.property&&void 0!==i.__delete__)return i.__delete__(r),t.None}throw e.attr_error(n,r)},r.__dir__=function(r){var n;if(r.$is_class)n=[r].concat(r.__mro__);else{var o=r.__class__||e.get_class(r);n=[r,o].concat(o.__mro__)}for(var i=[],a=0,s=n.length;a<s;a++)for(var l in n[a])"$"!=l.charAt(0)?isNaN(parseInt(l.charAt(0)))&&"__mro__"!=l&&i.push(l):"$"==l.charAt(1)&&i.push(l.substr(2));if(r.__dict__)for(var l in r.__dict__.$string_dict)"$"!=l.charAt(0)&&i.push(l);return i=t.list.$factory(t.set.$factory(i)),t.list.sort(i),i},r.__eq__=function(e,r){return e===r||t.NotImplemented},r.__format__=function(){var r=e.args("__format__",2,{self:null,spec:null},["self","spec"],arguments,{},null,null);if(""!==r.spec)throw t.TypeError.$factory("non-empty format string passed to object.__format__");return t.getattr(r.self,"__str__")()},r.__ge__=function(){return t.NotImplemented},r.__getattribute__=function(r,n){var o=r.__class__||e.get_class(r),i=!1;if("__class__"===n)return o;var a=r[n];if(Array.isArray(r)&&void 0!==Array.prototype[n]&&(a=void 0),void 0===a&&r.__dict__){var s=r.__dict__;if(s.$string_dict.hasOwnProperty(n))return s.$string_dict[n][0]}if(void 0===a){function l(e,t,r){var n=t[r];if(void 0!==n)return n}if(void 0===(a=l(0,o,n)))for(var _=0,c=(m=o.__mro__).length;_<c&&void 0===(a=l(0,m[_],n));_++);else a.__class__!==e.method&&void 0===a.__get__&&(i=!0)}else if(void 0===a.__set__)return a;if(void 0!==a){if(a.__class__&&t.issubclass(a.__class__,t.property))return e.$getattr(a,"__get__")(r,o);if(a.__class__===e.method)return void 0===a.__get__&&console.log("bizarre",r,n,a),a.__get__(r,o);if(void 0===(u=a.__get__)&&a.__class__){var u=a.__class__.__get__;for(_=0;_<a.__class__.__mro__.length&&void 0===u;_++)u=a.__class__.__mro__[_].__get__}var f=void 0===u?null:e.$getattr(a,"__get__",null);if(null!==f)try{return f.apply(null,[r,o])}catch(e){throw e}if("object"==typeof a&&f&&"function"==typeof f&&(get_func=function(e,t){return f.apply(e,[t,o.$factory])}),null===f&&"function"==typeof a&&(f=function(e){return e}),null!==f){a.__name__=n,"__new__"!=n&&a.__class__!==e.builtin_function||(a.$type="staticmethod");var p=f.apply(null,[a,r,o]);if("function"==typeof p){if(p.__class__===e.method)return a;if("staticmethod"==a.$type)return a;var d=a.__class__===e.method?o:r,h=function(){for(var e=[d],t=0,r=arguments.length;t<r;t++)e.push(arguments[t]);return a.apply(this,e)};return h.__class__=e.method,(h.__get__=function(t,r){var n=a.bind(null,r);return n.__class__=e.method,n.$infos={__self__:r,__func__:a,__name__:a.$infos.__name__,__qualname__:r.$infos.__name__+"."+a.$infos.__name__},n}).__class__=e.method_wrapper,h.__get__.$infos=a.$infos,void 0===o.$infos&&(console.log("no $infos",o),console.log(e.last(e.frames_stack))),h.$infos={__self__:d,__func__:a,__name__:n,__qualname__:o.$infos.__name__+"."+n},i&&(r.$method_cache=r.$method_cache||{},r.$method_cache[n]=[h,a]),h}return p}return a}var m,g=r.__getattr__;if(void 0===g&&void 0===(g=o.__getattr__))for(_=0,c=(m=o.__mro__).length;_<c&&void 0===(g=m[_].__getattr__);_++);if(void 0!==g)return o===e.module?g(n):g(r,n);throw e.attr_error(n,r)},r.__gt__=function(){return t.NotImplemented},r.__hash__=function(t){var r=t.__hashvalue__;return void 0!==r?r:t.__hashvalue__=e.$py_next_hash--},r.__init__=function(){if(0==arguments.length)throw t.TypeError.$factory("descriptor '__init__' of 'object' object needs an argument");return t.None},r.__init_subclass__=function(){return e.args("__init_subclass__",0,{},[],arguments,{},null,null),t.None},r.__init_subclass__.$type="staticmethod",r.__le__=function(){return t.NotImplemented},r.__lt__=function(){return t.NotImplemented},r.__mro__=[],r.__new__=function(n,...o){if(void 0===n)throw t.TypeError.$factory("object.__new__(): not enough arguments");if(e.$getattr(n,"__init__")===r.__init__&&o.length>0)throw t.TypeError.$factory("object() takes no parameters");var i=Object.create(null);return e.update_obj(i,{__class__:n,__dict__:e.empty_dict()}),i},r.__ne__=function(r,n){if(r===n)return!1;var o=e.$getattr(r.__class__||e.get_class(r),"__eq__",null);if(null!==o){var i=e.$call(o)(r,n);return i===t.NotImplemented?i:!e.$bool(i)}return t.NotImplemented},r.__reduce__=function(r){function n(t){return e.$call(t)()}n.$infos={__qualname__:"_reconstructor"};var o=[n];o.push(t.tuple.$factory([r.__class__].concat(r.__class__.__mro__)));var i=e.empty_dict();for(var a in r.__dict__.$string_dict)t.dict.$setitem(i.$string_dict,a,r.__dict__.$string_dict[a][0]);return console.log("object.__reduce__, d",i),o.push(i),t.tuple.$factory(o)},n.$infos={__name__:"__newobj__",__qualname__:"__newobj__"},t.__newobj__=n,r.__reduce_ex__=function(r){var o=[n],i=t.tuple.$factory([r.__class__]);Array.isArray(r)&&r.forEach((function(e){i.push(e)})),o.push(i);var a=e.empty_dict(),s=0;if(void 0===r.__dict__)throw t.TypeError.$factory("cannot pickle '"+e.class_name(r)+"' object");for(var l in r.__dict__.$string_dict)"__class__"==l||l.startsWith("$")||(t.dict.$setitem(a,l,r.__dict__.$string_dict[l][0]),s++);return 0==s&&(a=t.None),o.push(a),o.push(t.None),t.tuple.$factory(o)},r.__repr__=function(n){if(n===r)return"<class 'object'>";if(n.__class__===t.type)return"<class '"+n.__name__+"'>";var o=n.__class__.$infos.__module__;return void 0===o||o.startsWith("$")||"builtins"===o?"<"+e.class_name(n)+" object>":"<"+n.__class__.$infos.__module__+"."+e.class_name(n)+" object>"},r.__setattr__=function(n,o,i){if(void 0===i)throw t.TypeError.$factory("can't set attributes of built-in/extension type 'object'");if(n.__class__===r)throw void 0===r[o]?e.attr_error(o,n):t.AttributeError.$factory("'object' object attribute '"+o+"' is read-only");return n.__dict__?t.dict.$setitem(n.__dict__,o,i):n[o]=i,t.None},r.__setattr__.__get__=function(e){return function(t,n){r.__setattr__(e,t,n)}},r.__setattr__.__str__=function(){return"method object.setattr"},r.__str__=function(n){var o=arguments.length;if(0==o)throw t.TypeError.$factory("descriptor '__str__' of 'object' object needs an argument");if(o>1)throw t.TypeError.$factory("descriptor '__str__' of 'object' expects 1 argument, got "+o);if("kw"==n.$nat)throw t.TypeError.$factory("descriptor '__str__' of 'object' doesn't accept keyword arguments");if(!n.$is_class&&!n.$factory){var i=e.$getattr(n,"__repr__");return e.$call(i)()}var a=e.$getattr(n.__class__||e.get_class(n),"__str__",null);if(null!==a&&a!==r.__str__)return a(n);var s=e.$getattr(n.__class__||e.get_class(n),"__repr__",null);return null!==s&&s!==r.__repr__?s(n):void 0},r.__subclasshook__=function(){return t.NotImplemented},r.$factory=function(){var e={__class__:r},t=[e].concat(Array.prototype.slice.call(arguments));return r.__init__.apply(null,t),e},e.set_func_names(r,"builtins"),e.make_class=function(n,o){var i={__class__:t.type,__mro__:[r],$infos:{__qualname__:n,__name__:e.last(n.split("."))},$is_class:!0};return i.$factory=o,i},r}(__BRYTHON__),function(e){var t=e.builtins;function r(r,n,o){var i;if(o&&o.length>0){if(void 0===(i=o[0].__class__)){if("function"!=typeof o[0])throw t.TypeError.$factory("Argument of "+r+"is not a class (type '"+e.class_name(o[0])+"')");if(1!=o.length)throw t.TypeError.$factory("A Brython class can inherit at most 1 Javascript constructor");i=o[0].__class__=e.JSMeta,e.set_func_names(o[0],n)}for(var a=1;a<o.length;a++){var s=o[a].__class__;if(s===i||t.issubclass(i,s));else if(t.issubclass(s,i))i=s;else if(i.__bases__&&-1==i.__bases__.indexOf(s))throw t.TypeError.$factory("metaclass conflict: the metaclass of a derived class must be a (non-strict) subclass of the metaclasses of all its bases")}}else i=t.type;return i}e.$class_constructor=function(n,o,i,a,s){var l;i=i||[];var _=o.__module__;void 0===_&&(_=o.__module__=e.last(e.frames_stack)[2]);for(var c=0;c<i.length;c++)if(void 0===i[c])throw e.line_info=o.$def_line,e.name_error(a[c]);var u={},f={};if(s)for(c=0;c<s.length;c++){var p=s[c][0],d=s[c][1];"metaclass"==p?l=d:u[p]=d,f[p]=d}var h=o;void 0!==o.__eq__&&void 0===o.__hash__&&(o.__hash__=t.None);var m=i.slice(),g=!1;for(c=0;c<i.length;c++)if(void 0===i[c]||void 0===i[c].__mro__){var $=e.$getattr(i[c],"__mro_entries__",t.None);if($!==t.None){var v=t.list.$factory($(i));i.splice(c,1,...v),g=!0,c--;continue}}void 0===l&&(l=r(n,_,i));var b=e.$getattr(l,"__prepare__",t.None),y=e.$call(b)(n,i);if(y.__class__!==t.dict)var x=e.$getattr(y,"__setitem__");else x=function(e,t){y.$string_dict[e]=[t,y.$order++]};for(var w in o)if("__annotations__"==w)for(var p in void 0===y.$string_dict[w]&&(y.$string_dict[w]=[e.empty_dict(),y.$order++]),o[w].$string_dict)e.$setitem(y.$string_dict[w][0],p,o[w].$string_dict[p][0]);else"$"!=w.charAt(0)&&x(w,o[w]);g&&x("__orig_bases__",t.tuple.$factory(m));var B={__bases__:i,__class__:l,__dict__:y};if(y.__class__===t.dict)for(var p in y.$string_dict)B[p]=y.$string_dict[p][0];else for(var k=e.$getattr(y,"__getitem__"),C=t.iter(y);;)try{B[p=t.next(C)]=k(p)}catch(e){break}B.__mro__=t.type.mro(B).slice(1);var S=!0,E={},N={},j=[B].concat(B.__mro__);for(c=0;c<j.length;c++){var T=0==c?h:j[c];for(var w in T)if(!E[w]){var O=T[w];"function"==typeof O&&(!0===O.__isabstractmethod__||O.$attrs&&O.$attrs.__isabstractmethod__)?(S=!1,N[w]=!0):E[w]=!0}}var A=o.__slots__;for(void 0!==A&&(A="string"==typeof A?[A]:t.list.$factory(A),y.__slots__=A),c=0;c<j.length-1;c++)for(var w in j[c]){if("__setattr__"==w){y.$has_setattr=!0;break}if(j[c][w]&&(j[c][w].__get__||j[c][w].__class__&&j[c][w].__class__.__get__)){y.$has_setattr=!0;break}}var I=t.type.__getattribute__(l,"__new__")(l,n,i,y,{$nat:"kw",kw:u});for(var w in I.__module__=_,I.$infos={__module__:_,__name__:n,__qualname__:o.$qualname},I.$subclasses=[],void 0!==I.__bases__&&0!=I.__bases__.length||(I.__bases__=e.fast_tuple([t.object])),o)"$"!=w.charAt(0)&&"function"==typeof o[w]&&(o[w].$infos.$class=I);for(I.__class__===l&&t.type.__getattribute__(l,"__init__")(I,n,i,y),c=0;c<i.length;c++)i[c].$subclasses=i[c].$subclasses||[],i[c].$subclasses.push(I);return S||(I.$factory=function(){throw t.TypeError.$factory("Can't instantiate abstract class interface with abstract methods "+Object.keys(N).join(", "))}),I.__qualname__=n,I};var n=e.make_class("type",(function(o,i,a){var s=arguments.length;if(1==s)return void 0===o?e.UndefinedClass:o.__class__||e.get_class(o);if(3==s){var l=e.last(e.frames_stack)[2],_=r(o,l,i);return n.__new__(_,o,i,a)}throw t.TypeError.$factory("type() takes 1 or 3 arguments")}));n.__call__=function(){for(var r=[],n=arguments[0],o=1,i=arguments.length;o<i;o++)r.push(arguments[o]);var a=t.type.__getattribute__(n,"__new__"),s=a.apply(null,arguments),l=s.__class__||e.get_class(s);if(l===n){var _=t.type.__getattribute__(n,"__init__");if(_!==t.object.__init__){var c=[s].concat(r);_.apply(null,c)}}return s},n.__class__=n,n.__format__=function(e,r){return t.str.$factory(e)},n.__getattribute__=function(r,n){switch(n){case"__annotations__":for(var o=0,l=(f=[r].concat(r.__mro__)).length;o<l;o++)if(f[o].__dict__){var _=f[o].__dict__.$string_dict.__annotations__[0];if(_)if(void 0===m)m=_;else if(m.__class__===t.dict&&_.__class__===t.dict)for(var c in _.$string_dict)m.$string_dict[c]=_.$string_dict[c]}return void 0===m&&(m=e.empty_dict()),m;case"__bases__":return(m=r.__bases__).__class__=t.tuple,m.length,m;case"__class__":return r.__class__;case"__doc__":return r.__doc__||t.None;case"__setattr__":if(void 0!==r.__setattr__)var u=r.__setattr__;else u=function(e,t,r){e[t]=r};return i.$factory(n,r,u);case"__delattr__":return void 0!==r.__delattr__?r.__delattr__:i.$factory(n,r,(function(e){delete r[e]}))}if(void 0===(m=r[n])&&r.__slots__&&r.__slots__.indexOf(n)>-1)return a.$factory(n,r);if(r.__class__&&r.__class__[n]&&r.__class__[n].__get__&&r.__class__[n].__set__)return r.__class__[n].__get__(r);if(void 0===m){var f;if(void 0===(p=r[n]))for(void 0===(f=r.__mro__)&&console.log("pas de mro pour",r),o=0;o<f.length;o++){var p;if(void 0!==(p=f[o][n])){m=p;break}}else m=p;if(void 0===m){var d=r.__class__||e.get_class(r);if(void 0===(m=d[n])){var h=d.__mro__;for(o=0;o<h.length;o++){var m;if(void 0!==(m=h[o][n]))break}}if(void 0!==m){if(m.__class__===t.property)return m.fget(r);if("function"==typeof m){var g=m.bind(null,r);return g.__class__=e.method,g.$infos={__self__:r,__func__:m,__name__:n,__qualname__:r.$infos.__name__+"."+n,__module__:m.$infos?m.$infos.__module__:""},g}}if(void 0===m){var $=d.__getattr__;if(void 0===$)for(o=0;o<h.length;o++)if(void 0!==h[o].__getattr__){$=h[o].__getattr__;break}if(void 0!==$)return $(r,n)}}}if(void 0!==m){if(m.__class__===t.property)return m;if(m.__get__){if(m.__class__===s){var v=m.__get__(m.__func__,r);v.$infos={__func__:m,__name__:m.$infos.__name__,__qualname__:r.$infos.__name__+"."+m.$infos.__name__,__self__:r}}else v=m.__get__(r);return v}return!m.__class__||!m.__class__.__get__||n.startsWith("__")&&n.endsWith("__")?"function"==typeof m?(void 0===m.$infos&&e.debug>1&&console.log("warning: no attribute $infos for",m,"klass",r,"attr",n),"__new__"!=n&&m.__class__!==e.builtin_function||(m.$type="staticmethod"),"__class_getitem__"==n&&m.__class__!==e.method&&(m=t.classmethod.$factory(m)),"__init_subclass__"==n&&(m=t.classmethod.$factory(m)),m.__class__===e.method?m.__get__(null,r):m):m:m.__class__.__get__(m,t.None,r)}},n.__hash__=function(e){return t.hash(e)},n.__init__=function(){if(0==arguments.length)throw t.TypeError.$factory("descriptor '__init__' of 'type' object needs an argument")},n.__init_subclass__=function(){var r=e.args("__init_subclass__",1,{},[],arguments,{},"args","kwargs");if(void 0!==r.kwargs&&(r.kwargs.__class__!==t.dict||Object.keys(r.kwargs.$string_dict).length>0))throw t.TypeError.$factory("__init_subclass__() takes no keyword arguments");return t.None},n.__instancecheck__=function(t,r){var n=r.__class__||e.get_class(r);if(n===t)return!0;for(var o=0;o<n.__mro__.length;o++)if(n.__mro__[o]===t)return!0;return!1},n.__instancecheck__.$type="staticmethod",n.__name__={__get__:function(e){return e.$infos.__name__},__set__:function(e,t){e.$infos.__name__=t},__str__:function(e){return"type"},__eq__:function(e,t){return e.$infos.__name__==t}},n.__new__=function(r,o,i,a,s){s=void 0===s?{$nat:"kw",kw:{}}:s;var l=a.$string_dict.__module__,_={__class__:r,__bases__:i,__dict__:a,$infos:{__name__:o,__module__:l=l?l[0]:e.last(e.frames_stack)[2],__qualname__:o},$is_class:!0,$has_setattr:a.$has_setattr};_.__mro__=n.mro(_).slice(1);for(var c=e.dict_to_list(a),u=0;u<c.length;u++){var f=c[u][0],p=c[u][1];if("__module__"!==f&&void 0!==p){if(_[f]=p,p.__class__){var d=e.$getattr(p.__class__,"__set_name__",t.None);d!==t.None&&d(p,_,f)}if("function"==typeof p)if(void 0===p.$infos)console.log("type new",p,p+""),console.log(e.frames_stack.slice());else if(p.$infos.$class=_,p.$infos.__qualname__=o+"."+p.$infos.__name__,p.$infos.$defaults){var h=p.$infos.$defaults;e.Function.__setattr__(p,"__defaults__",h)}}}var m=t.super.$factory(_,_);return t.super.__getattribute__(m,"__init_subclass__")(s),_},n.__or__=function(){var r=e.args("__or__",2,{cls:null,other:null},["cls","other"],arguments,{},null,null),o=r.cls,i=r.other;return t.isinstance(i,n)?e.UnionType.$factory([o,i]):t.NotImplemented},n.__prepare__=function(){return e.empty_dict()},n.__qualname__={__get__:function(e){return e.$infos.__qualname__||e.$infos.__name__},__set__:function(e,t){e.$infos.__qualname__=t},__str__:function(e){console.log("type.__qualname__")},__eq__:function(e,t){return e.$infos.__qualname__==t}},n.__repr__=function(t){e.builtins_repr_check(n,arguments),void 0===t.$infos&&console.log("no $infos",t);var r=t.$infos.__qualname__;return t.$infos.__module__&&"builtins"!=t.$infos.__module__&&!t.$infos.__module__.startsWith("$")&&(r=t.$infos.__module__+"."+r),"<class '"+r+"'>"},n.__ror__=function(){var e=arguments.length;if(1!=e)throw t.TypeError.$factory(`expected 1 argument, got ${e}`);return t.NotImplemented},n.mro=function(r){if(void 0===r)throw t.TypeError.$factory("unbound method type.mro() needs an argument");for(var n=r.__bases__,o=[],i=0,a=0;a<n.length;a++){n[a]===t.str&&(n[a]=e.StringSubclass);var s=[],l=0;if(void 0===n[a]||void 0===n[a].__mro__){if(void 0===n[a].__class__)return[t.object];throw t.TypeError.$factory("Object passed as base class is not a class")}s[l++]=n[a];var _=n[a].__mro__;_[0]===n[a]&&_.splice(0,1);for(var c=0;c<_.length;c++)s[l++]=_[c];o[i++]=s}o[i++]=n.slice();for(var u=[r],f=1;;){var p=[];for(l=0,a=0;a<o.length;a++)o[a].length>0&&(p[l++]=o[a]);if(0==p.length)break;for(a=0;a<p.length;a++){for(var d=p[a][0],h=[],m=(l=0,0);m<p.length;m++){var g=p[m];g.slice(1).indexOf(d)>-1&&(h[l++]=g)}if(!(h.length>0))break;d=null}if(null===d)throw t.TypeError.$factory("inconsistent hierarchy, no C3 MRO is possible");for(u[f++]=d,a=0;a<o.length;a++)o[a][0]===d&&o[a].shift()}return u[u.length-1]!==t.object&&(u[f++]=t.object),u},n.__subclasscheck__=function(r,n){var o=r;return o===t.str?o=e.StringSubclass:o===t.float&&(o=e.FloatSubclass),void 0===n.__bases__?r===t.object:n.__bases__.indexOf(o)>-1},e.set_func_names(n,"builtins"),t.type=n;var o=e.make_class("wrapper_descriptor");e.set_func_names(o,"builtins"),n.__call__.__class__=o,e.$instance_creator=function(r){if(r.prototype&&r.prototype.constructor==r)return function(){return new r(...arguments)};if(void 0!==r.$instanciable)return function(){throw t.TypeError.$factory("Can't instantiate abstract class interface with abstract methods")};var n,o=r.__class__||e.get_class(r);if(o!==t.type||r.__bases__&&0!=r.__bases__.length){n=t.type.__getattribute__(o,"__call__");var i=function(){return n.bind(null,r).apply(null,arguments)}}else i=r.hasOwnProperty("__new__")?r.hasOwnProperty("__init__")?function(){var e=r.__new__.bind(null,r).apply(null,arguments);return r.__init__.bind(null,e).apply(null,arguments),e}:function(){return r.__new__.bind(null,r).apply(null,arguments)}:r.hasOwnProperty("__init__")?function(){var t={__class__:r,__dict__:e.empty_dict()};return r.__init__.bind(null,t).apply(null,arguments),t}:function(){if(arguments.length>0&&(1!=arguments.length||!arguments[0].$nat||0!=Object.keys(arguments[0].kw).length))throw t.TypeError.$factory("object() takes no parameters");var n=Object.create(null);return e.update_obj(n,{__class__:r,__dict__:e.empty_dict()}),n};return i.__class__=e.Function,i.$infos={__name__:r.$infos.__name__,__module__:r.$infos.__module__},i};var i=e.method_wrapper=e.make_class("method_wrapper",(function(e,t,r){var n=function(){return r.apply(null,arguments)};return n.$infos={__name__:e,__module__:t.__module__},n}));i.__str__=i.__repr__=function(e){return"<method '"+e.$infos.__name__+"' of function object>"};var a=e.make_class("member_descriptor",(function(e,t){return{__class__:a,cls:t,attr:e}}));a.__str__=a.__repr__=function(e){return"<member '"+e.attr+"' of '"+e.cls.$infos.__name__+"' objects>"},e.set_func_names(a,"builtins");var s=e.method=e.make_class("method",(function(t,r){var n=function(){return e.$call(t).bind(null,r).apply(null,arguments)};return n.__class__=s,n.$infos=t.$infos,n}));s.__eq__=function(e,t){return void 0!==e.$infos&&void 0!==t.$infos&&e.$infos.__func__===t.$infos.__func__&&e.$infos.__self__===t.$infos.__self__},s.__ne__=function(t,r){return!e.method.__eq__(t,r)},s.__get__=function(t){var r=function(){return t(arguments)};return r.__class__=e.method_wrapper,r.$infos=s.$infos,r},s.__getattribute__=function(r,n){var o=r.$infos;if(o&&o[n]){if("__code__"==n){var i={__class__:e.Code};for(var n in o.__code__)i[n]=o.__code__[n];return i}return o[n]}return s.hasOwnProperty(n)?t.object.__getattribute__(r,n):e.Function.__getattribute__(r.$infos.__func__,n)},s.__repr__=s.__str__=function(e){return"<bound method "+e.$infos.__qualname__+" of "+t.str.$factory(e.$infos.__self__)+">"},s.__setattr__=function(r,n,o){if("__class__"==n)throw t.TypeError.$factory("__class__ assignment only supported for heap types or ModuleType subclasses");throw e.attr_error(attr,r)},e.set_func_names(s,"builtins"),e.method_descriptor=e.make_class("method_descriptor"),e.classmethod_descriptor=e.make_class("classmethod_descriptor"),e.GenericAlias=e.make_class("GenericAlias",(function(t,r){return{__class__:e.GenericAlias,origin_class:t,items:r}})),e.GenericAlias.__args__={__get__:function(t){return e.fast_tuple(t.items)}},e.GenericAlias.__call__=function(e,...t){return e.origin_class.$factory.apply(null,t)},e.GenericAlias.__eq__=function(t,r){return e.rich_comp("__eq__",t.origin_class,r.origin_class)&&e.rich_comp("__eq__",t.items,r.items)},e.GenericAlias.__getitem__=function(r,n){throw t.TypeError.$factory("descriptor '__getitem__' for '"+r.origin_class.$infos.__name__+"' objects doesn't apply to a '"+e.class_name(n)+"' object")},e.GenericAlias.__origin__={__get__:function(e){return e.origin_class}},e.GenericAlias.__parameters__={__get__:function(t){return e.fast_tuple([])}},e.GenericAlias.__repr__=function(e){for(var r=[],n=0,o=e.items.length;n<o;n++)e.items[n]===t.Ellipsis?r.push("..."):e.items[n].$is_class?r.push(e.items[n].$infos.__name__):r.push(t.repr(e.items[n]));return e.origin_class.$infos.__qualname__+"["+r.join(", ")+"]"},e.set_func_names(e.GenericAlias,"types"),e.UnionType=e.make_class("UnionType",(function(t){return{__class__:e.UnionType,items:t}})),e.UnionType.__repr__=function(e){var r=[];for(var n of e.items)n.$is_class?r.push(n.$infos.__name__):r.push(t.repr(n));return r.join(" | ")},e.set_func_names(e.UnionType,"types"),t.object.__class__=n}(__BRYTHON__),function($B){var _b_=$B.builtins,_window=self,isWebWorker="undefined"!=typeof WorkerGlobalScope&&"function"==typeof importScripts&&navigator instanceof WorkerNavigator;function index_error(e){var t="string"==typeof e?"string":"list";throw _b_.IndexError.$factory(t+" index out of range")}$B.args=function(e,t,r,n,o,i,a,s){e.startsWith("lambda_"+$B.lambda_magic)&&(e="<lambda>");var l,_,c=!1,u=o.length,f=0,p=n.indexOf("/");if(-1!=p&&(n.splice(p,1),_=n.slice(0,p)),u>0&&o[u-1]&&o[u-1].$nat&&(u--,Object.keys(o[u].kw).length>0)){c=!0;var d=o[u].kw;if(Array.isArray(d)){for(var h=d[0],m=1,g=d.length;m<g;m++){var $=d[m];if($.__class__===_b_.dict){for(var v in $.$numeric_dict)throw _b_.TypeError.$factory(e+"() keywords must be strings");for(var v in $.$object_dict)throw _b_.TypeError.$factory(e+"() keywords must be strings");for(var v in $.$string_dict){if(void 0!==h[v])throw _b_.TypeError.$factory(e+"() got multiple values for argument '"+v+"'");h[v]=$.$string_dict[v][0]}}else for(var b=_b_.iter($),y=$B.$getattr($,"__getitem__");;)try{if("string"!=typeof(v=_b_.next(b)))throw _b_.TypeError.$factory(e+"() keywords must be strings");if(void 0!==h[v])throw _b_.TypeError.$factory(e+"() got multiple values for argument '"+v+"'");h[v]=y(v)}catch(e){if($B.is_exc(e,[_b_.StopIteration]))break;throw e}}d=h}}if(a&&(r[a]=[],r[a].__class__=_b_.tuple),s&&(l=$B.empty_dict()),u>t){if(null===a||"*"==a)throw C=e+"() takes "+t+" positional argument"+(t>1?"s":"")+" but more were given",_b_.TypeError.$factory(C);for(m=t;m<u;m++)r[a].push(o[m]);u=t}for(m=0;m<u;m++)r[n[m]]=o[m],f++;if(f==t&&t===n.length&&!c)return s&&(r[s]=l),r;if(c)for(var x in d){var w=d[x];if(void 0===r[x]){if(!s)throw _b_.TypeError.$factory(e+"() got an unexpected keyword argument '"+x+"'");l.$string_dict[x]=[w,l.$order++]}else{if(null!==r[x]){if(x==a)throw _b_.TypeError.$factory(`${e}() got an unexpected keyword argument '${x}'`);throw _b_.TypeError.$factory(e+"() got multiple values for argument '"+x+"'")}if(_&&_.indexOf(x)>-1)throw _b_.TypeError.$factory(e+"() got an unexpected keyword argument '"+x+"'");r[x]=w}}var B=[];for(var k in r)null===r[k]&&(void 0!==i[k]?r[k]=i[k]:B.push("'"+k+"'"));if(B.length>0){if(1==B.length)throw _b_.TypeError.$factory(e+" missing 1 positional argument: "+B[0]);var C=e+" missing "+B.length+" positional arguments: ";throw C+=B.join(" and "),_b_.TypeError.$factory(C)}return s&&(r[s]=l),r},$B.wrong_nb_args=function(e,t,r,n){if(t<r){var o=r-t;throw _b_.TypeError.$factory(e+"() missing "+o+" positional argument"+(o>1?"s":"")+": "+n.slice(t))}throw _b_.TypeError.$factory(e+"() takes "+r+" positional argument"+(r>1?"s":"")+" but more were given")},$B.get_class=function(e){if(null===e)return $B.$NoneDict;if(void 0===e)return $B.UndefinedClass;var t=e.__class__;if(void 0===t)switch(typeof e){case"number":return e%1==0?_b_.int:_b_.float;case"string":return _b_.str;case"boolean":return _b_.bool;case"function":return e.$is_js_func?$B.JSObj:(e.__class__=$B.Function,$B.Function);case"object":if(Array.isArray(e)){if(Object.getPrototypeOf(e)===Array.prototype)return e.__class__=_b_.list,_b_.list}else{if(e.constructor===Number)return _b_.float;if("undefined"!=typeof Node&&e instanceof Node)return e.tagName&&$B.imported["browser.html"][e.tagName]||$B.DOMNode}}return void 0===t?$B.JSObj:t},$B.class_name=function(e){var t=$B.get_class(e);return t===$B.JSObj?"Javascript "+e.constructor.name:t.$infos.__name__},$B.next_of=function(e){if(e.__class__===_b_.range){var t={ix:e.start};return e.step>0?function(){if(t.ix>=e.stop)throw _b_.StopIteration.$factory("");var r=t.ix;return t.ix+=e.step,r}:function(){if(t.ix<=e.stop)throw _b_.StopIteration.$factory("");var r=t.ix;return t.ix+=e.step,r}}return $B.$call($B.$getattr(_b_.iter(e),"__next__"))},$B.unpacker=function(e,t,r,n){var o=_b_.list.$factory(e),i=o.length;if(i<(r?i-1:i))throw _b_.ValueError.$factory(`not enough values to unpack (expected ${min_length}, got ${i})`);if(!r&&i>t)throw console.log("iterable",e,"t",o,"nb_targets",t),_b_.ValueError.$factory(`too many values to unpack (expected ${t})`);return o.index=-1,o.read_one=function(){return o.index++,o[o.index]},o.read_rest=function(){return o.index++,o.slice(o.index)},o},$B.rest_iter=function(e){for(var t=[];;)try{t.push(e())}catch(e){if($B.is_exc(e,[_b_.StopIteration]))return $B.fast_tuple(t);throw e}},$B.copy_namespace=function(){var e={};for(const r of $B.frames_stack)for(const n of[r[1],r[3]])for(var t in n)t.startsWith("$")||(e[t]=n[t]);return e},$B.clear_ns=function(e){e.startsWith("__ge")&&console.log("clear ns",e),e.length,$B.$py_src[e]=null,delete $B.$py_src[e];var t=e.replace(/\./g,"_");t!=e&&$B.clear_ns(t)},$B.$search=function(e,t){var r=$B.last($B.frames_stack);if(void 0!==r[1][e])return r[1][e];if(void 0!==r[3][e])return r[3][e];if(void 0!==_b_[e])return _b_[e];throw r[0]==r[2]||"class"==r[1].$type||r[1].$exec_locals?$B.name_error(e):_b_.UnboundLocalError.$factory("local variable '"+e+"' referenced before assignment")},$B.$global_search=function(e,t){for(var r=0;r<$B.frames_stack.length;r++){var n=$B.frames_stack[r];if(t.indexOf(n[0])>-1)if(n[1].$is_not_dict)try{return $B.$getitem(n[1],e)}catch(e){if(!$B.is_exc(e,[_b_.KeyError]))throw e}else if(void 0!==n[1][e])return n[1][e];if(t.indexOf(n[2])>-1&&void 0!==n[3][e])return n[3][e]}for(r=0;r<t.length;r++){var o=t[r];if($B.imported[o]&&$B.imported[o][e])return $B.imported[o][e]}throw $B.name_error(e)},$B.$local_search=function(e){var t=$B.last($B.frames_stack);if(void 0!==t[1][e])return t[1][e];throw _b_.UnboundLocalError.$factory("local variable '"+e+"' referenced before assignment")},$B.get_method_class=function(e,t){for(var r=t.split("."),n=e;r.length>0;){var o=r.shift();if(void 0===n[o])return $B.make_class(t);n=n[o]}return n},$B.$check_def=function(e,t){if(void 0!==t)return t;if(void 0!==_b_[e])return _b_[e];var r=$B.last($B.frames_stack);if(r[1].$is_not_dict)try{return $B.$getitem(r[1],e)}catch(e){if(!$B.is_exc(e,[_b_.KeyError]))throw e}else if(void 0!==r[1][e])return r[1][e];if(void 0!==r[3][e])return r[3][e];throw $B.name_error(e)},$B.$check_def_global=function(e,t){var r=t[e];if(void 0===r)throw $B.name_error(e);return r},$B.$check_def_local=function(e,t){if(void 0!==t)return t;throw _b_.UnboundLocalError.$factory("local variable '"+e+"' referenced before assignment")},$B.$check_def_free=function(e,t){if(void 0!==t)return t;for(var r,n=$B.frames_stack.length-1;n>=0;n--){if(void 0!==(r=$B.frames_stack[n][1][e]))return r;if(void 0!==(r=$B.frames_stack[n][3][e]))return r}throw _b_.NameError.$factory("free variable '"+e+"' referenced before assignment in enclosing scope")},$B.$check_def_free1=function(e,t){for(var r,n=$B.frames_stack.length-1;n>=0;n--){var o=$B.frames_stack[n];if(void 0!==(r=o[1][e]))return r;if(o[1].$parent&&void 0!==(r=o[1].$parent[e]))return r;if(o[2]==t&&void 0!==(r=o[3][e]))return r}throw _b_.NameError.$factory("free variable '"+e+"' referenced before assignment in enclosing scope")},$B.$JS2Py=function(e){return"number"==typeof e?e%1==0?e:_b_.float.$factory(e):null==e?_b_.None:(Array.isArray(e)&&Object.getPrototypeOf(e)===Array.prototype&&(e.$brython_class="js"),e)},$B.list_key=function(e,t){(t=$B.$GetInt(t))<0&&(t+=e.length);var r=e[t];if(void 0===r)throw _b_.IndexError.$factory("list index out of range");return r},$B.list_slice=function(e,t,r){return null===t?t=0:(t=$B.$GetInt(t))<0&&(t=Math.max(0,t+e.length)),null===r?e.slice(t):((r=$B.$GetInt(r))<0&&(r+=e.length),e.slice(t,r))},$B.list_slice_step=function(e,t,r,n){if(null===n||1==n)return $B.list_slice(e,t,r);if(0==n)throw _b_.ValueError.$factory("slice step cannot be zero");n=$B.$GetInt(n),null===t?t=n>=0?0:e.length-1:(t=$B.$GetInt(t))<0&&(t=Math.min(0,t+e.length)),null===r?r=n>=0?e.length:-1:(r=$B.$GetInt(r))<0&&(r=Math.max(0,r+e.length));var o=[];if(n>0)for(var i=t;i<r;i+=n)o.push(e[i]);else for(i=t;i>r;i+=n)o.push(e[i]);return o},$B.$getitem=function(e,t){var r=Array.isArray(e)&&e.__class__===_b_.list,n=e.__class__===_b_.dict&&!e.$jsobj;if("number"==typeof t){if(r||"string"==typeof e){if(void 0!==e[t=t>=0?t:e.length+t])return e[t];index_error(e)}else if(n&&void 0!==e.$numeric_dict[t])return e.$numeric_dict[t][0]}else if(t.valueOf&&"string"==typeof t.valueOf()&&n){var o=e.$string_dict[t];if(void 0!==o)return o[0];throw _b_.KeyError.$factory(t)}if(e.$is_class){var i=$B.$getattr(e,"__class_getitem__",_b_.None);if(i!==_b_.None)return i(t);if(e.__class__){if((i=$B.$getattr(e.__class__,"__getitem__",_b_.None))!==_b_.None)return i(e,t);throw _b_.TypeError.$factory("'"+$B.class_name(e.__class__)+"' object is not subscriptable")}}if(r)return _b_.list.$getitem(e,t);if(n)return _b_.dict.$getitem(e,t);var a=$B.$getattr(e.__class__||$B.get_class(e),"__getitem__",_b_.None);if(a!==_b_.None)return a(e,t);throw _b_.TypeError.$factory("'"+$B.class_name(e)+"' object is not subscriptable")},$B.getitem_slice=function(e,t){var r;return Array.isArray(e)&&e.__class__===_b_.list?(t.start===_b_.None&&t.stop===_b_.None?t.step===_b_.None||1==t.step?r=e.slice():-1==t.step&&(r=e.slice().reverse()):t.step===_b_.None&&(t.start===_b_.None&&(t.start=0),t.stop===_b_.None&&(t.stop=e.length),"number"==typeof t.start&&"number"==typeof t.stop&&(t.start<0&&(t.start+=e.length),t.stop<0&&(t.stop+=e.length),r=e.slice(t.start,t.stop))),r?(r.__class__=e.__class__,r):_b_.list.$getitem(e,t)):$B.$getattr(e,"__getitem__")(t)},$B.set_list_key=function(e,t,r){try{t=$B.$GetInt(t)}catch(o){if(_b_.isinstance(t,_b_.slice)){var n=_b_.slice.$conv_for_seq(t,e.length);return $B.set_list_slice_step(e,n.start,n.stop,n.step,r)}}if(t<0&&(t+=e.length),void 0===e[t])throw console.log(e,t),_b_.IndexError.$factory("list assignment index out of range");e[t]=r},$B.set_list_slice=function(e,t,r,n){null===t?t=0:(t=$B.$GetInt(t))<0&&(t=Math.max(0,t+e.length)),null===r&&(r=e.length),(r=$B.$GetInt(r))<0&&(r=Math.max(0,r+e.length));var o=_b_.list.$factory(n);e.splice.apply(e,[t,r-t].concat(o))},$B.set_list_slice_step=function(e,t,r,n,o){if(null===n||1==n)return $B.set_list_slice(e,t,r,o);if(0==n)throw _b_.ValueError.$factory("slice step cannot be zero");n=$B.$GetInt(n),t=null===t?n>0?0:e.length-1:$B.$GetInt(t),r=null===r?n>0?e.length:-1:$B.$GetInt(r);var i,a=_b_.list.$factory(o),s=0,l=0;i=n>0?function(e){return e<r}:function(e){return e>r};for(var _=t;i(_);_+=n)l++;if(l!=a.length)throw _b_.ValueError.$factory("attempt to assign sequence of size "+a.length+" to extended slice of size "+l);for(_=t;i(_);_+=n)e[_]=a[s],s++},$B.$setitem=function(e,t,r){if(!Array.isArray(e)||void 0!==e.__class__||"number"!=typeof t||_b_.isinstance(e,_b_.tuple)){if(e.__class__!==_b_.dict){if(e.__class__===_b_.list)return _b_.list.$setitem(e,t,r);var n=$B.$getattr(e.__class__||$B.get_class(e),"__setitem__",null);if(null===n)throw _b_.TypeError.$factory("'"+$B.class_name(e)+"' object does not support item assignment");return n(e,t,r)}_b_.dict.$setitem(e,t,r)}else{if(t<0&&(t+=e.length),void 0===e[t])throw _b_.IndexError.$factory("list assignment index out of range");e[t]=r}},$B.$delitem=function(e,t){if(!Array.isArray(e)||e.__class__!==_b_.list||"number"!=typeof t||_b_.isinstance(e,_b_.tuple)){if(e.__class__!==_b_.dict){if(e.__class__===_b_.list)return _b_.list.__delitem__(e,t);var r=$B.$getattr(e.__class__||$B.get_class(e),"__delitem__",null);if(null===r)throw _b_.TypeError.$factory("'"+$B.class_name(e)+"' object doesn't support item deletion");return r(e,t)}_b_.dict.__delitem__(e,t)}else{if(t<0&&(t+=e.length),void 0===e[t])throw _b_.IndexError.$factory("list deletion index out of range");e.splice(t,1)}},$B.delitem_slice=function(e,t){if(Array.isArray(e)&&e.__class__===_b_.list)if(t.start===_b_.None&&t.stop===_b_.None){if(t.step===_b_.None||1==t.step||-1==t.step){for(;e.length>0;)e.pop();return _b_.None}}else if(t.step===_b_.None&&(t.start===_b_.None&&(t.start=0),t.stop===_b_.None&&(t.stop=e.length),"number"==typeof t.start&&"number"==typeof t.stop))return t.start<0&&(t.start+=e.length),t.stop<0&&(t.stop+=e.length),e.splice(t.start,t.stop-t.start),_b_.None;var r=$B.$getattr(e.__class__||$B.get_class(e),"__delitem__",null);if(null===r)throw _b_.TypeError.$factory("'"+$B.class_name(e)+"' object doesn't support item deletion");return r(e,t)},$B.augm_assign=function(left,op,right){var op1=op.substr(0,op.length-1);if("number"==typeof left&&"number"==typeof right&&"//="!=op){var res=eval(left+" "+op1+" "+right);if(res<=$B.max_int&&res>=$B.min_int&&-1==res.toString().search(/e/i))return res;res=eval(`${BigInt(left)}n ${op1} ${BigInt(right)}n`);var pos=res>0n,res=res+"";return pos?$B.fast_long_int(res,!0):$B.fast_long_int(res.substr(1),!1)}if("string"==typeof left&&"string"==typeof right&&"+="==op)return left+right;var method=$B.op2method.augmented_assigns[op],augm_func=$B.$getattr(left,"__"+method+"__",null);if(null!==augm_func)return $B.$call(augm_func)(right);var method1=$B.op2method.operations[op1];return void 0===method1&&(method1=$B.op2method.binary[op1]),$B.rich_op(method1,left,right)},$B.extend=function(e,t){for(var r=2;r<arguments.length;r++)for(var n=arguments[r],o=_b_.iter(n),i=$B.$getattr(n,"__getitem__");;)try{var a=_b_.next(o);if("string"!=typeof a)throw _b_.TypeError.$factory(e+"() keywords must be strings");if(void 0!==t[a])throw _b_.TypeError.$factory(e+"() got multiple values for argument '"+a+"'");t[a]=i(a)}catch(e){if(_b_.isinstance(e,[_b_.StopIteration]))break;throw e}return t},$B.extend_list=function(){for(var e=Array.prototype.slice.call(arguments,0,arguments.length-1),t=$B.last(arguments),r=_b_.iter(t);;)try{e.push(_b_.next(r))}catch(e){if(_b_.isinstance(e,[_b_.StopIteration]))break;throw e}return e},$B.$test_item=function(e){return $B.$test_result=e,_b_.bool.$factory(e)},$B.$test_expr=function(){return $B.$test_result},$B.$is=function(e,t){return e instanceof Number&&t instanceof Number?e.valueOf()==t.valueOf():e===_b_.int&&t==$B.long_int||e===$B.long_int&&t===_b_.int||e===t},$B.conv_undef=function(e){var t={};for(var r in e)t[r]=void 0===e[r]?$B.Undefined:e[r];return t},$B.$is_member=function(e,t){var r,n,o;try{o=$B.$getattr(t.__class__||$B.get_class(t),"__contains__")}catch(e){}if(o)return $B.$call(o)(t,e);try{n=_b_.iter(t)}catch(e){}if(n)for(;;)try{var i=_b_.next(n);if($B.rich_comp("__eq__",i,e))return!0}catch(e){return!1}try{r=$B.$getattr(t,"__getitem__")}catch(e){throw _b_.TypeError.$factory("'"+$B.class_name(t)+"' object is not iterable")}if(r)for(var a=-1;;){a++;try{if(i=r(a),$B.rich_comp("__eq__",i,e))return!0}catch(e){if(e.__class__===_b_.IndexError)return!1;throw e}}},$B.$call=function(e){if(e.__class__===$B.method)return e;if(e.$factory)return e.$factory;if(e.$is_class)return e.$factory=$B.$instance_creator(e);if(e.$is_js_class)return e.$factory=function(){return new e(...arguments)};if(e.$in_js_module)return function(){var t=e(...arguments);return void 0===t?_b_.None:t};if(e.$is_func||"function"==typeof e)return e;try{return $B.$getattr(e,"__call__")}catch(t){throw _b_.TypeError.$factory("'"+$B.class_name(e)+"' object is not callable")}};var $io=$B.make_class("io",(function(e){return{__class__:$io,out:e}}));function $err(e,t,r){var n="unsupported operand type(s) for "+e+" : '"+t.$infos.__name__+"' and '"+$B.class_name(r)+"'";throw _b_.TypeError.$factory(n)}$io.flush=function(e){console[e.out].apply(null,e.buf),e.buf=[]},$io.write=function(e,t){if(void 0===e.buf&&(e.buf=[]),"string"!=typeof t)throw _b_.TypeError.$factory("write() argument must be str, not "+$B.class_name(t));return e.buf.push(t),_b_.None},void 0!==console.error?$B.stderr=$io.$factory("error"):$B.stderr=$io.$factory("log"),$B.stdout=$io.$factory("log"),$B.stdin={__class__:$io,__original__:!0,closed:!1,len:1,pos:0,read:function(){return""},readline:function(){return""}},$B.make_iterator_class=function(e){var t={__class__:_b_.type,__mro__:[_b_.object],$factory:function(e){return{__class__:t,__dict__:$B.empty_dict(),counter:-1,items:e,len:e.length}},$infos:{__name__:e},$is_class:!0,__iter__:function(e){return e.counter=void 0===e.counter?-1:e.counter,e.len=e.items.length,e},__len__:function(e){return e.items.length},__next__:function(e){if("function"==typeof e.test_change&&e.test_change())throw _b_.RuntimeError.$factory("dictionary changed size during iteration");if(e.counter++,e.counter<e.items.length){var t=e.items[e.counter];return"js"==e.items.$brython_class&&(t=$B.$JS2Py(t)),t}throw _b_.StopIteration.$factory("StopIteration")},__reduce_ex__:function(e,t){return $B.fast_tuple([_b_.iter,_b_.tuple.$factory([e.items])])}};return $B.set_func_names(t,"builtins"),t};var r_opnames=["add","sub","mul","truediv","floordiv","mod","pow","lshift","rshift","and","xor","or"],ropsigns=["+","-","*","/","//","%","**","<<",">>","&","^","|"];$B.make_rmethods=function(e){for(var t of r_opnames)void 0===e["__r"+t+"__"]&&e["__"+t+"__"]&&(e["__r"+t+"__"]=function(t){return function(r,n){return e["__"+t+"__"](n,r)}}(t))},$B.UUID=function(){return $B.$py_UUID++},$B.$GetInt=function(e){if("number"==typeof e||e.constructor===Number)return e;if("boolean"==typeof e)return e?1:0;if(_b_.isinstance(e,_b_.int))return e;if(_b_.isinstance(e,_b_.float))return e.valueOf();if(!e.$is_class){try{return $B.$getattr(e,"__int__")()}catch(e){}try{return $B.$getattr(e,"__index__")()}catch(e){}}throw _b_.TypeError.$factory("'"+$B.class_name(e)+"' object cannot be interpreted as an integer")},$B.to_num=function(e,t){for(var r={__complex__:_b_.complex,__float__:_b_.float,__index__:_b_.int,__int__:_b_.int},n=e.__class__||$B.get_class(e),o=0;o<t.length;o++){var i={},a=$B.$getattr(n,t[o],i);if(a!==i){var s=a(e);if(!_b_.isinstance(s,r[t[o]]))throw console.log(s,t[o],r[t[o]]),_b_.TypeError.$factory(t[o]+"returned non-"+r[t[o]].$infos.__name__+"(type "+$B.get_class(s)+")");return s}}return null},$B.PyNumber_Index=function(e){switch(typeof e){case"boolean":return e?1:0;case"number":return e;case"object":if(e.__class__===$B.long_int)return e;if(_b_.isinstance(e,_b_.int))return e.$brython_value;var t=$B.$getattr(e,"__index__",_b_.None);if(t!==_b_.None)return t="function"==typeof t?t:$B.$getattr(t,"__call__"),$B.int_or_bool(t());throw _b_.TypeError.$factory("'"+$B.class_name(e)+"' object cannot be interpreted as an integer");default:throw _b_.TypeError.$factory("'"+$B.class_name(e)+"' object cannot be interpreted as an integer")}},$B.int_or_bool=function(e){switch(typeof e){case"boolean":return e?1:0;case"number":return e;case"object":if(e.__class__===$B.long_int)return e;throw _b_.TypeError.$factory("'"+$B.class_name(e)+"' object cannot be interpreted as an integer");default:throw _b_.TypeError.$factory("'"+$B.class_name(e)+"' object cannot be interpreted as an integer")}},$B.enter_frame=function(e){if($B.frames_stack.push(e),$B.tracefunc&&$B.tracefunc!==_b_.None){if(e[4]===$B.tracefunc||$B.tracefunc.$infos&&e[4]&&e[4]===$B.tracefunc.$infos.__func__)return $B.tracefunc.$frame_id=e[0],_b_.None;for(var t=$B.frames_stack.length-1;t>=0;t--)if($B.frames_stack[t][0]==$B.tracefunc.$frame_id)return _b_.None;try{return $B.tracefunc($B._frame.$factory($B.frames_stack,$B.frames_stack.length-1),"call",_b_.None)}catch(e){throw e.$in_trace_func=!0,e}}return _b_.None},$B.trace_exception=function(){var e=$B.last($B.frames_stack);if(e[0]==$B.tracefunc.$current_frame_id)return _b_.None;var t=e[1].$f_trace,r=e[1].$current_exception;return t($B._frame.$factory($B.frames_stack,$B.frames_stack.length-1),"exception",$B.fast_tuple([r.__class__,r,$B.traceback.$factory(r)]))},$B.trace_line=function(){var e=$B.last($B.frames_stack);return e[0]==$B.tracefunc.$current_frame_id?_b_.None:(0,e[1].$f_trace)($B._frame.$factory($B.frames_stack,$B.frames_stack.length-1),"line",_b_.None)},$B.set_line=function(e){var t=$B.last($B.frames_stack);if($B.tracefunc&&t[0]==$B.tracefunc.$current_frame_id)return _b_.None;t[1].$line_info=e;var r=t[1].$f_trace;if(r!==_b_.None){var n=$B._frame.$factory($B.frames_stack,$B.frames_stack.length-1);t[1].$ftrace=r(n,"line",_b_.None)}return!0},$B.trace_return=function(e){var t=$B.last($B.frames_stack),r=t[1].$f_trace,n=$B._frame.$factory($B.frames_stack,$B.frames_stack.length-1);if(t[0]==$B.tracefunc.$current_frame_id)return _b_.None;r(n,"return",e)},$B.leave_frame=function(e){if(0!=$B.frames_stack.length){e&&void 0!==e.value&&$B.tracefunc&&(void 0===$B.last($B.frames_stack)[1].$f_trace&&($B.last($B.frames_stack)[1].$f_trace=$B.tracefunc),$B.last($B.frames_stack)[1].$f_trace!==_b_.None&&$B.trace_return(e.value));var t=$B.frames_stack.pop();if(t[1].$is_generator){var r=new Set;for(var n in t[1])n.startsWith("$ctx_manager")&&r.add(t[1][n]);if(r.size>0&&$B.frames_stack.length>0){var o=$B.last($B.frames_stack);for(var i of(o[1].$ctx_managers_in_gen=o[1].$ctx_managers_in_gen||new Set,r))o[1].$ctx_managers_in_gen.add(i)}}if(t[1].$current_exception=void 0,t[1].$ctx_managers_in_gen)for(var i of t[1].$ctx_managers_in_gen)$B.$call($B.$getattr(i,"__exit__"))(_b_.None,_b_.None,_b_.None);return _b_.None}console.log("empty stack")},$B.leave_frame_exec=function(e){if($B.profile>0&&$B.$profile.return(),0!=$B.frames_stack.length){var t=$B.last($B.frames_stack);if($B.frames_stack.pop(),t[1].$ctx_managers_in_gen)for(var r of t[1].$ctx_managers_in_gen)$B.$call($B.$getattr(r,"__exit__"))(_b_.None,_b_.None,_b_.None);for(var n=$B.frames_stack.length-1;n>=0;n--)$B.frames_stack[n][2]==t[2]&&($B.frames_stack[n][3]=t[3])}else console.log("empty stack")};var min_int=Math.pow(-2,53),max_int=Math.pow(2,53)-1;$B.is_safe_int=function(){for(var e=0;e<arguments.length;e++){var t=arguments[e];if("number"!=typeof t||t<min_int||t>max_int)return!1}return!0},$B.add=function(e,t){if(e.valueOf&&"number"==typeof e.valueOf()&&t.valueOf&&"number"==typeof t.valueOf()){if("number"==typeof e&&"number"==typeof t){var r=e+t;return r<$B.max_int&&r>$B.min_int?r:r===1/0?_b_.float.$factory("inf"):r===-1/0?_b_.float.$factory("-inf"):isNaN(r)?_b_.float.$factory("nan"):$B.long_int.__add__($B.long_int.$factory(e),$B.long_int.$factory(t))}return new Number(e+t)}if("string"==typeof e&&"string"==typeof t)return e+t;try{var n=$B.$getattr(e.__class__||$B.get_class(e),"__add__")}catch(r){if(r.__class__===_b_.AttributeError)throw _b_.TypeError.$factory("unsupported operand type(s) for +: '"+$B.class_name(e)+"' and '"+$B.class_name(t)+"'");throw r}var o=$B.$call(n)(e,t);return o===_b_.NotImplemented?$B.rich_op("add",e,t):o},$B.div=function(e,t){var r=e/t;return e>min_int&&e<max_int&&t>min_int&&t<max_int&&r>min_int&&r<max_int?r:$B.long_int.__truediv__($B.long_int.$factory(e),$B.long_int.$factory(t))},$B.eq=function(e,t){return e>min_int&&e<max_int&&t>min_int&&t<max_int?e==t:$B.long_int.__eq__($B.long_int.$factory(e),$B.long_int.$factory(t))},$B.floordiv=function(e,t){var r=e/t;return e>min_int&&e<max_int&&t>min_int&&t<max_int&&r>min_int&&r<max_int?Math.floor(r):$B.long_int.__floordiv__($B.long_int.$factory(e),$B.long_int.$factory(t))},$B.mul=function(e,t){var r="number"!=typeof e||"number"!=typeof t?new Number(e*t):e*t;if(e>min_int&&e<max_int&&t>min_int&&t<max_int&&r>min_int&&r<max_int)return r;if("number"!=typeof e&&e.__class__!==$B.long_int||"number"!=typeof t&&t.__class__!==$B.long_int)return r;if("number"==typeof e&&isNaN(e)||"number"==typeof t&&isNaN(t))return _b_.float.$factory("nan");switch(e){case 1/0:case-1/0:return 0==t?_b_.float.$factory("nan"):t>0?e:-e}return $B.long_int.__mul__($B.long_int.$factory(e),$B.long_int.$factory(t))},$B.sub=function(e,t){if(e instanceof Number&&t instanceof Number)return e-t;var r="number"!=typeof e||"number"!=typeof t?new Number(e-t):e-t;if(e>min_int&&e<max_int&&t>min_int&&t<max_int&&r>min_int&&r<max_int)return r;if("number"!=typeof e&&e.__class__!==$B.long_int||"number"!=typeof t&&t.__class__!==$B.long_int)return r;if("number"==typeof e&&"number"==typeof t){if(isNaN(e)||isNaN(t))return _b_.float.$factory("nan");if(e===1/0||e===-1/0)return t===e?_b_.float.$factory("nan"):e;if(t===1/0||t===-1/0)return t===e?_b_.float.$factory("nan"):-t}return"number"==typeof e&&isNaN(e)||"number"==typeof t&&isNaN(t)?_b_.float.$factory("nan"):$B.long_int.__sub__($B.long_int.$factory(e),$B.long_int.$factory(t))},$B.ge=function(e,t){return"number"==typeof e&&"number"==typeof t?e>=t:"number"==typeof e&&"number"!=typeof t?!t.pos:"number"!=typeof e&&"number"==typeof t?!0===e.pos:$B.long_int.__ge__(e,t)},$B.gt=function(e,t){return"number"==typeof e&&"number"==typeof t?e>t:"number"==typeof e&&"number"!=typeof t?!t.pos:"number"!=typeof e&&"number"==typeof t?!0===e.pos:$B.long_int.__gt__(e,t)};var reversed_op={__lt__:"__gt__",__le__:"__ge__",__gt__:"__lt__",__ge__:"__le__"},method2comp={__lt__:"<",__le__:"<=",__gt__:">",__ge__:">="};$B.rich_comp=function(e,t,r){if(void 0===t)throw _b_.RuntimeError.$factory("error in rich comp");var n,o=t.valueOf?t.valueOf():t,i=r.valueOf?r.valueOf():r;if("number"==typeof o&&"number"==typeof i&&void 0===t.__class__&&void 0===r.__class__)switch(e){case"__eq__":return o==i;case"__ne__":return o!=i;case"__le__":return o<=i;case"__lt__":return o<i;case"__ge__":return o>=i;case"__gt__":return o>i}if(t.$is_class||t.$factory){if("__eq__"==e)return t===r;if("__ne__"==e)return!(t===r);throw _b_.TypeError.$factory("'"+method2comp[e]+"' not supported between instances of '"+$B.class_name(t)+"' and '"+$B.class_name(r)+"'")}var a=$B.$call($B.$getattr(t.__class__||$B.get_class(t),e)),s=reversed_op[e]||e;if(t.__class__&&r.__class__&&r.__class__.__mro__.indexOf(t.__class__)>-1&&($B.$getattr(r,s),(n=$B.$call($B.$getattr(r,s))(t))!==_b_.NotImplemented))return n;if((n=a(t,r))!==_b_.NotImplemented)return n;if((n=$B.$call($B.$getattr(r.__class__||$B.get_class(r),s))(r,t))!==_b_.NotImplemented)return n;if("__eq__"==e)return _b_.False;if("__ne__"==e)return _b_.True;throw _b_.TypeError.$factory("'"+method2comp[e]+"' not supported between instances of '"+$B.class_name(t)+"' and '"+$B.class_name(r)+"'")};var opname2opsign={sub:"-",xor:"^",mul:"*"};$B.rich_op=function(e,t,r){var n,o,i=t.__class__||$B.get_class(t),a=r.__class__||$B.get_class(r),s="__"+e+"__";if(i===a){if(i===_b_.int)return _b_.int[s](t,r);if(i===_b_.bool)return(_b_.bool[s]||_b_.int[s])(t,r);try{n=$B.$call($B.$getattr(i,"__"+e+"__"))}catch(r){if(r.__class__===_b_.AttributeError){var l=$B.class_name(t);throw _b_.TypeError.$factory("unsupported operand type(s) for "+opname2opsign[e]+" : '"+l+"' and '"+l+"'")}throw r}return n(t,r)}if(_b_.issubclass(a,i)){var _=$B.$getattr(i,"__r"+e+"__"),c=$B.$getattr(a,"__r"+e+"__");if(c!==_)return c(r,t)}try{n=$B.$call($B.$getattr(t,"__"+e+"__"))}catch(n){if(n.__class__!==_b_.AttributeError)throw n;if((o=$B.$call($B.$getattr(r,"__r"+e+"__"))(t))!==_b_.NotImplemented)return o;throw _b_.TypeError.$factory("'"+(opname2opsign[e]||e)+"' not supported between instances of '"+$B.class_name(t)+"' and '"+$B.class_name(r)+"'")}if((o=n(r))===_b_.NotImplemented){var u=$B.$getattr(r,"__r"+e+"__",null);if(null!==u&&(o=$B.$call(u)(t))!==_b_.NotImplemented)return o;throw _b_.TypeError.$factory("'"+(opname2opsign[e]||e)+"' not supported between instances of '"+$B.class_name(t)+"' and '"+$B.class_name(r)+"'")}return o},$B.is_none=function(e){return null==e||e==_b_.None};var repr_stack=new Set;$B.repr={enter:function(e){if(repr_stack.has(e))return!0;repr_stack.add(e)},leave:function(e){repr_stack.delete(e)}}}(__BRYTHON__),function(e){var t=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9];function r(e){return e<1e5?e<100?e<10?0:1:e<1e4?e<1e3?2:3:4:e<1e7?e<1e6?5:6:e<1e9?e<1e8?7:8:9}function n(e,n){if(e===n)return 0;if(~~e===e&&~~n===n){if(0===e||0===n)return e<n?-1:1;if(e<0||n<0){if(n>=0)return-1;if(e>=0)return 1;e=-e,n=-n}al=r(e),bl=r(n);var o=0;return al<bl?(e*=t[bl-al-1],n/=10,o=-1):al>bl&&(n*=t[al-bl-1],e/=10,o=1),e===n?o:e<n?-1:1}var i=String(e),a=String(n);return i===a?0:i<a?-1:1}function o(e,t,r,n){var o=t+1;if(o===r)return 1;if(n(e[o++],e[t])<0){for(;o<r&&n(e[o],e[o-1])<0;)o++;!function(e,t,r){for(r--;t<r;){var n=e[t];e[t++]=e[r],e[r--]=n}}(e,t,o)}else for(;o<r&&n(e[o],e[o-1])>=0;)o++;return o-t}function i(e,t,r,n,o){for(n===t&&n++;n<r;n++){for(var i=e[n],a=t,s=n;a<s;){var l=a+s>>>1;o(i,e[l])<0?s=l:a=l+1}var _=n-a;switch(_){case 3:e[a+3]=e[a+2];case 2:e[a+2]=e[a+1];case 1:e[a+1]=e[a];break;default:for(;_>0;)e[a+_]=e[a+_-1],_--}e[a]=i}}function a(e,t,r,n,o,i){var a=0,s=0,l=1;if(i(e,t[r+o])>0){for(s=n-o;l<s&&i(e,t[r+o+l])>0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s),a+=o,l+=o}else{for(s=o+1;l<s&&i(e,t[r+o-l])<=0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s);var _=a;a=o-l,l=o-_}for(a++;a<l;){var c=a+(l-a>>>1);i(e,t[r+c])>0?a=c+1:l=c}return l}function s(e,t,r,n,o,i){var a=0,s=0,l=1;if(i(e,t[r+o])<0){for(s=o+1;l<s&&i(e,t[r+o-l])<0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s);var _=a;a=o-l,l=o-_}else{for(s=n-o;l<s&&i(e,t[r+o+l])>=0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s),a+=o,l+=o}for(a++;a<l;){var c=a+(l-a>>>1);i(e,t[r+c])<0?l=c:a=c+1}return l}var l="TimSortAssertion",_=function(e){this.name=l,this.message=e},c=function(e,t){var r={array:e,compare:t,minGallop:7,length:e.length,tmpStorageLength:256,stackLength:0,runStart:null,runLength:null,stackSize:0,pushRun:function(e,t){this.runStart[this.stackSize]=e,this.runLength[this.stackSize]=t,this.stackSize+=1},mergeRuns:function(){for(;this.stackSize>1;){var e=this.stackSize-2;if(e>=1&&this.runLength[e-1]<=this.runLength[e]+this.runLength[e+1]||e>=2&&this.runLength[e-2]<=this.runLength[e]+this.runLength[e-1])this.runLength[e-1]<this.runLength[e+1]&&e--;else if(this.runLength[e]>this.runLength[e+1])break;this.mergeAt(e)}},forceMergeRuns:function(){for(;this.stackSize>1;){var e=this.stackSize-2;e>0&&this.runLength[e-1]<this.runLength[e+1]&&e--,this.mergeAt(e)}},mergeAt:function(e){var t=this.compare,r=this.array,n=this.runStart[e],o=this.runLength[e],i=this.runStart[e+1],l=this.runLength[e+1];this.runLength[e]=o+l,e===this.stackSize-3&&(this.runStart[e+1]=this.runStart[e+2],this.runLength[e+1]=this.runLength[e+2]),this.stackSize--;var _=s(r[i],r,n,o,0,t);n+=_,0!=(o-=_)&&0!==(l=a(r[n+o-1],r,i,l,l-1,t))&&(o<=l?this.mergeLow(n,o,i,l):this.mergeHigh(n,o,i,l))},mergeLow:function(e,t,r,n){var o=this.compare,i=this.array,l=this.tmp,c=0;for(c=0;c<t;c++)l[c]=i[e+c];var u=0,f=r,p=e;if(i[p++]=i[f++],0!=--n)if(1!==t){for(var d=this.minGallop;;){var h=0,m=0,g=!1;do{if(o(i[f],l[u])<0){if(i[p++]=i[f++],m++,h=0,0==--n){g=!0;break}}else if(i[p++]=l[u++],h++,m=0,1==--t){g=!0;break}}while((h|m)<d);if(g)break;do{if(0!==(h=s(i[f],l,u,t,0,o))){for(c=0;c<h;c++)i[p+c]=l[u+c];if(p+=h,u+=h,(t-=h)<=1){g=!0;break}}if(i[p++]=i[f++],0==--n){g=!0;break}if(0!==(m=a(l[u],i,f,n,0,o))){for(c=0;c<m;c++)i[p+c]=i[f+c];if(p+=m,f+=m,0==(n-=m)){g=!0;break}}if(i[p++]=l[u++],1==--t){g=!0;break}d--}while(h>=7||m>=7);if(g)break;d<0&&(d=0),d+=2}if(this.minGallop=d,d<1&&(this.minGallop=1),1===t){for(c=0;c<n;c++)i[p+c]=i[f+c];i[p+n]=l[u]}else{if(0===t)throw new _("mergeLow preconditions were not respected");for(c=0;c<t;c++)i[p+c]=l[u+c]}}else{for(c=0;c<n;c++)i[p+c]=i[f+c];i[p+n]=l[u]}else for(c=0;c<t;c++)i[p+c]=l[u+c]},mergeHigh:function(e,t,r,n){var o=this.compare,i=this.array,l=this.tmp,c=0;for(c=0;c<n;c++)l[c]=i[r+c];var u=e+t-1,f=n-1,p=r+n-1,d=0,h=0;if(i[p--]=i[u--],0!=--t)if(1!==n){for(var m=this.minGallop;;){var g=0,$=0,v=!1;do{if(o(l[f],i[u])<0){if(i[p--]=i[u--],g++,$=0,0==--t){v=!0;break}}else if(i[p--]=l[f--],$++,g=0,1==--n){v=!0;break}}while((g|$)<m);if(v)break;do{if(0!=(g=t-s(l[f],i,e,t,t-1,o))){for(t-=g,h=1+(p-=g),d=1+(u-=g),c=g-1;c>=0;c--)i[h+c]=i[d+c];if(0===t){v=!0;break}}if(i[p--]=l[f--],1==--n){v=!0;break}if(0!=($=n-a(i[u],l,0,n,n-1,o))){for(n-=$,h=1+(p-=$),d=1+(f-=$),c=0;c<$;c++)i[h+c]=l[d+c];if(n<=1){v=!0;break}}if(i[p--]=i[u--],0==--t){v=!0;break}m--}while(g>=7||$>=7);if(v)break;m<0&&(m=0),m+=2}if(this.minGallop=m,m<1&&(this.minGallop=1),1===n){for(h=1+(p-=t),d=1+(u-=t),c=t-1;c>=0;c--)i[h+c]=i[d+c];i[p]=l[f]}else{if(0==n)throw new _("mergeHigh preconditions were not respected");for(d=p-(n-1),c=0;c<n;c++)i[d+c]=l[c]}}else{h=1+(p-=t),d=1+(u-=t);for(c=t-1;c>=0;c--)i[h+c]=i[d+c];i[p]=l[f]}else{d=p-(n-1);for(c=0;c<n;c++)i[d+c]=l[c]}}};return r.length<512&&(r.tmpStorageLength=r.length>>>1),r.tmp=new Array(r.tmpStorageLength),r.stackLength=r.length<120?5:r.length<1542?10:r.length<119151?19:40,r.runStart=new Array(r.stackLength),r.runLength=new Array(r.stackLength),r};e.$TimSort=function(e,t){try{!function(e,t,r,a){if(!Array.isArray(e))throw _b_.TypeError.$factory("Can only sort arrays");t?"function"!=typeof t&&(a=r,r=t,t=n):t=n,r||(r=0),a||(a=e.length);var s=a-r;if(!(s<2)){var l=0;if(s<32)i(e,r,a,r+(l=o(e,r,a,t)),t);else{var _=new c(e,t),u=function(e){for(var t=0;e>=32;)t|=1&e,e>>=1;return e+t}(s);do{if((l=o(e,r,a,t))<u){var f=s;f>u&&(f=u),i(e,r,r+f,r+l,t),l=f}_.pushRun(r,l),_.mergeRuns(),s-=l,r+=l}while(0!==s);_.forceMergeRuns()}}}(e,t,0,e.length)}catch(r){if(r.name!=l)throw r;e.sort(t)}},e.$AlphabeticalCompare=n}(__BRYTHON__),function($B){var _b_=$B.builtins;_b_.__debug__=!1,$B.$comps={">":"gt",">=":"ge","<":"lt","<=":"le"},$B.$inv_comps={">":"lt",">=":"le","<":"gt","<=":"ge"};var check_nb_args=$B.check_nb_args=function(e,t,r){var n=r.length,o=r[n-1];if(o&&"kw"==o.$nat){var i=o.kw;Array.isArray(i)&&i[1]&&i[1].__class__===_b_.dict&&0==Object.keys(i[1].$string_dict).length&&n--}if(n!=t)throw 0==t?_b_.TypeError.$factory(e+"() takes no argument ("+n+" given)"):_b_.TypeError.$factory(e+"() takes exactly "+t+" argument"+(t<2?"":"s")+" ("+n+" given)")},check_no_kw=$B.check_no_kw=function(e,t,r){if(void 0===t&&console.log("x undef",e,t,r),t.$nat&&t.kw&&t.kw[0]&&t.kw[0].length>0||void 0!==r&&r.$nat)throw _b_.TypeError.$factory(e+"() takes no keyword arguments")},NoneType={$factory:function(){return None},$infos:{__name__:"NoneType",__module__:"builtins"},__bool__:function(e){return False},__class__:_b_.type,__hash__:function(e){return 0},__mro__:[_b_.object],__repr__:function(e){return"None"},__str__:function(e){return"None"},$is_class:!0,__setattr__:function(e,t){return no_set_attr(NoneType,t)}},None={__class__:NoneType};for(var $op in $B.$comps){var key=$B.$comps[$op];switch(key){case"ge":case"gt":case"le":case"lt":NoneType["__"+key+"__"]=function(e){return _b_.NotImplemented}}}for(var $func in None)"function"==typeof None[$func]&&(None[$func].__str__=function(e){return function(){return"<method-wrapper "+e+" of NoneType object>"}}($func));function __build_class__(){throw _b_.NotImplementedError.$factory("__build_class__")}function abs(e){if(check_nb_args("abs",1,arguments),check_no_kw("abs",e),isinstance(e,_b_.int))return e.__class__===$B.long_int?{__class__:$B.long_int,value:e.value,pos:!0}:_b_.int.$factory(Math.abs(e));if(isinstance(e,_b_.float))return _b_.float.$factory(Math.abs(_b_.float.numerator(e)));var t=e.__class__||$B.get_class(e);try{var r=$B.$getattr(t,"__abs__")}catch(t){if(t.__class__===_b_.AttributeError)throw _b_.TypeError.$factory("Bad operand type for abs(): '"+$B.class_name(e)+"'");throw t}return $B.$call(r)(e)}function aiter(e){return $B.$call($B.$getattr(e,"__aiter__"))()}function all(e){check_nb_args("all",1,arguments),check_no_kw("all",e);for(var t=iter(e);;)try{var r=next(t);if(!$B.$bool(r))return!1}catch(e){return!0}}function anext(e,t){var r={},n=($B.args("anext",2,{async_iterator:null,_default:null},["async_iterator","_default"],arguments,{_default:r},null,null),$B.$call($B.$getattr(e,"__anext__"))());return n}function any(e){check_nb_args("any",1,arguments),check_no_kw("any",e);for(var t=iter(e);;)try{var r=next(t);if($B.$bool(r))return!0}catch(e){return!1}}function ascii(e){check_nb_args("ascii",1,arguments),check_no_kw("ascii",e);for(var t,r=repr(e),n="",o=0;o<r.length;o++)if((t=r.charCodeAt(o))<128)n+=r.charAt(o);else if(t<256)n+="\\x"+t.toString(16);else{var i=t.toString(16);i.length%2==1&&(i="0"+i),n+="\\u"+i}return n}function $builtin_base_convert_helper(e,t){var r="";switch(t){case 2:r="0b";break;case 8:r="0o";break;case 16:r="0x";break;default:console.log("invalid base:"+t)}if(e.__class__===$B.long_int){var n=r+$B.long_int.to_base(e,t);return e.pos||(n="-"+n),n}var o=$B.$GetInt(e);if(void 0===o)throw _b_.TypeError.$factory("Error, argument must be an integer or contains an __index__ function");return o>=0?r+o.toString(t):"-"+r+(-o).toString(t)}function bin_hex_oct(e,t){if(isinstance(t,_b_.int))return $builtin_base_convert_helper(t,e);try{var r=t.__class__||$B.get_class(t),n=$B.$getattr(r,"__index__")}catch(e){if(e.__class__===_b_.AttributeError)throw _b_.TypeError.$factory("'"+$B.class_name(t)+"' object cannot be interpreted as an integer");throw e}return $builtin_base_convert_helper($B.$call(n)(t),e)}function bin(e){return check_nb_args("bin",1,arguments),check_no_kw("bin",e),bin_hex_oct(2,e)}function breakpoint(){$B.$import("sys",[]);var e={},t=$B.$getattr($B.imported.sys,"breakpointhook",e);if(t===e)throw _b_.RuntimeError.$factory("lost sys.breakpointhook");return $B.$call(t).apply(null,arguments)}function callable(e){return check_nb_args("callable",1,arguments),check_no_kw("callable",e),hasattr(e,"__call__")}function chr(e){if(check_nb_args("chr",1,arguments),check_no_kw("chr",e),(e=$B.PyNumber_Index(e))<0||e>1114111)throw _b_.ValueError.$factory("Outside valid range");if(e>=65536&&e<=1114111){var t=e-65536;return String.fromCodePoint(55296|t>>10)+String.fromCodePoint(56320|1023&t)}return String.fromCodePoint(e)}$B.set_func_names(NoneType,"builtins");var classmethod=$B.make_class("classmethod",(function(e){check_nb_args("classmethod",1,arguments),check_no_kw("classmethod",e);var t=function(){return e.apply(null,arguments)};if(t.__class__=$B.method,e.$attrs)for(var r in e.$attrs)t[r]=e.$attrs[r];return t.$infos={__func__:e,__name__:e.$infos.__name__},t.__get__=function(r,n){var o=function(){return t(n,...arguments)};return o.__class__=$B.method,o.$infos={__self__:n,__func__:t,__name__:e.$infos.__name__,__qualname__:n.$infos.__name__+"."+e.$infos.__name__},o},t.__get__.__class__=$B.method_wrapper,t.__get__.$infos=e.$infos,t}));$B.set_func_names(classmethod,"builtins");var code=$B.code=$B.make_class("code");function compile(){var e=$B.args("compile",6,{source:null,filename:null,mode:null,flags:null,dont_inherit:null,optimize:null,_feature_version:null},["source","filename","mode","flags","dont_inherit","optimize","_feature_version"],arguments,{flags:0,dont_inherit:!1,optimize:-1,_feature_version:0},null,null),t="$exec_"+$B.UUID();e.__class__=code,e.co_flags=e.flags,e.name="<module>";var r="single"==e.mode&&512&e.flags;if(r&&!e.source.endsWith("\n")){var n=e.source.split("\n");if($B.last(n).startsWith(" "))throw _b_.SyntaxError.$factory("unexpected EOF while parsing")}var o=$B.parser.$create_root_node({src:e.source,filename:e.filename},t,t);if(o.parent_block=$B.builtins_scope,$B.parser.dispatch_tokens(o,e.source),e.flags==$B.PyCF_ONLY_AST){var i=o.ast(),a=i.constructor.$name;return $B.create_python_ast_classes(),$B.python_ast_classes[a].$factory(i)}return e}code.__repr__=code.__str__=function(e){return"<code object "+e.co_name+", file "+e.co_filename+">"},code.__getattribute__=function(e,t){return e[t]},$B.set_func_names(code,"builtins");var __debug__=$B.debug>0;function delattr(e,t){if(check_no_kw("delattr",e,t),check_nb_args("delattr",2,arguments),"string"!=typeof t)throw _b_.TypeError.$factory("attribute name must be string, not '"+$B.class_name(t)+"'");return $B.$getattr(e,"__delattr__")(t)}function dir(e){if(void 0===e){var t=$B.last($B.frames_stack);for(var r in locals_obj=t[1],o=_b_.list.$factory(),i=0,locals_obj)"$"==r.charAt(0)&&"$"!=r.charAt(1)||(o[i++]=r);return _b_.list.sort(o),o}if(check_nb_args("dir",1,arguments),check_no_kw("dir",e),e.__class__||$B.get_class(e),e.$is_class){var n=$B.$getattr(e.__class__,"__dir__");return $B.$call(n)(e)}try{var o=$B.$call($B.$getattr(e,"__dir__"))();return _b_.list.$factory(o)}catch(e){}o=[];var i=0;for(var r in e)"$"!==r.charAt(0)&&"__class__"!==r&&void 0!==e[r]&&(o[i++]=r);return o.sort(),o}function divmod(e,t){check_no_kw("divmod",e,t),check_nb_args("divmod",2,arguments);var r=e.__class__||$B.get_class(e),n=$B.$getattr(r,"__divmod__",_b_.None);return n!==_b_.None?n(e,t):_b_.tuple.$factory([$B.$getattr(r,"__floordiv__")(e,t),$B.$getattr(r,"__mod__")(e,t)])}$B.$delete=function(e,t){function r(e){e.__class__===$B.generator&&e.js_gen.return()}var n=!1,o=$B.last($B.frames_stack);if(t?o[2]!=o[0]&&void 0!==o[3][e]&&(n=!0,r(o[3][e]),delete o[3][e]):void 0!==o[1][e]&&(n=!0,r(o[1][e]),delete o[1][e]),!n)throw $B.name_error(e)};var enumerate=$B.make_class("enumerate",(function(){var e=$B.args("enumerate",2,{iterable:null,start:null},["iterable","start"],arguments,{start:0},null,null),t=iter(e.iterable),r=e.start;return{__class__:enumerate,__name__:"enumerate iterator",counter:r-1,iter:t,start:r}}));function $$eval(src,_globals,_locals){var $=$B.args("eval",4,{src:null,globals:null,locals:null,mode:null},["src","globals","locals","mode"],arguments,{globals:_b_.None,locals:_b_.None,mode:"eval"},null,null),src=$.src,_globals=$.globals,_locals=$.locals,mode=$.mode;if($.src.mode&&"single"==$.src.mode&&["<console>","<stdin>"].indexOf($.src.filename)>-1&&_b_.print(">",$.src.source.trim()),src.__class__===code)mode=src.mode,src=src.source;else{if(!src.valueOf||"string"!=typeof src.valueOf())throw _b_.TypeError.$factory(`${mode}() arg 1 must be a string, bytes or code object`);src=src.valueOf()}var current_frame=$B.frames_stack[$B.frames_stack.length-1];if(void 0!==current_frame)var current_locals_id=current_frame[0].replace(/\./g,"_"),current_globals_id=current_frame[2].replace(/\./g,"_");var stack_len=$B.frames_stack.length,globals_id="$exec_"+$B.UUID(),globals_name=globals_id,locals_id="$exec_"+$B.UUID(),parent_scope;if(_globals===_b_.None){current_locals_id==current_globals_id&&(locals_id=globals_id);var local_scope={module:globals_id,id:locals_id,binding:{},bindings:{}};for(var attr in current_frame[1])local_scope.binding[attr]=!0,local_scope.bindings[attr]=!0;var global_scope={module:globals_id,id:globals_id,binding:{},bindings:{}};for(var attr in current_frame[3])global_scope.binding[attr]=!0,global_scope.bindings[attr]=!0;local_scope.parent_block=global_scope,global_scope.parent_block=$B.builtins_scope,parent_scope=local_scope,eval("$locals_"+parent_scope.id+" = current_frame[1]")}else{if(_globals.__class__!=_b_.dict)throw _b_.TypeError.$factory("exec() globals must be a dict, not "+$B.class_name(_globals));if(_globals.globals_id&&(globals_id=globals_name=_globals.globals_id),_globals.globals_id=globals_id,_locals===_globals||_locals===_b_.None)locals_id=globals_id,parent_scope=$B.builtins_scope;else{var grandparent_scope={id:globals_id,parent_block:$B.builtins_scope,binding:{}};for(var attr in parent_scope={id:locals_id,parent_block:grandparent_scope,binding:{}},_globals.$string_dict)grandparent_scope.binding[attr]=!0;for(var attr in _locals.$string_dict)parent_scope.binding[attr]=!0}}if(eval("var $locals_"+globals_id+" = {}\nvar $locals_"+locals_id+" = {}"),_globals===_b_.None){var gobj=current_frame[3],ex="var $locals_"+globals_id+" = gobj;",obj={};for(var attr in eval(ex),gobj)attr.startsWith("$")||(obj[attr]=gobj[attr]);eval("$locals_"+globals_id+" = obj")}else{var globals_is_dict=!1;if(_globals.$jsobj)var items=_globals.$jsobj;else{var items=_b_.dict.$to_obj(_globals);_globals.$jsobj=items,globals_is_dict=!0}for(var item in eval("$locals_"+globals_id+" = _globals.$jsobj"),items)try{eval("$locals_"+globals_id+'["'+item+'"] = items.'+item)}catch(e){console.log(e),console.log("error setting",item);break}}if(_globals.$is_namespace=!0,_locals===_b_.None)if(_globals!==_b_.None)eval("var $locals_"+locals_id+" = $locals_"+globals_id);else{var lobj=current_frame[1],ex="",obj={};for(var attr in current_frame[1])attr.startsWith("$")||(obj[attr]=lobj[attr]);eval("$locals_"+locals_id+" = obj")}else{var items;for(var item in _locals.$jsobj?items=_locals.$jsobj:_locals.__class__!==_b_.dict?items=_locals:(items=_b_.dict.$to_obj(_locals),_locals.$jsobj=items),items)try{eval("$locals_"+locals_id+'["'+item+'"] = items.'+item)}catch(e){console.log(e),console.log("error setting",item);break}eval("$locals_"+locals_id+".$exec_locals = true"),eval("$locals_"+locals_id+".$is_not_dict = "+(_locals.__class__!==_b_.dict))}_locals.$is_namespace=!0,_globals===_b_.None&&_locals===_b_.None&&current_frame[0]==current_frame[2]||eval("$locals_"+locals_id+".$src = src");var root=$B.py2js(src,globals_id,locals_id,parent_scope),js,gns,lns;if(_globals!==_b_.None&&(_locals===_b_.None||_locals===_globals))for(var attr in _globals.$string_dict)root.binding[attr]=!0;function update_namespaces(){var gns=eval("$locals_"+globals_id);if($B.frames_stack[$B.frames_stack.length-1][2]==globals_id&&(gns=$B.frames_stack[$B.frames_stack.length-1][3]),_locals!==_b_.None)var lns=eval("$locals_"+locals_id);if(_globals!==_b_.None){if(globals_is_dict){var jsobj=_globals.$jsobj;delete _globals.$jsobj}for(var attr in gns)"$"!=attr.charAt(0)&&(globals_is_dict?_b_.dict.$setitem(_globals,attr,gns[attr]):_globals.$jsobj[attr]=gns[attr]);for(var attr in _globals.$string_dict)attr.startsWith("$")&&delete _globals.$string_dict[attr]}else for(var attr in gns)"$src"!==attr&&(current_frame[3][attr]=gns[attr]);if(_locals!==_b_.None)for(var attr in lns)"$"!=attr.charAt(0)&&(_locals.$jsobj?_locals.$jsobj[attr]=lns[attr]:_locals.__class__!==_b_.dict?$B.$setitem(_locals,attr,lns[attr]):_b_.dict.$setitem(_locals,attr,lns[attr]));else for(var attr in lns)"$src"!==attr&&(current_frame[1][attr]=lns[attr])}try{var try_node=root.children[root.children.length-2],instr=try_node.children[try_node.children.length-2],type=instr.C.tree[0].type;switch(type){case"expr":case"list_or_tuple":case"op":case"ternary":case"unary":var children=try_node.children;root.children.splice(root.children.length-2,2);for(var i=0;i<children.length-1;i++)root.add(children[i]);break;default:if("eval"==mode)throw _b_.SyntaxError.$factory("eval() argument must be an expression","<string>",1,1,src)}if("eval"!=mode){var last=$B.last(root.children),js=last.to_js();-1==["node_js"].indexOf(last.C.type)&&(last.to_js=function(){for(;js.endsWith("\n");)js=js.substr(0,js.length-1);for(;js.endsWith(";");)js=js.substr(0,js.length-1);return"return ("+js+")"}),js=root.to_js();var locals_obj=eval("$locals_"+locals_id),globals_obj=eval("$locals_"+globals_id);if(_globals===_b_.None)var res=new Function("$locals_"+globals_id,"$locals_"+locals_id,js)(globals_obj,locals_obj);else{current_globals_obj=current_frame[3],current_locals_obj=current_frame[1];var res=new Function("$locals_"+globals_id,"$locals_"+locals_id,"$locals_"+current_globals_id,"$locals_"+current_locals_id,js)(globals_obj,locals_obj,current_globals_obj,current_locals_obj)}$.src.mode&&"single"==$.src.mode&&"<stdin>"==$.src.filename&&res!==_b_.None&&void 0!==res&&_b_.print(_b_.repr(res))}else{js=root.to_js();var res=eval(js)}return"<console>"==$.src.filename&&"single"==$.src.mode&&void 0!==res&&res!==_b_.None&&_b_.print(res),update_namespaces(),void 0===res?_b_.None:res}catch(e){if(update_namespaces(),e.src=src,e.module=globals_id,void 0===e.$py_error){console.log("Javascript error",Object.getPrototypeOf(e).name,e.message);var lineNumber=e.lineNumber;if(void 0!==lineNumber){console.log("around JS line",lineNumber),console.log(js.split("\n").slice(lineNumber-5,lineNumber+5).join("\n"));var lines_before=js.split("\n").slice(0,lineNumber),re=new RegExp('line_info = "(.*?)"',"g"),matches=new String(lines_before).matchAll(re),line_info;for(var match of matches)line_info=match[1];line_info&&console.log("around source line",line_info.split(",")[0])}throw $B.exception(e)}throw globals_is_dict&&delete _globals.$jsobj,e}finally{$B.frames_stack.length==stack_len+1&&$B.frames_stack.pop(),root=null,js=null,gns=null,lns=null,$B.clear_ns(globals_id),$B.clear_ns(locals_id)}}function exec(e,t,r){var n=$B.args("exec",3,{src:null,globals:null,locals:null},["src","globals","locals"],arguments,{globals:_b_.None,locals:_b_.None},null,null);return $$eval(e=n.src,t=n.globals,r=n.locals,"exec")||_b_.None}function exit(){throw _b_.SystemExit}enumerate.__iter__=function(e){return e.counter=e.start-1,e},enumerate.__next__=function(e){return e.counter++,$B.fast_tuple([e.counter,next(e.iter)])},$B.set_func_names(enumerate,"builtins"),$$eval.$is_func=!0,exec.$is_func=!0,exit.__repr__=exit.__str__=function(){return"Use exit() or Ctrl-Z plus Return to exit"};var filter=$B.make_class("filter",(function(e,t){return check_no_kw("filter",e,t),check_nb_args("filter",2,arguments),t=iter(t),e===_b_.None&&(e=$B.$bool),{__class__:filter,func:e,iterable:t}}));function format(e,t){var r=$B.args("format",2,{value:null,format_spec:null},["value","format_spec"],arguments,{format_spec:""},null,null),n=e.__class__||$B.get_class(e);try{var o=$B.$getattr(n,"__format__")}catch(t){if(t.__class__===_b_.AttributeError)throw _b_.NotImplementedError("__format__ is not implemented for object '"+_b_.str.$factory(e)+"'");throw t}return $B.$call(o)(e,r.format_spec)}function attr_error(e,t){var r=$B.get_class(t),n="bad operand type for unary #: '"+r+"'";switch(e){case"__neg__":throw _b_.TypeError.$factory(n.replace("#","-"));case"__pos__":throw _b_.TypeError.$factory(n.replace("#","+"));case"__invert__":throw _b_.TypeError.$factory(n.replace("#","~"));case"__call__":throw _b_.TypeError.$factory("'"+r+"' object is not callable");default:throw $B.attr_error(e,t)}}function getattr(){var e={},t=$B.args("getattr",3,{obj:null,attr:null,_default:null},["obj","attr","_default"],arguments,{_default:e},null,null);return $B.$getattr(t.obj,t.attr,t._default===e?void 0:t._default)}function in_mro(e,t){if(void 0===e)return!1;if(e.hasOwnProperty(t))return e[t];for(var r=e.__mro__,n=0,o=r.length;n<o;n++)if(r[n].hasOwnProperty(t))return r[n][t];return!1}function globals(){check_nb_args("globals",0,arguments);var e=$B.obj_dict($B.last($B.frames_stack)[3]);return e.$jsobj.__BRYTHON__=$B.JSObj.$factory($B),e.$is_namespace=!0,e}function hasattr(e,t){check_no_kw("hasattr",e,t),check_nb_args("hasattr",2,arguments);try{return $B.$getattr(e,t),!0}catch(e){return!1}}filter.__iter__=function(e){return e},filter.__next__=function(e){for(;;){var t=next(e.iterable);if(e.func(t))return t}},$B.set_func_names(filter,"builtins"),$B.$getattr=function(e,t,r){if(e.$method_cache&&e.$method_cache[t]&&e.__class__&&e.__class__[t]==e.$method_cache[t][1])return e.$method_cache[t][0];var n=t;void 0===e&&console.log("get attr",t,"of undefined");var o,i=e.$is_class||e.$factory,a=e.__class__;if(void 0!==a&&!a.$native&&a.__bases__&&void 0===a.__getattribute__&&(0==a.__bases__.length||1==a.__bases__.length&&a.__bases__[0]===_b_.object)){if(void 0!==e[t])return e[t];if(e.__dict__&&e.__dict__.$string_dict.hasOwnProperty(t)&&(!a.hasOwnProperty(t)||!a[t].__get__))return e.__dict__.$string_dict[t][0];if(a.hasOwnProperty(t)&&"function"!=typeof a[t]&&"__dict__"!=t&&void 0===a[t].__get__&&!in_mro(a[t].__class__,"__get__"))return a[t]}if(void 0===a)if("string"==typeof e)a=_b_.str;else if("number"==typeof e)a=e%1==0?_b_.int:_b_.float;else if(e instanceof Number)a=_b_.float;else if(void 0===(a=$B.get_class(e))){if(void 0!==(b=e[t])){if("function"==typeof b){var s=function(){return b.apply(e,arguments)};return s.$infos={__name__:t,__qualname__:t},s}return $B.$JS2Py(b)}if(void 0!==r)return r;throw $B.attr_error(n,e)}switch(t){case"__call__":if("function"==typeof e)return(b=function(){return e.apply(null,arguments)}).__class__=method_wrapper,b.$infos={__name__:"__call__"},b;break;case"__class__":return a;case"__dict__":if(i){var l={};for(var _ in e)_.startsWith("$")||(l[_]=e[_]);return l.__dict__=$B.getset_descriptor.$factory(e,"__dict__"),$B.mappingproxy.$factory(l)}if(!a.$native){if(void 0!==e[t])return e[t];if(e.$infos){if(e.$infos.hasOwnProperty("__dict__"))return e.$infos.__dict__;if(e.$infos.hasOwnProperty("__func__"))return e.$infos.__func__.$infos.__dict__}return $B.obj_dict(e,(function(e){return["__class__"].indexOf(e)>-1}))}case"__doc__":for(var c=0;c<builtin_names.length;c++)if(e===_b_[builtin_names[c]])return _get_builtins_doc(),$B.builtins_doc[builtin_names[c]];break;case"__mro__":if(e.$is_class)return _b_.tuple.$factory([e].concat(e.__mro__));if(e.__dict__&&void 0!==e.__dict__.$string_dict.__mro__)return e.__dict__.$string_dict.__mro__;throw $B.attr_error(t,e);case"__subclasses__":if(a.$factory||a.$is_class){var u=e.$subclasses||[];return function(){return u}}}if("function"==typeof e){var f=e[t];if(void 0!==f&&"__module__"==t)return f}if(!i&&a.$native){if(e.$method_cache&&e.$method_cache[t])return e.$method_cache[t];if("__doc__"==t&&void 0===a[t]&&a.$infos&&(_get_builtins_doc(),a[t]=$B.builtins_doc[a.$infos.__name__]),void 0===a[t]){var p=_b_.object[t];if(void 0===p){var d=e.__dict__;if(d&&void 0!==(p=d.$string_dict[t]))return p[0];if(void 0===r)throw $B.attr_error(t,e);return r}a[t]=p}if(a.$descriptors&&void 0!==a.$descriptors[t])return a[t](e);if("function"==typeof a[t]){var h=a[t];if("__new__"==t&&(h.$type="staticmethod"),"staticmethod"==h.$type)return h;var m=a[t].__class__==$B.method?a:e,g=a[t].bind(null,m);return g.__class__=$B.method,g.$infos={__func__:h,__name__:t,__self__:m,__qualname__:a.$infos.__name__+"."+t},"object"==typeof e&&(e.__class__=a,e.$method_cache=e.$method_cache||{},e.$method_cache[t]=g),g}if(void 0!==a[t])return a[t];attr_error(n,a)}if(i)o=_b_.type.__getattribute__;else if(void 0===(o=a.__getattribute__)){var $;void 0===($=a.__mro__)&&console.log(e,t,"no mro, klass",a),c=0;for(var v=$.length;c<v&&void 0===(o=$[c].__getattribute__);c++);}if("function"!=typeof o&&console.log(t+" is not a function "+o,a),o===_b_.object.__getattribute__){var b=e[t];if(Array.isArray(e)&&void 0!==Array.prototype[t])b=void 0;else{if(null===b)return null;if(void 0===b&&void 0!==e[t]){if(void 0===r)throw $B.attr_error(t,e);return r}if(void 0!==b){if(b.$is_property)return property.__get__(b);if(void 0===b.__set__||b.$is_class)return b}}}try{b=o(e,t)}catch(e){if(void 0!==r)return r;throw e}return void 0!==b?b:void 0!==r?r:(a.$infos.__name__,i&&e.$infos.__name__,void attr_error(n,i?e:a))};var hash_cache={};function hash(e){if(check_no_kw("hash",e),check_nb_args("hash",1,arguments),void 0!==e.__hashvalue__)return e.__hashvalue__;if(isinstance(e,_b_.bool))return _b_.int.$factory(e);if(e.$is_class||e.__class__===_b_.type||e.__class__===$B.Function)return e.__hashvalue__=$B.$py_next_hash--;if("string"==typeof e){var t=hash_cache[e];return void 0!==t?t:hash_cache[e]=_b_.str.__hash__(e)}var r=e.__class__||$B.get_class(e);if(void 0===r)throw _b_.TypeError.$factory("unhashable type: '"+_b_.str.$factory($B.JSObj.$factory(e))+"'");var n=$B.$getattr(r,"__hash__",_b_.None);if(n===_b_.None)throw _b_.TypeError.$factory("unhashable type: '"+$B.class_name(e)+"'");if(n.$infos.__func__===_b_.object.__hash__){if($B.$getattr(e,"__eq__").$infos.__func__!==_b_.object.__eq__)throw _b_.TypeError.$factory("unhashable type: '"+$B.class_name(e)+"'","hash");return e.__hashvalue__=_b_.object.__hash__(e)}return $B.$call(n)(e)}function _get_builtins_doc(){if(void 0===$B.builtins_doc){var url=$B.brython_path;"/"==url.charAt(url.length-1)&&(url=url.substr(0,url.length-1)),url+="/builtins_docstrings.js";var f=_b_.open(url);eval(f.$content),$B.builtins_doc=docs}}function help(e){if(void 0===e&&(e="help"),"string"==typeof e&&void 0!==_b_[e]){_get_builtins_doc();var t=$B.builtins_doc[e];if(void 0!==t&&""!=t)return void _b_.print(t)}for(var r=0;r<builtin_names.length;r++)e===_b_[builtin_names[r]]&&(_get_builtins_doc(),_b_.print(t=$B.builtins_doc[builtin_names[r]]));if("string"!=typeof e)try{return $B.$getattr(e,"__doc__")}catch(e){return""}else{$B.$import("pydoc");var n=$B.imported.pydoc;$B.$getattr($B.$getattr(n,"help"),"__call__")(e)}}function hex(e){return check_no_kw("hex",e),check_nb_args("hex",1,arguments),bin_hex_oct(16,e)}function id(e){return check_no_kw("id",e),check_nb_args("id",1,arguments),isinstance(e,[_b_.str,_b_.int,_b_.float])&&!isinstance(e,$B.long_int)?$B.$getattr(_b_.str.$factory(e),"__hash__")():void 0!==e.$id?e.$id:e.$id=$B.UUID()}function __import__(e,t,r,n,o){var i=$B.args("__import__",5,{name:null,globals:null,locals:null,fromlist:null,level:null},["name","globals","locals","fromlist","level"],arguments,{globals:None,locals:None,fromlist:_b_.tuple.$factory(),level:0},null,null);return $B.$__import__(i.name,i.globals,i.locals,i.fromlist)}function input(e){var t=prompt(e||"")||"";if($B.imported.sys&&$B.imported.sys.ps1){var r=$B.imported.sys.ps1,n=$B.imported.sys.ps2;e!=r&&e!=n||console.log(e,t)}return t}function isinstance(e,t){if(check_no_kw("isinstance",e,t),check_nb_args("isinstance",2,arguments),null===e)return t===None;if(void 0===e)return!1;if(Array.isArray(t)){for(var r of t)if(isinstance(e,r))return!0;return!1}if(t.__class__===$B.GenericAlias)throw _b_.TypeError.$factory("isinstance() arg 2 cannot be a parameterized generic");if(!t.__class__||void 0===t.$factory&&void 0===t.$is_class)throw _b_.TypeError.$factory("isinstance() arg 2 must be a type or tuple of types");if(t===_b_.int&&(e===True||e===False))return True;if(t===_b_.bool)switch(typeof e){case"string":case"number":return!1;case"boolean":return!0}var n=e.__class__;if(null==n){if("string"==typeof e){if(t==_b_.str)return!0;if($B.builtin_classes.indexOf(t)>-1)return!1}else if(e.contructor===Number&&Number.isFinite(e)){if(t==_b_.float)return!0}else if("number"==typeof e&&Number.isFinite(e)&&Number.isFinite(e)&&t==_b_.int)return!0;n=$B.get_class(e)}if(void 0===n)return!1;function o(e,t){return e===t||t===_b_.str&&e===$B.StringSubclass||t===_b_.int&&e===$B.IntSubclass||void 0}if(o(n,t))return!0;for(var i=n.__mro__,a=0;a<i.length;a++)if(o(i[a],t))return!0;var s=$B.$getattr(t.__class__||$B.get_class(t),"__instancecheck__",_b_.None);return s!==_b_.None&&s(t,e)}function issubclass(e,t){if(check_no_kw("issubclass",e,t),check_nb_args("issubclass",2,arguments),!e.__class__||void 0===e.$factory&&void 0===e.$is_class)throw _b_.TypeError.$factory("issubclass() arg 1 must be a class");if(isinstance(t,_b_.tuple)){for(var r=0;r<t.length;r++)if(issubclass(e,t[r]))return!0;return!1}if(t.__class__===$B.GenericAlias)throw _b_.TypeError.$factory("issubclass() arg 2 cannot be a parameterized generic");if((t.$factory||t.$is_class)&&(e===t||e.__mro__.indexOf(t)>-1))return!0;var n=$B.$getattr(t.__class__||$B.get_class(t),"__subclasscheck__",_b_.None);return n!=_b_.None&&n(t,e)}help.__repr__=help.__str__=function(){return"Type help() for interactive help, or help(object) for help about object."};var iterator_class=$B.make_class("iterator",(function(e,t){return{__class__:iterator_class,getitem:e,len:t,counter:-1}}));function iter(){var e=$B.args("iter",1,{obj:null},["obj"],arguments,{},"args","kw");if(e.args.length>0)var t=e.args[0];return $B.$iter(e.obj,t)}function len(e){check_no_kw("len",e),check_nb_args("len",1,arguments);var t=e.__class__||$B.get_class(e);try{var r=$B.$getattr(t,"__len__")}catch(t){throw _b_.TypeError.$factory("object of type '"+$B.class_name(e)+"' has no len()")}return $B.$call(r)(e)}function locals(){check_nb_args("locals",0,arguments);var e=$B.obj_dict($B.clone($B.last($B.frames_stack)[1]));return e.$is_namespace=!0,delete e.$jsobj.__annotations__,e}iterator_class.__next__=function(e){if(e.counter++,null!==e.len&&e.counter==e.len)throw _b_.StopIteration.$factory("");try{return e.getitem(e.counter)}catch(e){throw _b_.StopIteration.$factory("")}},$B.set_func_names(iterator_class,"builtins"),callable_iterator=$B.make_class("callable_iterator",(function(e,t){return{__class__:callable_iterator,func:e,sentinel:t}})),callable_iterator.__iter__=function(e){return e},callable_iterator.__next__=function(e){var t=e.func();if($B.rich_comp("__eq__",t,e.sentinel))throw _b_.StopIteration.$factory();return t},$B.set_func_names(callable_iterator,"builtins"),$B.$iter=function(e,t){if(void 0===t){var r=e.__class__||$B.get_class(e);try{var n=$B.$call($B.$getattr(r,"__iter__"))}catch(t){if(t.__class__===_b_.AttributeError)try{var o=$B.$call($B.$getattr(r,"__getitem__"));return len(e),iterator_class.$factory((function(t){return o(e,t)}),len)}catch(t){throw _b_.TypeError.$factory("'"+$B.class_name(e)+"' object is not iterable")}throw t}var i=$B.$call(n)(e);try{$B.$getattr(i,"__next__")}catch(e){if(isinstance(e,_b_.AttributeError))throw _b_.TypeError.$factory("iter() returned non-iterator of type '"+$B.class_name(i)+"'")}return i}return callable_iterator.$factory(e,t)};var map=$B.make_class("map",(function(){var e=$B.args("map",2,{func:null,it1:null},["func","it1"],arguments,{},"args",null),t=$B.$call(e.func),r=[$B.$iter(e.it1)];e.args.forEach((function(e){r.push($B.$iter(e))}));var n={__class__:map,args:r,func:t};return n}));function $extreme(e,t){var r="min";"__gt__"===t&&(r="max");var n=$B.args(r,0,{},[],e,{},"args","kw"),o=!1,i=!1;for(var a in n.kw.$string_dict)switch(a){case"key":i=n.kw.$string_dict[a][0];break;case"default":var s=n.kw.$string_dict[a][0];o=!0;break;default:throw _b_.TypeError.$factory("'"+a+"' is an invalid keyword argument for this function")}if(i&&i!==_b_.None||(i=e=>e),0==n.args.length)throw _b_.TypeError.$factory(r+" expected 1 arguments, got 0");if(1!=n.args.length){if(o)throw _b_.TypeError.$factory("Cannot specify a default for "+r+"() with multiple positional arguments");if($B.last(e).$nat)var l=[n.args].concat($B.last(e));else l=[n.args];return $extreme.call(null,l,t)}for(var _,c,u=iter(n.args[0]),f=null;;)try{var p=next(u);null===f?(c=i(p),f=p):(_=i(p),$B.rich_comp(t,_,c)&&(f=p,c=_))}catch(e){if(e.__class__==_b_.StopIteration){if(null===f){if(o)return s;throw _b_.ValueError.$factory(r+"() arg is an empty sequence")}return f}throw e}}function max(){return $extreme(arguments,"__gt__")}map.__iter__=function(e){return e},map.__next__=function(e){for(var t=[],r=0;r<e.args.length;r++)t.push(next(e.args[r]));return e.func.apply(null,t)},$B.set_func_names(map,"builtins");var memoryview=$B.make_class("memoryview",(function(e){if(check_no_kw("memoryview",e),check_nb_args("memoryview",1,arguments),e.__class__===memoryview)return e;if($B.get_class(e).$buffer_protocol)return{__class__:memoryview,obj:e,format:"B",itemsize:1,ndim:1,shape:_b_.tuple.$factory([_b_.len(e)]),strides:_b_.tuple.$factory([1]),suboffsets:_b_.tuple.$factory([]),c_contiguous:!0,f_contiguous:!0,contiguous:!0};throw _b_.TypeError.$factory("memoryview: a bytes-like object is required, not '"+$B.class_name(e)+"'")}));function min(){return $extreme(arguments,"__lt__")}function next(e){check_no_kw("next",e);var t={},r=$B.args("next",2,{obj:null,def:null},["obj","def"],arguments,{def:t},null,null),n=e.__class__||$B.get_class(e),o=$B.$call($B.$getattr(n,"__next__"));if(void 0!==o)try{return $B.$call(o)(e)}catch(e){if(e.__class__===_b_.StopIteration&&r.def!==t)return r.def;throw e}throw _b_.TypeError.$factory("'"+$B.class_name(e)+"' object is not an iterator")}memoryview.$match_sequence_pattern=!0,memoryview.__eq__=function(e,t){return t.__class__===memoryview&&$B.$getattr(e.obj,"__eq__")(t.obj)},memoryview.__getitem__=function(e,t){if(isinstance(t,_b_.int)){var r=t*e.itemsize;if("I"==e.format){for(var n=e.obj.source[r],o=256,i=1;i<4;i++)n+=e.obj.source[r+i]*o,o*=256;return n}if("B".indexOf(e.format)>-1){if(t>e.obj.source.length-1)throw _b_.KeyError.$factory(t);return e.obj.source[t]}return e.obj.source[t]}if(n=e.obj.__class__.__getitem__(e.obj,t),t.__class__===_b_.slice)return memoryview.$factory(n)},memoryview.__len__=function(e){return len(e.obj)/e.itemsize},memoryview.__setitem__=function(e,t,r){try{$B.$setitem(e.obj,t,r)}catch(e){throw _b_.TypeError.$factory("cannot modify read-only memory")}},memoryview.cast=function(e,t){switch(t){case"B":return memoryview.$factory(e.obj);case"I":var r=memoryview.$factory(e.obj),n=len(e.obj);if(r.itemsize=4,r.format="I",n%4!=0)throw _b_.TypeError.$factory("memoryview: length is not a multiple of itemsize");return r}},memoryview.hex=function(e){var t="";return _b_.bytes.$factory(e).source.forEach((function(e){t+=e.toString(16)})),t},memoryview.tobytes=function(e){return _b_.bytes.$factory(e.obj)},memoryview.tolist=function(e){if(1==e.itemsize)return _b_.list.$factory(_b_.bytes.$factory(e.obj));if(4==e.itemsize&&"I"==e.format){for(var t=[],r=0;r<e.obj.source.length;r+=4){for(var n=e.obj.source[r],o=256,i=1;i<4;i++)n+=o*e.obj.source[r+i],o*=256;t.push(n)}return t}},$B.set_func_names(memoryview,"builtins");var NotImplementedType=$B.make_class("NotImplementedType",(function(){return NotImplemented}));NotImplementedType.__repr__=NotImplementedType.__str__=function(e){return"NotImplemented"},$B.set_func_names(NotImplementedType,"builtins");var NotImplemented={__class__:NotImplementedType};function $not(e){return!$B.$bool(e)}function oct(e){return check_no_kw("oct",e),check_nb_args("oct",1,arguments),bin_hex_oct(8,e)}function ord(e){if(check_no_kw("ord",e),check_nb_args("ord",1,arguments),"string"==typeof e.valueOf()){if(1==e.length)return e.charCodeAt(0);if(55296<=e[0]&&e[0]<=56319||56320<=e[1]&&e[1]<=57343)throw _b_.TypeError.$factory("ord() expected a character, but string of length "+e.length+" found");var t=65536;return(t+=(1023&e.charCodeAt(0))<<10)+(1023&e.charCodeAt(1))}switch($B.get_class(e)){case _b_.str:if(1==e.length)return e.charCodeAt(0);throw _b_.TypeError.$factory("ord() expected a character, but string of length "+e.length+" found");case _b_.bytes:case _b_.bytearray:if(1==e.source.length)return e.source[0];throw _b_.TypeError.$factory("ord() expected a character, but string of length "+e.source.length+" found");default:throw _b_.TypeError.$factory("ord() expected a character, but "+$B.class_name(e)+" was found")}}function pow(){var e=$B.args("pow",3,{x:null,y:null,mod:null},["x","y","mod"],arguments,{mod:None},null,null),t=e.x,r=e.y,n=e.mod,o=t.__class__||$B.get_class(t);if(n===_b_.None)return $B.rich_op("pow",t,r);if(t!=_b_.int.$factory(t)||r!=_b_.int.$factory(r))throw _b_.TypeError.$factory("pow() 3rd argument not allowed unless all arguments are integers");return $B.$call($B.$getattr(o,"__pow__"))(t,r,n)}function $print(){for(var e=$B.args("print",0,{},[],arguments,{},"args","kw"),t=e.kw.$string_dict,r=void 0===t.end||t.end===None?"\n":t.end[0],n=void 0===t.sep||t.sep===None?" ":t.sep[0],o=void 0===t.file?$B.stdout:t.file[0],i=e.args,a=$B.$getattr(o,"write"),s=0,l=i.length;s<l;s++){var _=_b_.str.$factory(i[s]);a(_),s<l-1&&a(n)}a(r);var c=$B.$getattr(o,"flush",None);return c!==None&&$B.$call(c)(),None}$print.__name__="print",$print.is_func=!0;var property=$B.make_class("property",(function(e,t,r,n){var o={__class__:property};return property.__init__(o,e,t,r,n),o}));function quit(){throw _b_.SystemExit}function repr(e){check_no_kw("repr",e),check_nb_args("repr",1,arguments);var t=e.__class__||$B.get_class(e);return $B.$call($B.$getattr(t,"__repr__"))(e)}property.__init__=function(e,t,r,n,o){var i=$B.args("__init__",5,{self:null,fget:null,fset:null,fdel:null,doc:null},["self","fget","fset","fdel","doc"],arguments,{fget:_b_.None,fset:_b_.None,fdel:_b_.None,doc:_b_.None},null,null);if(e=i.self,t=i.fget,r=i.fset,n=i.fdel,o=i.doc,e.__doc__=o||"",e.$type=t.$type,e.fget=t,e.fset=r,e.fdel=n,e.$is_property=!0,t&&t.$attrs)for(var a in t.$attrs)e[a]=t.$attrs[a];e.__delete__=n,e.getter=function(t){return property.$factory(t,e.fset,e.fdel,e.__doc__)},e.setter=function(t){return property.$factory(e.fget,t,e.fdel,e.__doc__)},e.deleter=function(t){return property.$factory(e.fget,e.fset,t,e.__doc__)}},property.__get__=function(e,t){if(void 0===e.fget)throw _b_.AttributeError.$factory("unreadable attribute");return $B.$call(e.fget)(t)},property.__repr__=function(e){return $B.builtins_repr_check(property,arguments),_b_.repr(e.fget(e))},property.__set__=function(e,t,r){if(void 0===e.fset)throw _b_.AttributeError.$factory("can't set attribute");$B.$getattr(e.fset,"__call__")(t,r)},$B.set_func_names(property,"builtins"),quit.__repr__=quit.__str__=function(){return"Use quit() or Ctrl-Z plus Return to exit"};var reversed=$B.make_class("reversed",(function(e){check_no_kw("reversed",e),check_nb_args("reversed",1,arguments);var t=e.__class__||$B.get_class(e),r=$B.$getattr(t,"__reversed__",null);if(null!==r)return $B.$call(r)(e);try{var n=$B.$getattr(t,"__getitem__")}catch(e){throw _b_.TypeError.$factory("argument to reversed() must be a sequence")}var o={__class__:reversed,$counter:_b_.len(e),getter:function(t){return $B.$call(n)(e,t)}};return o}));function round(){var e=$B.args("round",2,{number:null,ndigits:null},["number","ndigits"],arguments,{ndigits:None},null,null),t=e.number,r=e.ndigits===None?0:e.ndigits;if(!isinstance(t,[_b_.int,_b_.float])){var n=t.__class__||$B.get_class(t);try{return $B.$call($B.$getattr(n,"__round__")).apply(null,arguments)}catch(e){throw e.__class__===_b_.AttributeError?_b_.TypeError.$factory("type "+$B.class_name(t)+" doesn't define __round__ method"):e}}if(isinstance(t,_b_.float)&&(t.value===1/0||t.value===-1/0))throw _b_.OverflowError.$factory("cannot convert float infinity to integer");if(!isinstance(r,_b_.int))throw _b_.TypeError.$factory("'"+$B.class_name(r)+"' object cannot be interpreted as an integer");var o,i=Math.pow(10,r),a=t*i,s=Math.floor(a),l=Math.abs(a-s);return.5==l?(s%2&&(s+=1),o=_b_.int.__truediv__(s,i)):o=_b_.int.__truediv__(Math.round(a),i),e.ndigits===None?o.valueOf():t instanceof Number?new Number(o):o.valueOf()}function setattr(){var e=$B.args("setattr",3,{obj:null,attr:null,value:null},["obj","attr","value"],arguments,{},null,null),t=e.obj,r=e.attr,n=e.value;if("string"!=typeof r)throw _b_.TypeError.$factory("setattr(): attribute name must be string");return $B.$setattr(t,r,n)}function sorted(){for(var e=$B.args("sorted",1,{iterable:null},["iterable"],arguments,{},null,"kw"),t=_b_.list.$factory(iter(e.iterable)),r=[t],n=1;n<arguments.length;n++)r.push(arguments[n]);return _b_.list.sort.apply(null,r),t}reversed.__iter__=function(e){return e},reversed.__next__=function(e){if(e.$counter--,e.$counter<0)throw _b_.StopIteration.$factory("");return e.getter(e.$counter)},$B.set_func_names(reversed,"builtins"),$B.$setattr=function(e,t,r){if("__dict__"==t){if(!isinstance(r,_b_.dict))throw _b_.TypeError.$factory("__dict__ must be set to a dictionary, not a '"+$B.class_name(r)+"'");return e.$infos?(e.$infos.__dict__=r,None):(e.__dict__=r,None)}if("__class__"==t){function n(e){throw _b_.TypeError.$factory(e)}if(r.__class__)if("builtins"==r.__module__)n("__class__ assignement only supported for heap types or ModuleType subclasses");else if(Array.isArray(r.__bases__))for(var o=0;o<r.__bases__.length;o++)r.__bases__[o]!==_b_.object&&"builtins"==r.__bases__[o].__module__&&n("__class__ assignment: '"+$B.class_name(e)+"' object layout differs from '"+$B.class_name(r)+"'");return e.__class__=r,None}if("__doc__"==t&&e.__class__===_b_.property&&(e[t]=r),e.$factory||e.$is_class){var i=e.__class__;if(i&&i[t]&&i[t].__get__&&i[t].__set__)return i[t].__set__(e,r),None;if("__module__"==t)return e.$infos.__module__=r,_b_.None;if(e.$infos&&"builtins"==e.$infos.__module__)throw _b_.TypeError.$factory("can't set attributes of built-in/extension type '"+e.$infos.__name__+"'");return e[t]=r,"__init__"==t||"__new__"==t?e.$factory=$B.$instance_creator(e):"__bases__"==t&&(e.__mro__=_b_.type.mro(e)),None}var a=e[t],s=e.__class__||$B.get_class(e);if(void 0===a&&s&&void 0===(a=s[t])){var l=(p=s.__mro__).length;for(o=0;o<l&&void 0===(a=p[o][t]);o++);}if(null!=a){if(a.__get__&&void 0===a.__set__)throw _b_.AttributeError.$factory("can't set attribute '"+t+"'");if(void 0!==a.__set__)return a.__set__(a,e,r),None;var _,c=a.__class__;if(void 0!==c&&void 0===(_=c.__set__))for(o=0,l=(p=c.__mro__).length;o<l&&!(_=p[o].__set__);o++);if(void 0!==_){var u=$B.$getattr(a,"__set__",null);if(u&&"function"==typeof u)return u.apply(a,[e,r]),None}else if(s&&void 0!==s.$descriptors&&void 0!==s[t]){var f=s[t].setter;if("function"==typeof f)return f(e,r),None;throw _b_.AttributeError.$factory("readonly attribute")}}var p,d=!1;if(void 0!==s&&void 0===(d=s.__setattr__))for(o=0,l=(p=s.__mro__).length-1;o<l&&!(d=p[o].__setattr__);o++);if(s&&s.__slots__&&-1==["__module__"].indexOf(t)&&!d){function h(e){return e.__slots__?Array.isArray(e.__slots__)?e.__slots__.map((function(t){return t.startsWith("__")&&!t.endsWith("_")?"_"+e.$infos.__name__+t:t})):e.__slots__:[]}var m=!1;if(h(s).indexOf(t)>-1)m=!0;else for(o=0;o<s.__mro__.length;o++)if(h(s.__mro__[o]).indexOf(t)>-1){m=!0;break}if(!m)throw $B.attr_error(t,s)}return d?d(e,t,r):void 0===e.__dict__?e[t]=r:_b_.dict.$setitem(e.__dict__,t,r),None};var staticmethod=$B.make_class("staticmethod",(function(e){var t={$infos:e.$infos,__get__:function(){return e}};return t.__get__.__class__=$B.method_wrapper,t.__get__.$infos=e.$infos,t}));function sum(e,t){var r=$B.args("sum",2,{iterable:null,start:null},["iterable","start"],arguments,{start:0},null,null);if(e=r.iterable,t=r.start,_b_.isinstance(t,[_b_.str,_b_.bytes]))throw _b_.TypeError.$factory("sum() can't sum bytes [use b''.join(seq) instead]");var n=t;for(e=iter(e);;)try{var o=next(e);n=$B.add(n,o)}catch(e){if(e.__class__===_b_.StopIteration)break;throw e}return n}$B.set_func_names(staticmethod,"builtins"),$B.missing_super2=function(e){return e.$missing=!0,e};var $$super=$B.make_class("super",(function(e,t){var r=void 0===t;if(void 0===e&&void 0===t){var n=$B.last($B.frames_stack),o=$B.imported._sys.Getframe();if(!o.f_code||!o.f_code.co_varnames)throw _b_.RuntimeError.$factory("super(): no arguments");if(void 0===(e=n[1].__class__))throw _b_.RuntimeError.$factory("super(): no arguments");t=n[1][o.f_code.co_varnames[0]]}return!r&&Array.isArray(t)&&(t=t[0]),{__class__:$$super,__thisclass__:e,__self_class__:t}}));function vars(){var e={},t=$B.args("vars",1,{obj:null},["obj"],arguments,{obj:e},null,null);if(t.obj===e)return _b_.locals();try{return $B.$getattr(t.obj,"__dict__")}catch(e){if(e.__class__===_b_.AttributeError)throw _b_.TypeError.$factory("vars() argument must have __dict__ attribute");throw e}}$$super.__get__=function(e,t,r){return $$super.$factory(e.__thisclass__,t)},$$super.__getattribute__=function(e,t){var r=e.__thisclass__.__mro__;if(e.__thisclass__.$is_js_class&&"__init__"==t)return function(){r[0].$js_func.call(e.__self_class__,...arguments)};var n=e.__self_class__;if(void 0!==n){n.$is_class||(n=n.__class__||$B.get_class(n));for(var o=[n].concat(n.__mro__),i=0;i<o.length;i++)if(o[i]===e.__thisclass__){r=o.slice(i+1);break}}i=0;for(var a,s,l=r.length;i<l;i++)if(void 0!==r[i][t]){a=r[i][t];break}if(void 0===a){if(void 0!==$$super[t])return s=e,function(){for(var e=[s],r=0,n=arguments.length;r<n;r++)e.push(arguments[r]);return $$super[t].apply(null,e)};throw $B.attr_error(t,e)}if("staticmethod"==a.$type||"__new__"==t)return a;if("function"!=typeof a)return a;a.__class__===$B.method&&(a=a.$infos.__func__);var _,c=$B.$call(a),u=function(){var t=c(e.__self_class__,...arguments);return t};return u.__class__=$B.method,void 0!==a.$infos?_=a.$infos.__module__:a.__class__===property?_=a.fget.$infos.__module:a.$is_class&&(_=a.__module__),u.$infos={__self__:e.__self_class__,__func__:a,__name__:t,__module__:_,__qualname__:e.__thisclass__.$infos.__name__+"."+t},u},$$super.__init__=function(e){if(void 0===e)throw _b_.TypeError.$factory("descriptor '__init__' of 'super' object needs an argument");if(e.__class__!==$$super)throw _b_.TypeError.$factory("descriptor '__init__' requires a 'super' object but received a '"+$B.class_name(e)+"'")},$$super.__repr__=function(e){$B.builtins_repr_check($$super,arguments);var t="<super: <class '"+e.__thisclass__.$infos.__name__+"'>";return void 0!==e.__self_class__?t+=", <"+e.__self_class__.__class__.$infos.__name__+" object>":t+=", NULL",t+">"},$B.set_func_names($$super,"builtins");var $Reader=$B.make_class("Reader");function make_lines(e){if(void 0===e.$lines)if(e.$binary){for(var t=[],r=0,n=e.$content.source;r<e.$length;){var o=n.indexOf(10,r);if(-1==o){t.push({__class__:_b_.bytes,source:n.slice(r)});break}t.push({__class__:_b_.bytes,source:n.slice(r,o+1)}),r=o+1}e.$lines=t}else e.$lines=e.$content.split("\n"),""==$B.last(e.$lines)&&e.$lines.pop(),e.$lines=e.$lines.map((e=>e+"\n"))}$Reader.__enter__=function(e){return e},$Reader.__exit__=function(e){return!1},$Reader.__iter__=function(e){return iter($Reader.readlines(e))},$Reader.__len__=function(e){return e.lines.length},$Reader.close=function(e){e.closed=!0},$Reader.flush=function(e){return None},$Reader.read=function(){var e=$B.args("read",2,{self:null,size:null},["self","size"],arguments,{size:-1},null,null),t=e.self,r=$B.$GetInt(e.size);if(!0===t.closed)throw _b_.ValueError.$factory("I/O operation on closed file");return r<0&&(r=t.$length-t.$counter),t.$binary?res=_b_.bytes.$factory(t.$content.source.slice(t.$counter,t.$counter+r)):res=t.$content.substr(t.$counter,r),t.$counter+=r,res},$Reader.readable=function(e){return!0},$Reader.readline=function(e,t){var r=$B.args("readline",2,{self:null,size:null},["self","size"],arguments,{size:-1},null,null);if(e=r.self,t=$B.$GetInt(r.size),e.$lc=void 0===e.$lc?-1:e.$lc,!0===e.closed)throw _b_.ValueError.$factory("I/O operation on closed file");if(e.$binary){var n;if(-1==(n=e.$content.source.indexOf(10,e.$counter))){var o=e.$content.source.slice(e.$counter);return e.$counter=e.$content.source.length,_b_.bytes.$factory(o)}var i={__class__:_b_.bytes,source:e.$content.source.slice(e.$counter,n+1)};return e.$counter=n+1,i}return e.$counter==e.$content.length?"":-1==(n=e.$content.indexOf("\n",e.$counter))?(o=e.$content.substr(e.$counter),e.$counter=e.$content.length,o):(i=e.$content.substring(e.$counter,n+1),e.$counter=n+1,e.$lc+=1,i)},$Reader.readlines=function(){var e=$B.args("readlines",2,{self:null,hint:null},["self","hint"],arguments,{hint:-1},null,null),t=e.self,r=$B.$GetInt(e.hint),n=0;if(!0===t.closed)throw _b_.ValueError.$factory("I/O operation on closed file");if(t.$lc=void 0===t.$lc?-1:t.$lc,make_lines(t),r<0)var o=t.$lines.slice(t.$lc+1);else for(o=[];t.$lc<t.$lines.length&&n<r;)t.$lc++,o.push(t.$lines[t.$lc]);return o},$Reader.seek=function(e,t,r){if(e.closed===True)throw _b_.ValueError.$factory("I/O operation on closed file");return void 0===r&&(r=0),0===r?e.$counter=t:1===r?e.$counter+=t:2===r&&(e.$counter=e.$length+t),None},$Reader.seekable=function(e){return!0},$Reader.tell=function(e){return e.$counter},$Reader.writable=function(e){return!1},$B.set_func_names($Reader,"builtins");var $BufferedReader=$B.make_class("_io.BufferedReader");$BufferedReader.__mro__=[$Reader,_b_.object];var $TextIOWrapper=$B.make_class("_io.TextIOWrapper",(function(){var e=$B.args("TextIOWrapper",6,{buffer:null,encoding:null,errors:null,newline:null,line_buffering:null,write_through:null},["buffer","encoding","errors","newline","line_buffering","write_through"],arguments,{encoding:"utf-8",errors:_b_.None,newline:_b_.None,line_buffering:_b_.False,write_through:_b_.False},null,null);return{__class__:$TextIOWrapper,$content:_b_.bytes.decode(e.buffer.$content,e.encoding),encoding:e.encoding,errors:e.errors,newline:e.newline}}));function $url_open(){var e=$B.args("open",3,{file:null,mode:null,encoding:null},["file","mode","encoding"],arguments,{mode:"r",encoding:"utf-8"},"args","kw"),t=e.file,r=e.mode,n=e.encoding,o={};if(r.search("w")>-1)throw _b_.IOError.$factory("Browsers cannot write on disk");if(-1==["r","rb"].indexOf(r))throw _b_.ValueError.$factory("Invalid mode '"+r+"'");if(isinstance(t,_b_.str)){var i=r.search("b")>-1;if($B.file_cache.hasOwnProperty(e.file))o.content=$B.file_cache[e.file],i&&(o.content=_b_.str.encode(o.content,"utf-8"));else if($B.files&&$B.files.hasOwnProperty(e.file)){var a=atob($B.files[e.file].content),s=[];for(const e of a)s.push(e.charCodeAt(0));if(o.content=_b_.bytes.$factory(s),!i)try{o.content=_b_.bytes.decode(o.content,n)}catch(e){o.error=e}}else{if("file"==$B.protocol)throw _b_.FileNotFoundError.$factory("cannot use 'open()' with protocol 'file'");var l=new XMLHttpRequest;l.overrideMimeType("text/plain;charset=x-user-defined"),l.onreadystatechange=function(){if(4==this.readyState){var e=this.status;if(404==e)o.error=_b_.FileNotFoundError.$factory(t);else if(200!=e)o.error=_b_.IOError.$factory("Could not open file "+t+" : status "+e);else{for(var r=[],a=0,s=this.response.length;a<s;a++){var l=this.response.codePointAt(a);l>63232&&(l-=63232),r.push(l)}if(o.content=_b_.bytes.$factory(r),!i)try{o.content=_b_.bytes.decode(o.content,n)}catch(e){o.error=e}}}};var _=$B.$options.cache?"":"?foo="+(new Date).getTime();l.open("GET",encodeURI(t+_),!1),l.send()}if(void 0!==o.error)throw o.error;var c={$binary:i,$content:o.content,$counter:0,$encoding:n,$length:i?o.content.source.length:o.content.length,closed:False,mode:r,name:t};return c.__class__=i?$BufferedReader:$TextIOWrapper,c}throw _b_.TypeError.$factory("invalid argument for open(): "+_b_.str.$factory(t))}$TextIOWrapper.__mro__=[$Reader,_b_.object],$B.set_func_names($TextIOWrapper,"builtins"),$B.Reader=$Reader,$B.TextIOWrapper=$TextIOWrapper,$B.BufferedReader=$BufferedReader;var zip=$B.make_class("zip",(function(){var e={__class__:zip,items:[]};if(0==arguments.length)return e;for(var t,r=$B.args("zip",0,{},[],arguments,{},"args","kw"),n=r.args,o=r.kw.$string_dict.strict&&r.kw.$string_dict.strict[0],i=[],a=!0,s=0;s<n.length;s++){if(a&&Array.isArray(n[s])){if(o)if(0==s)var l=n[s].length;else if(n[s]!=l)throw _b_.ValueError.$factory(`zip() argument ${s} is ${n[s]>l?"longer":"shorter"} than argument `+(s-1));(void 0===t||n[s].length<t)&&(t=n[s].length)}else a=!1;var _=$B.$call($B.$getattr(iter(n[s]),"__next__"));i.push(_)}var c=[];if(a){for($B.nb_zip_list=void 0===$B.nb_zip_list?1:$B.nb_zip_list+1,s=0;s<t;s++){for(var u=[],f=0;f<n.length;f++)u.push(n[f][s]);c.push($B.fast_tuple(u))}return e.items=c,zip_iterator.$factory(c)}function*p(e){for(;;){for(var t=[],r=!0,n=0;n<e.length;n++)try{t.push(e[n]())}catch(t){if(t.__class__==_b_.StopIteration){if(o){if(n>0)throw _b_.ValueError.$factory(`zip() argument ${n+1} is shorter than argument ${n}`);for(var i=1;i<e.length;i++){var a=!0;try{e[i](),a=!1}catch(e){}if(!a)throw _b_.ValueError.$factory(`zip() argument ${i+1} is longer than argument ${n+1}`)}}r=!1;break}throw t}if(!r)return;yield $B.fast_tuple(t)}}return $B.generator.$factory(p,"zip")(i)})),zip_iterator=$B.make_iterator_class("zip");function no_set_attr(e,t){throw void 0!==e[t]?_b_.AttributeError.$factory("'"+e.$infos.__name__+"' object attribute '"+t+"' is read-only"):$B.attr_error(t,e)}zip.__iter__=function(e){return zip_iterator.$factory(e.items)},$B.set_func_names(zip,"builtins");var True=!0,False=!1,ellipsis=$B.make_class("ellipsis",(function(){return Ellipsis}));ellipsis.__repr__=function(e){return"Ellipsis"};var Ellipsis={__class__:ellipsis};for(var $key in $B.$comps)switch($B.$comps[$key]){case"ge":case"gt":case"le":case"lt":ellipsis["__"+$B.$comps[$key]+"__"]=function(e){return function(t){throw _b_.TypeError.$factory("unorderable types: ellipsis() "+e+" "+$B.class_name(t))}}($key)}for(var $func in Ellipsis)"function"==typeof Ellipsis[$func]&&(Ellipsis[$func].__str__=function(e){return function(){return"<method-wrapper "+e+" of Ellipsis object>"}}($func));$B.set_func_names(ellipsis);var FunctionCode=$B.make_class("function code"),FunctionGlobals=$B.make_class("function globals");$B.Function={__class__:_b_.type,__code__:{__class__:FunctionCode,__name__:"function code"},__globals__:{__class__:FunctionGlobals,__name__:"function globals"},__mro__:[_b_.object],$infos:{__name__:"function",__module__:"builtins"},$is_class:!0},$B.Function.__delattr__=function(e,t){if("__dict__"==t)throw _b_.TypeError.$factory("can't deleted function __dict__")},$B.Function.__dir__=function(e){var t=e.$infos||{},r=e.$attrs||{};return Object.keys(t).concat(Object.keys(r))},$B.Function.__eq__=function(e,t){return e===t},$B.Function.__get__=function(e,t){if(t===_b_.None)return e;var r=function(){return e(t,...arguments)};return r.__class__=$B.method,void 0===e.$infos&&(console.log("no $infos",e),console.log($B.last($B.frames_stack))),r.$infos={__name__:e.$infos.__name__,__qualname__:$B.class_name(t)+"."+e.$infos.__name__,__self__:t,__func__:e},r},$B.Function.__getattribute__=function(e,t){if(!e.$infos||void 0===e.$infos[t]){if(e.$infos&&e.$infos.__dict__&&void 0!==e.$infos.__dict__.$string_dict[t])return e.$infos.__dict__.$string_dict[t][0];if("__closure__"==t){var r=e.$infos.__code__.co_freevars;if(0==r.length)return None;for(var n=[],o=0;o<r.length;o++)try{n.push($B.cell.$factory($B.$check_def_free(r[o])))}catch(e){n.push($B.cell.$factory(None))}return _b_.tuple.$factory(n)}return"__globals__"==t?$B.obj_dict($B.imported[e.$infos.__module__]):e.$attrs&&void 0!==e.$attrs[t]?e.$attrs[t]:_b_.object.__getattribute__(e,t)}if("__code__"==t){var i={__class__:code};for(var t in e.$infos.__code__)i[t]=e.$infos.__code__[t];return i.name=e.$infos.__name__,i.filename=e.$infos.__code__.co_filename,i.co_code=e+"",i}return"__annotations__"==t?$B.obj_dict(e.$infos[t]):e.$infos.hasOwnProperty(t)?e.$infos[t]:void 0},$B.Function.__repr__=function(e){return void 0===e.$infos?"<function "+e.name+">":"<function "+e.$infos.__qualname__+">"},$B.Function.__mro__=[_b_.object],$B.Function.__setattr__=function(e,t,r){if("__closure__"==t)throw _b_.AttributeError.$factory("readonly attribute");if("__defaults__"==t){if(r===_b_.None)r=[];else if(!isinstance(r,_b_.tuple))throw _b_.TypeError.$factory("__defaults__ must be set to a tuple object");var n=e.$set_defaults;if(void 0===n)throw _b_.AttributeError.$factory("cannot set attribute "+t+" of "+_b_.str.$factory(e));if(!e.$infos||!e.$infos.__code__)throw _b_.AttributeError.$factory("cannot set attribute "+t+" of "+_b_.str.$factory(e));for(var o=e.$infos.__code__.co_argcount,i=e.$infos.__code__.co_varnames.slice(0,o),a={},s=r.length-1;s>=0;s--){var l=i.length-r.length+s;if(l<0)break;a[i[l]]=r[s]}var _=e.$infos.$class,c=n(a);return c.$set_defaults=n,_?(_[e.$infos.__name__]=c,c.$infos.$class=_,c.$infos.__defaults__=r):(e.$infos.$defaults=r,e.$infos.__defaults__=r),_b_.None}void 0!==e.$infos[t]?e.$infos[t]=r:(e.$attrs=e.$attrs||{},e.$attrs[t]=r)},$B.Function.$factory=function(){},$B.set_func_names($B.Function,"builtins"),_b_.__BRYTHON__=__BRYTHON__,$B.builtin_funcs=["__build_class__","abs","aiter","all","anext","any","ascii","bin","breakpoint","callable","chr","compile","delattr","dir","divmod","eval","exec","exit","format","getattr","globals","hasattr","hash","help","hex","id","input","isinstance","issubclass","iter","len","locals","max","min","next","oct","open","ord","pow","print","quit","repr","round","setattr","sorted","sum","vars"];var builtin_function=$B.builtin_function=$B.make_class("builtin_function_or_method",(function(e){return e.__class__=builtin_function,e}));builtin_function.__getattribute__=$B.Function.__getattribute__,builtin_function.__reduce_ex__=builtin_function.__reduce__=function(e){return e.$infos.__name__},builtin_function.__repr__=builtin_function.__str__=function(e){return"<built-in function "+e.$infos.__name__+">"},$B.set_func_names(builtin_function,"builtins");var method_wrapper=$B.make_class("method_wrapper");method_wrapper.__repr__=method_wrapper.__str__=function(e){return"<method wrapper '"+e.$infos.__name__+"' of function object>"},$B.set_func_names(method_wrapper,"builtins");var wrapper_descriptor=$B.wrapper_descriptor=$B.make_class("wrapper_descriptor");wrapper_descriptor.__getattribute__=$B.Function.__getattribute__,wrapper_descriptor.__repr__=wrapper_descriptor.__str__=function(e){return"<slot wrapper '"+e.$infos.__name__+"' of '"+e.__objclass__.$infos.__name__+"' object>"},$B.set_func_names(wrapper_descriptor,"builtins"),$B.builtin_classes=["bool","bytearray","bytes","classmethod","complex","dict","enumerate","filter","float","frozenset","int","list","map","memoryview","object","property","range","reversed","set","slice","staticmethod","str","super","tuple","type","zip"];for(var other_builtins=["Ellipsis","False","None","True","__debug__","__import__","copyright","credits","license","NotImplemented"],builtin_names=$B.builtin_funcs.concat($B.builtin_classes).concat(other_builtins),i=0;i<builtin_names.length;i++){var name=builtin_names[i],orig_name=name,name1=name;"open"==name&&(name1="$url_open"),"super"==name&&(name1="$$super"),"eval"==name&&(name1="$$eval"),"print"==name&&(name1="$print");try{_b_[name]=eval(name1),$B.builtin_funcs.indexOf(orig_name)>-1&&(_b_[name].__class__=builtin_function,_b_[name].$infos={__module__:"builtins",__name__:orig_name,__qualname__:orig_name})}catch(e){}}_b_.open=$url_open,_b_.print=$print,_b_.super=$$super,_b_.object.__init__.__class__=wrapper_descriptor,_b_.object.__new__.__class__=builtin_function}(__BRYTHON__),function($B){var _b_=$B.builtins;$B.del_exc=function(){$B.last($B.frames_stack)[1].$current_exception=void 0},$B.set_exc=function(e){var t=$B.last($B.frames_stack);void 0===t&&console.log("no frame",e,e.__class__,e.args),t[1].$current_exception=$B.exception(e)},$B.get_exc=function(){return $B.last($B.frames_stack)[1].$current_exception},$B.$raise=function(e){if(void 0===e){var t=$B.get_exc();if(void 0!==t)throw t;throw _b_.RuntimeError.$factory("No active exception to reraise")}if(_b_.isinstance(e,BaseException))throw e.__class__===_b_.StopIteration&&$B.last($B.frames_stack)[1].$is_generator&&(e=_b_.RuntimeError.$factory("generator raised StopIteration")),e;if(e.$is_class&&_b_.issubclass(e,BaseException)){if(e===_b_.StopIteration&&$B.last($B.frames_stack)[1].$is_generator)throw _b_.RuntimeError.$factory("generator raised StopIteration");throw $B.$call(e)()}throw _b_.TypeError.$factory("exceptions must derive from BaseException")},$B.$syntax_err_line=function(e,t,r,n,o){var i={},a=1;if(t="$"==t.charAt(0)?"<string>":t,void 0===r)e.$line_info=o+","+t,e.args=$B.fast_tuple([$B.$getitem(e.args,0),$B.fast_tuple([t,o,0,0])]);else{for(var s={1:0},l=0,_=r.length;l<_;l++)i[l]=a,"\n"==r.charAt(l)&&(s[++a]=l);for(;void 0===o;)o=i[n],n--;e.$line_info=o+","+t;var c=r.split("\n")[o-1],u=n-s[o];for(_=c.length,e.text=c+"\n",(u-=_-c.length)<0&&(u=0);" "==c.charAt(0);)c=c.substr(1),u>0&&u--;e.offset=u+1,e.args=$B.fast_tuple([$B.$getitem(e.args,0),$B.fast_tuple([t,o,u,c])])}e.lineno=o,e.msg=e.args[0],e.filename=t},$B.$SyntaxError=function(e,t,r,n,o,i){void 0!==i&&void 0!==i.line_info&&(o=i.line_info);var a=_b_.SyntaxError.$factory(t);throw $B.$syntax_err_line(a,e,r,n,o),a},$B.$IndentationError=function(e,t,r,n,o,i,a){if($B.frames_stack.push([e,{$line_info:o+","+e},e,{$src:r}]),void 0!==i&&void 0!==i.line_info&&(o=i.line_info),a){var s=a.C.tree[0].type;switch(s){case"class":s="class definition";break;case"condition":s=`'${a.C.tree[0].token}' statement`;break;case"def":s="function definition";break;case"case":case"for":case"match":case"try":case"while":case"with":s=`'${s}' statement`;break;case"single_kw":s=`'${a.C.tree[0].token}' statement`}t+=` after ${s} on line ${a.line_num}`}var l=_b_.IndentationError.$factory(t);throw $B.$syntax_err_line(l,e,r,n,o),l},$B.print_stack=function(e){e=e||$B.frames_stack;var t=[];return e.forEach((function(e){var r=e[1].$line_info;if(void 0!==r){var n=r.split(",");n[1].startsWith("$exec")&&(n[1]="<module>"),t.push(n[1]+" line "+n[0]);var o=$B.file_cache[e[3].__file__];if(o){var i=o.split("\n")[parseInt(n[0])-1];t.push("  "+i.trim())}}})),console.log("print stack ok",t),t.join("\n")};var traceback=$B.traceback=$B.make_class("traceback",(function(e,t){return $B.last($B.frames_stack),void 0===t&&(t=e.$stack),{__class__:traceback,$stack:t,exc:e}}));traceback.__getattribute__=function(e,t){var r;if("tb_frame"===t||"tb_lineno"===t||"tb_lasti"===t||"tb_next"===t){0==e.$stack.length&&console.log("no stack",t);var n=e.$stack[0];r=e.exc.$line_infos[e.exc.$line_infos.length-e.$stack.length]}switch(t){case"tb_frame":return frame.$factory(e.$stack);case"tb_lineno":return void 0===r||n[0].startsWith($B.lambda_magic)?n[4]&&n[4].$infos&&n[4].$infos.__code__?n[4].$infos.__code__.co_firstlineno:-1:parseInt(r.split(",")[0]);case"tb_lasti":if(void 0===r)return console.log("no line info",e.$stack),"";for(var o,i,a=r.split(","),s=e.$stack.length-1;s>=0;s--){var l=e.$stack[s];if(l[2]==a[1].replace(/\./g,"_")){i=l[3].__file__,o=l[3].$src;break}}if(void 0===o&&($B.file_cache.hasOwnProperty(i)?o=$B.file_cache[i]:$B.imported[a[1]]&&$B.imported[a[1]].__file__&&(o=$B.file_cache[$B.imported[a[1]].__file__],console.log("from filecache",r,$B.imported[a[1]].__file__))),void 0===o)return console.log("stack",e.$stack),console.log(i),console.log("no src for",a),"";try{return o.split("\n")[parseInt(a[0]-1)].trim()}catch(t){throw console.log("error in attr tb_lasti of",e),console.log(o,a),t}case"tb_next":return e.$stack.length<=1?_b_.None:traceback.$factory(e.exc,e.$stack.slice(1));default:return _b_.object.__getattribute__(e,t)}},$B.set_func_names(traceback,"builtins");var frame=$B.make_class("frame",(function(e,t){var r=e,n={__class__:frame,f_builtins:{},$stack:e.slice()};if(void 0===t&&(t=0),n.$pos=t,r.length){var o,i=r[t],a=i[0];try{n.f_locals=$B.obj_dict(i[1])}catch(e){throw console.log("err "+e),e}if(n.f_globals=$B.obj_dict(i[3]),void 0!==i[3].__file__&&(o=i[3].__file__),a.startsWith("$exec")&&(o="<string>"),void 0===i[1].$line_info)n.f_lineno=-1;else{var s=i[1].$line_info.split(",");n.f_lineno=parseInt(s[0]);var l=s[1];$B.imported.hasOwnProperty(l)&&(o=$B.imported[l].__file__),n.f_lineno=parseInt(i[1].$line_info.split(",")[0])}var _=a.startsWith("$exec")?"<module>":a;a==i[2]?_="<module>":a.startsWith("lc"+$B.lambda_magic)?_="<listcomp>":i[1].$name?_=i[1].$name:i[1].$comprehension?_="<"+i[1].$comprehension+">":i[1].$list_comp?_="<listcomp>":i.length>4&&(_=i[4].$infos?i[4].$infos.__name__:i[4].name,void 0===i[4].$infos?i[4].name.startsWith("__ge")?_="<genexpr>":i[4].name.startsWith("set_comp"+$B.lambda_magic)?_="<setcomp>":i[4].name.startsWith("lambda"+$B.lambda_magic)&&(_="<lambda>"):void 0===o&&i[4].$infos.__code__&&(void 0===(o=i[4].$infos.__code__.co_filename)&&(o=i[4].$infos.__module__),n.f_lineno=i[4].$infos.__code__.co_firstlineno)),i.length>4&&void 0!==i[4].$infos?n.f_code=i[4].$infos.__code__:(n.f_code={co_name:_,co_filename:o},i[1].$comp_code&&$B.update_obj(n.f_code,i[1].$comp_code)),n.f_code.__class__=$B.code,n.f_code.co_code=_b_.None,void 0===o&&(n.f_code.co_filename="<string>")}return n}));frame.__delattr__=function(e,t){"f_trace"==t&&($B.last(e.$stack)[1].$f_trace=_b_.None)},frame.__getattr__=function(e,t){if("f_back"==t)return e.$pos>0?frame.$factory(e.$stack.slice(0,e.$stack.length-1),e.$pos-1):_b_.None;if("clear"==t)return function(){};if("f_trace"==t){var r=$B.last(e.$stack)[1];return void 0===r.$f_trace?_b_.None:r.$f_trace}},frame.__setattr__=function(e,t,r){"f_trace"==t&&($B.last(e.$stack)[1].$f_trace=r)},frame.__str__=frame.__repr__=function(e){return"<frame object, file "+e.f_code.co_filename+", line "+e.f_lineno+", code "+e.f_code.co_name+">"},$B.set_func_names(frame,"builtins"),$B._frame=frame;var BaseException=_b_.BaseException={__class__:_b_.type,__bases__:[_b_.object],__mro__:[_b_.object],args:[],$infos:{__name__:"BaseException",__module__:"builtins"},$is_class:!0};BaseException.__init__=function(e){var t=void 0===arguments[1]?[]:[arguments[1]];e.args=_b_.tuple.$factory(t)},BaseException.__repr__=function(e){var t=e.__class__.$infos.__name__+"(";return void 0!==e.args[0]&&(t+=_b_.repr(e.args[0])),e.args.length>1&&(t+=", "+_b_.repr($B.fast_tuple(e.args.slice(1)))),t+")"},BaseException.__str__=function(e){return e.args.length>0&&e.args[0]!==_b_.None?_b_.str.$factory(e.args[0]):""},BaseException.__new__=function(e){var t=_b_.BaseException.$factory();return t.__class__=e,t.__dict__=$B.empty_dict(),t};var getExceptionTrace=function(e,t){if(void 0===e.__class__)return $B.debug>1&&console.log("no class",e),e+"";var r="";void 0!==e.$js_exc&&t&&(r+="\nJS stack:\n"+e.$js_exc.stack+"\n"),r+="Traceback (most recent call last):";for(var n=e.$line_info,o=0;o<e.$stack.length;o++){var i=e.$stack[o];if(i[1]&&i[1].$line_info){var a;if(n=i[1].$line_info.split(","),e.module==n[1]&&(a=e.src),!t&&void 0===(a=i[3].$src))if($B.VFS&&$B.VFS.hasOwnProperty(i[2]))a=$B.VFS[i[2]][1];else if(!(a=$B.file_cache[i[3].__file__]))continue;var s=i[3].__file__||"<string>",l=n[1],_="$"==l.charAt(0);if(_&&(l="<module>"),r+="\n  File "+s+" line "+n[0],i.length>4)if(i[4].$infos){var c=i[4].$infos.__name__;c.startsWith("lc"+$B.lambda_magic)?r+=", in <listcomp>":c.startsWith("lambda_"+$B.lambda_magic)?r+=", in <lambda>":r+=", in "+c}else i[4].name.startsWith("__ge")?r+=", in <genexpr>":i[4].name.startsWith("set_comp"+$B.lambda_magic)?r+=", in <setcomp>":i[4].name.startsWith("lc"+$B.lambda_magic)?r+=", in <listcomp>":console.log("frame[4]",i[4]);else i[1].$list_comp?r+=", in <listcomp>":i[1].$dict_comp?r+=", in <dictcomp>":r+=", in <module>";if(void 0!==a&&!_){var u=a.split("\n")[parseInt(n[0])-1];u&&(u=u.replace(/^[ ]+/g,"")),r+="\n    "+u}}}return e.__class__===_b_.SyntaxError&&(r+="\n  File "+e.args[1][0]+", line "+e.args[1][1]+"\n    "+e.args[1][3]),r};BaseException.__getattr__=function(e,t){if("info"==t)return getExceptionTrace(e,!1);if("infoWithInternal"==t)return getExceptionTrace(e,!0);if("__traceback__"==t)return void 0!==e.$traceback?e.$traceback:traceback.$factory(e);throw $B.attr_error(t,e)},BaseException.with_traceback=function(e,t){return e.$traceback=t,e},$B.deep_copy=function(e){var t=[];for(const o of e){var r=[o[0],{},o[2],{}];void 0!==o[4]&&r.push(o[4]);for(const e of[1,3])for(var n in o[e])r[e][n]=o[e][n];t.push(r)}return t},$B.save_stack=function(){return $B.deep_copy($B.frames_stack)},$B.restore_stack=function(e,t){$B.frames_stack=e,$B.frames_stack[$B.frames_stack.length-1][1]=t},$B.freeze=function(e){if(void 0===e.$stack){e.$line_infos=[];for(var t=0,r=$B.frames_stack.length;t<r;t++)e.$line_infos.push($B.frames_stack[t][1].$line_info);e.$stack=$B.frames_stack.slice(),$B.frames_stack.length&&(e.$line_info=$B.last($B.frames_stack)[1].$line_info)}};var show_stack=$B.show_stack=function(e){e=e||$B.frames_stack;for(const t of e)console.log(t[0],t[1].$line_info)},be_factory="\nfunction (){\n    var err = Error()\n    err.args = $B.fast_tuple(Array.prototype.slice.call(arguments))\n    err.__class__ = _b_.BaseException\n    err.$py_error = true\n    $B.freeze(err)\n    // placeholder\n    err.__cause__ = _b_.None // XXX fix me\n    err.__context__ = _b_.None // XXX fix me\n    err.__suppress_context__ = false // XXX fix me\n    return err}";function $make_exc(names,parent){void 0===parent&&console.log("pas de parent",names);for(var _str=[],pos=0,i=0;i<names.length;i++){var name=names[i],code="";if(Array.isArray(name))var code=name[1],name=name[0];$B.builtins_scope[name]=!0;var $exc=be_factory.replace(/BaseException/g,name);$exc=$exc.replace("// placeholder",code),_str[pos++]="_b_."+name+" = {__class__:_b_.type, __bases__: [_b_."+parent.$infos.__name__+"], __mro__: [_b_."+parent.$infos.__name__+"].concat(parent.__mro__), $is_class: true,$infos: {__name__:'"+name+"'}}",_str[pos++]="_b_."+name+".$factory = "+$exc,_str[pos++]="_b_."+name+'.$factory.$infos = {__name__: "'+name+'", __qualname__: "'+name+'"}',_str[pos++]="$B.set_func_names(_b_."+name+", 'builtins')"}try{eval(_str.join(";"))}catch(e){throw console.log("--err"+e),e}}eval("BaseException.$factory = "+be_factory),BaseException.$factory.$infos={__name__:"BaseException",__qualname__:"BaseException"},$B.set_func_names(BaseException),_b_.BaseException=BaseException,$B.exception=function(e,t){if(e.__class__){if(i=e,$B.freeze(i),t)for(var r=$B.last($B.frames_stack)[0],n=0,o=i.$stack.length;n<o;n++)if(i.$stack[n][0]==r){i.$stack=i.$stack.slice(n),i.$traceback=traceback.$factory(i);break}}else{var i;if((i=Error()).__name__="Internal Javascript error: "+(e.__name__||e.name),i.__class__=_b_.Exception,i.$js_exc=e,$B.is_recursion_error(e))return _b_.RecursionError.$factory("too much recursion");"ReferenceError"==e.name?(i.__name__="NameError",i.__class__=_b_.NameError):"InternalError"==e.name&&(i.__name__="RuntimeError",i.__class__=_b_.RuntimeError),i.__cause__=_b_.None,i.__context__=_b_.None,i.__suppress_context__=!1;var a="<Javascript "+e.name+">: "+(e.message||"<"+e+">");i.args=_b_.tuple.$factory([a]),i.$py_error=!0,console.log("js error",i.args,i.__class__),console.log(e.stack),$B.freeze(i)}return i},$B.is_exc=function(e,t){void 0===e.__class__&&(e=$B.exception(e));for(var r=e.$is_class?e:e.__class__,n=0;n<t.length;n++){var o=t[n];if(void 0===r&&console.log("exc class undefined",e),_b_.issubclass(r,o))return!0}return!1},$B.is_recursion_error=function(e){var t=(e+"").split(":"),r=t[0].trim(),n=t[1].trim();return"InternalError"==r&&"too much recursion"==n||"Error"==r&&"Out of stack space"==n||"RangeError"==r&&"Maximum call stack size exceeded"==n},$make_exc(["SystemExit","KeyboardInterrupt","GeneratorExit","Exception"],BaseException),$make_exc([["StopIteration","err.value = arguments[0]"],["StopAsyncIteration","err.value = arguments[0]"],"ArithmeticError","AssertionError","BufferError","EOFError",["ImportError","err.name = arguments[0]"],"LookupError","MemoryError","OSError","ReferenceError","RuntimeError",["SyntaxError","err.msg = arguments[0]"],"SystemError","TypeError","ValueError","Warning"],_b_.Exception),$make_exc(["FloatingPointError","OverflowError","ZeroDivisionError"],_b_.ArithmeticError),$make_exc([["ModuleNotFoundError","err.name = arguments[0]"]],_b_.ImportError),$make_exc(["IndexError","KeyError"],_b_.LookupError),$make_exc(["BlockingIOError","ChildProcessError","ConnectionError","FileExistsError","FileNotFoundError","InterruptedError","IsADirectoryError","NotADirectoryError","PermissionError","ProcessLookupError","TimeoutError"],_b_.OSError),$make_exc(["BrokenPipeError","ConnectionAbortedError","ConnectionRefusedError","ConnectionResetError"],_b_.ConnectionError),$make_exc(["NotImplementedError","RecursionError"],_b_.RuntimeError),$make_exc(["IndentationError"],_b_.SyntaxError),$make_exc(["TabError"],_b_.IndentationError),$make_exc(["UnicodeError"],_b_.ValueError),$make_exc(["UnicodeDecodeError","UnicodeEncodeError","UnicodeTranslateError"],_b_.UnicodeError),$make_exc(["DeprecationWarning","PendingDeprecationWarning","RuntimeWarning","SyntaxWarning","UserWarning","FutureWarning","ImportWarning","UnicodeWarning","BytesWarning","ResourceWarning","EncodingWarning"],_b_.Warning),$make_exc(["EnvironmentError","IOError","VMSError","WindowsError"],_b_.OSError);var js='\nvar $ = $B.args("AttributeError", 1, {"msg": null, "name":null, "obj":null}, ["msg", "name", "obj"], arguments, {msg: _b_.None, name: _b_.None, obj: _b_.None}, "*", null);\nerr.args = $B.fast_tuple($.msg === _b_.None ? [] : [$.msg])\n;err.name = $.name\nerr.obj = $.obj\n';$make_exc([["AttributeError",js]],_b_.Exception),_b_.AttributeError.__str__=function(e){var t=e.args[0],r=offer_suggestions_for_attribute_error(e);return r&&(t+=`. Did you mean: '${r}'?`),t},$B.set_func_names(_b_.AttributeError,"builtins"),$B.attr_error=function(e,t){if(t.$is_class)var r=`type object '${t.$infos.__name__}'`;else r=`'${$B.class_name(t)}' object`;return r+=` has no attribute '${e}'`,_b_.AttributeError.$factory({$nat:"kw",kw:{name:e,obj:t,msg:r}})};var js='\nvar $ = $B.args("NameError", 1, {"msg": null, "name":null}, ["msg", "name"], arguments, {msg: _b_.None, name: _b_.None}, "*", null);\nerr.args = $B.fast_tuple($.msg === _b_.None ? [] : [$.msg])\n;err.name = $.name\n';$make_exc([["NameError",js]],_b_.Exception),_b_.NameError.__str__=function(e){if(e.args.length>0)return e.args[0];var t=`name '${e.name}' is not defined`,r=offer_suggestions_for_name_error(e);return r&&(t+=`. Did you mean: '${r}'?`),t},$B.set_func_names(_b_.NameError,"builtins"),$make_exc(["UnboundLocalError"],_b_.NameError),$B.name_error=function(e,t){return _b_.NameError.$factory({$nat:"kw",kw:{name:e}})},$B.$TypeError=function(e){throw _b_.TypeError.$factory(e)};var se=_b_.SyntaxError.$factory;_b_.SyntaxError.$factory=function(){var e=arguments[0];if(e.__class__===_b_.SyntaxError)return e;var t=se.apply(null,arguments),r=$B.last($B.frames_stack);if(r){line_info=r[1].$line_info,t.filename=r[3].__file__,t.lineno=parseInt(line_info.split(",")[0]);var n=$B.file_cache[r[3].__file__];n&&(lines=n.split("\n"),t.text=lines[t.lineno-1]),t.offset=e.offset}return t};var MAX_CANDIDATE_ITEMS=750,MAX_STRING_SIZE=40,MOVE_COST=2,CASE_COST=1,SIZE_MAX=65535;function LEAST_FIVE_BITS(e){return 31&e}function levenshtein_distance(e,t,r){if(e==t)return 0;for(e.length<t.length&&([e,t]=[t,e]);e.length&&e[0]==t[0];)e=e.substr(1),t=t.substr(1);for(;e.length&&e[e.length-1]==t[t.length-1];)e=e.substr(0,e.length-1),t=t.substr(0,t.length-1);if(0==t.length)return e.length*MOVE_COST;if((t.length-e.length)*MOVE_COST>r)return r+1;for(var n=[],o=0;o<e.length;o++)n[o]=(o+1)*MOVE_COST;for(var i=0,a=0;a<t.length;a++){for(var s=t[a],l=i=a*MOVE_COST,_=SIZE_MAX,c=0;c<e.length;c++){var u=l+substitution_cost(s,e[c]);l=n[c];var f=Math.min(i,l)+MOVE_COST;i=Math.min(f,u),n[c]=i,i<_&&(_=i)}if(_>r)return r+1}return i}function substitution_cost(e,t){return LEAST_FIVE_BITS(e)!=LEAST_FIVE_BITS(t)?MOVE_COST:e==t?0:e.toLowerCase()==t.toLowerCase()?CASE_COST:MOVE_COST}function calculate_suggestions(e,t){if(e.length>=MAX_CANDIDATE_ITEMS)return null;var r=2**52,n=null;for(var o of e){var i=(t.length+o.length+3)*MOVE_COST/6,a=levenshtein_distance(t,o,i=Math.min(i,r-1));a>i||(!n||a<r)&&(n=o,r=a)}return n}function offer_suggestions_for_attribute_error(e){var t=e.name,r=e.obj;return calculate_suggestions(_b_.dir(r),t)}function offer_suggestions_for_name_error(e){var t,r=e.name,n=$B.last(e.$stack);return(t=calculate_suggestions(Object.keys(n[1]).filter((e=>!e.startsWith("$"))),r))||n[2]!=n[0]&&(t=calculate_suggestions(Object.keys(n[3]).filter((e=>!e.startsWith("$"))),r))?t:void 0}$B.handle_error=function(e){if(!e.$handled){if(e.$handled=!0,$B.debug>1&&(console.log("handle error",e.__class__,e.args,"stderr",$B.stderr),console.log(e)),void 0!==e.__class__){var t=$B.class_name(e),r=$B.$getattr(e,"info");if("SyntaxError"==t||"IndentationError"==t){var n=e.args[1][2];r+="\n    "+" ".repeat(n)+"^\n"+t+": "+e.args[0]}else r+="\n"+t+": "+_b_.str.$factory(e)}else console.log(e),r=e+"";try{$B.$getattr($B.stderr,"write")(r);var o=$B.$getattr($B.stderr,"flush",_b_.None);o!==_b_.None&&o()}catch(e){console.debug(r)}throw e}}}(__BRYTHON__),function(e){var t=e.builtins,r=t.None,n={__class__:t.type,__mro__:[t.object],$infos:{__module__:"builtins",__name__:"range"},$is_class:!0,$native:!0,$match_sequence_pattern:!0,$descriptors:{start:!0,step:!0,stop:!0}};function o(t,r){var o=n.__len__(t);return 0==o?t.start:r>o?t.stop:e.add(t.start,e.mul(t.step,r))}n.__contains__=function(t,r){if(0==n.__len__(t))return!1;try{r=e.int_or_bool(r)}catch(e){try{return n.index(t,r),!0}catch(e){return!1}}var o=e.sub(r,t.start),i=e.floordiv(o,t.step),a=e.mul(t.step,i);return!!e.eq(a,o)&&(e.gt(t.stop,t.start)?e.ge(r,t.start)&&e.gt(t.stop,r):e.ge(t.start,r)&&e.gt(r,t.stop))},n.__delattr__=function(e,r,n){throw t.AttributeError.$factory("readonly attribute")},n.__eq__=function(r,o){if(t.isinstance(o,n)){var i=n.__len__(r);return!!e.eq(i,n.__len__(o))&&(0==i||!!e.eq(r.start,o.start)&&(1==i||e.eq(r.step,o.step)))}return!1},n.__getitem__=function(r,i){if(t.isinstance(i,t.slice)){var a=t.slice.$conv_for_seq(i,n.__len__(r)),s=e.mul(r.step,a.step),l=o(r,a.start),_=o(r,a.stop);return n.$factory(l,_,s)}"number"!=typeof i&&(i=e.$GetInt(i)),e.gt(0,i)&&(i=e.add(i,n.__len__(r)));var c=e.add(r.start,e.mul(i,r.step));if(e.gt(r.step,0)&&(e.ge(c,r.stop)||e.gt(r.start,c))||e.gt(0,r.step)&&(e.ge(r.stop,c)||e.gt(c,r.start)))throw t.IndexError.$factory("range object index out of range");return c},n.__hash__=function(e){var o=n.__len__(e);return 0==o?t.hash(t.tuple.$factory([0,r,r])):1==o?t.hash(t.tuple.$factory([1,e.start,r])):t.hash(t.tuple.$factory([o,e.start,e.step]))};var i={__class__:t.type,__mro__:[t.object],__iter__:function(e){return e},__next__:function(e){return t.next(e.obj)},$infos:{__name__:"range_iterator",__module__:"builtins"},$is_class:!0,$factory:function(e){return{__class__:i,obj:e}}};e.set_func_names(i,"builtins"),n.__iter__=function(t){var r={__class__:n,start:t.start,stop:t.stop,step:t.step};return t.$safe?r.$counter=t.start-t.step:r.$counter=e.sub(t.start,t.step),i.$factory(r)},n.__len__=function(t){var r;if(e.gt(t.step,0)){if(e.ge(t.start,t.stop))return 0;var n=e.sub(t.stop,e.add(1,t.start)),o=e.floordiv(n,t.step);r=e.add(1,o)}else{if(e.ge(t.stop,t.start))return 0;n=e.sub(t.start,e.add(1,t.stop)),o=e.floordiv(n,e.mul(-1,t.step)),r=e.add(1,o)}return void 0===e.maxsize&&(e.maxsize=e.long_int.__pow__(e.long_int.$factory(2),63),e.maxsize=e.long_int.__sub__(e.maxsize,1)),r},n.__next__=function(r){if(r.$safe){if(r.$counter+=r.step,r.step>0&&r.$counter>=r.stop||r.step<0&&r.$counter<=r.stop)throw t.StopIteration.$factory("")}else if(r.$counter=e.add(r.$counter,r.step),e.gt(r.step,0)&&e.ge(r.$counter,r.stop)||e.gt(0,r.step)&&e.ge(r.stop,r.$counter))throw t.StopIteration.$factory("");return r.$counter},n.__reversed__=function(t){var r=e.sub(n.__len__(t),1);return n.$factory(e.add(t.start,e.mul(r,t.step)),e.sub(t.start,t.step),e.mul(-1,t.step))},n.__repr__=function(r){e.builtins_repr_check(n,arguments);var o="range("+t.str.$factory(r.start)+", "+t.str.$factory(r.stop);return 1!=r.step&&(o+=", "+t.str.$factory(r.step)),o+")"},n.__setattr__=function(e,r,n){throw t.AttributeError.$factory("readonly attribute")},n.start=function(e){return e.start},n.step=function(e){return e.step},n.stop=function(e){return e.stop},n.count=function(r,o){if(t.isinstance(o,[t.int,t.float,t.bool]))return t.int.$factory(n.__contains__(r,o));for(var a=n.__iter__(r),s=i.__next__,l=0;;)try{_=s(a),e.rich_comp("__eq__",o,_)&&l++}catch(e){if(t.isinstance(e,t.StopIteration))return l;throw e}var _},n.index=function(r,o){var a=e.args("index",2,{self:null,other:null},["self","other"],arguments,{},null,null);r=a.self,o=a.other;try{o=e.int_or_bool(o)}catch(a){for(var s=function(t){return e.rich_comp("__eq__",o,t)},l=n.__iter__(r),_=i.__next__,c=0;;)try{if(s(_(l)))return c;c++}catch(e){if(t.isinstance(e,t.StopIteration))throw t.ValueError.$factory(t.str.$factory(o)+" not in range");throw e}}var u=e.sub(o,r.start),f=e.floordiv(u,r.step),p=e.mul(r.step,f);if(e.eq(p,u)){if(e.gt(r.stop,r.start)&&e.ge(o,r.start)&&e.gt(r.stop,o)||e.ge(r.start,r.stop)&&e.ge(r.start,o)&&e.gt(o,r.stop))return f;throw t.ValueError.$factory(t.str.$factory(o)+" not in range")}throw t.ValueError.$factory(t.str.$factory(o)+" not in range")},n.$factory=function(){var r=e.args("range",3,{start:null,stop:null,step:null},["start","stop","step"],arguments,{start:null,stop:null,step:null},null,null),o=r.start,i=r.stop,a=r.step;if(null===i&&null===a){if(null==o)throw t.TypeError.$factory("range expected 1 arguments, got 0");return i=e.PyNumber_Index(o),{__class__:n,start:0,stop:i,step:1,$is_range:!0,$safe:"number"==typeof i}}if(null===a&&(a=1),o=e.PyNumber_Index(o),i=e.PyNumber_Index(i),0==(a=e.PyNumber_Index(a)))throw t.ValueError.$factory("range arg 3 must not be zero");return{__class__:n,start:o,stop:i,step:a,$is_range:!0,$safe:"number"==typeof o&&"number"==typeof i&&"number"==typeof a}},e.set_func_names(n,"builtins");var a={__class__:t.type,__mro__:[t.object],$infos:{__module__:"builtins",__name__:"slice"},$is_class:!0,$native:!0,$descriptors:{start:!0,step:!0,stop:!0}};function s(r){for(var n=["start","stop","step"],o=[],i=0;i<n.length;i++){var a=r[n[i]];if(a===t.None)o.push(a);else try{o.push(e.PyNumber_Index(a))}catch(e){throw t.TypeError.$factory("slice indices must be integers or None or have an __index__ method")}}return o}a.__eq__=function(e,t){var r=s(e),n=s(t);return r[0]==n[0]&&r[1]==n[1]&&r[2]==n[2]},a.__repr__=function(r){return e.builtins_repr_check(a,arguments),"slice("+t.str.$factory(r.start)+", "+t.str.$factory(r.stop)+", "+t.str.$factory(r.step)+")"},a.__setattr__=function(e,r,n){throw t.AttributeError.$factory("readonly attribute")},a.$conv_for_seq=function(n,o){var i,a=n.step===r?1:e.PyNumber_Index(n.step),s=e.gt(0,a),l=e.sub(o,1);if(0==a)throw t.ValueError.$factory("slice step cannot be zero");return n.start===r?i=s?l:0:(i=e.PyNumber_Index(n.start),e.gt(0,i)&&(i=e.add(i,o),e.gt(0,i)&&(i=0)),e.ge(i,o)&&(i=a<0?l:o)),n.stop===r?stop=s?-1:o:(stop=e.PyNumber_Index(n.stop),e.gt(0,stop)&&(stop=e.add(stop,o)),e.ge(stop,o)&&(stop=s?l:o)),{start:i,stop,step:a}},a.start=function(e){return e.start},a.step=function(e){return e.step},a.stop=function(e){return e.stop},a.indices=function(r,n){var o=e.args("indices",2,{self:null,length:null},["self","length"],arguments,{},null,null),i=e.$GetInt(o.length);i<0&&t.ValueError.$factory("length should not be negative");var a=r.step==t.None?1:r.step;if(a<0){var s=r.start,l=r.stop;s=s==t.None?i-1:s<0?t.max(-1,s+i):t.min(i-1,r.start),l=r.stop==t.None?-1:l<0?t.max(-1,l+i):t.min(i-1,r.stop)}else s=r.start==t.None?0:t.min(i,r.start),l=r.stop==t.None?i:t.min(i,r.stop),s<0&&(s=t.max(0,s+i)),l<0&&(l=t.max(0,l+i));return t.tuple.$factory([s,l,a])},a.$factory=function(){var r,n,o,i=e.args("slice",3,{start:null,stop:null,step:null},["start","stop","step"],arguments,{stop:null,step:null},null,null);null===i.stop&&null===i.step?(r=t.None,n=i.start,o=t.None):(r=i.start,n=i.stop,o=null===i.step?t.None:i.step);var l={__class__:a,start:r,stop:n,step:o};return s(l),l},e.set_func_names(a,"builtins"),t.range=n,t.slice=a}(__BRYTHON__),function(e){var t=e.builtins,r={},n={};function o(e,r,n){if(void 0===r){r=[];for(var o="\r\n \t",i=0,a=o.length;i<a;i++)r.push(o.charCodeAt(i))}else{if(!t.isinstance(r,l))throw t.TypeError.$factory("Type str doesn't support the buffer API");r=r.source}if("l"==n){for(i=0,a=e.source.length;i<a&&-1!=r.indexOf(e.source[i]);i++);return l.$factory(e.source.slice(i))}for(i=e.source.length-1;i>=0&&-1!=r.indexOf(e.source[i]);i--);return l.$factory(e.source.slice(0,i+1))}function i(e){return!t.isinstance(e,[l,a])}e.to_bytes=function(r){var n;if(t.isinstance(r,[l,a]))n=r.source;else{var o=e.$getattr(r,"tobytes",null);if(null===o)throw t.TypeError.$factory("object doesn't support the buffer protocol");n=e.$call(o)().source}return n};var a={__class__:t.type,__mro__:[t.object],$buffer_protocol:!0,$infos:{__module__:"builtins",__name__:"bytearray"},$is_class:!0};["__delitem__","clear","copy","count","index","pop","remove","reverse","sort"].forEach((function(e){var r;a[e]=(r=e,function(e){for(var n=[e.source],o=1,i=1,a=arguments.length;i<a;i++)n[o++]=arguments[i];return t.list[r].apply(null,n)})}));var s=e.make_iterator_class("bytearray_iterator");a.__iter__=function(e){return s.$factory(e.source)},a.__mro__=[t.object],a.__repr__=a.__str__=function(e){return"bytearray("+l.__repr__(e)+")"},a.__setitem__=function(r,n,o){if(t.isinstance(n,t.int)){if(!t.isinstance(o,t.int))throw t.TypeError.$factory("an integer is required");if(o>255)throw t.ValueError.$factory("byte must be in range(0, 256)");var i=n;if(n<0&&(i=r.source.length+i),!(i>=0&&i<r.source.length))throw t.IndexError.$factory("list index out of range");r.source[i]=o}else{if(!t.isinstance(n,t.slice))throw t.TypeError.$factory("list indices must be integer, not "+e.class_name(n));var a=n.start===t.None?0:n.start,s=n.stop===t.None?r.source.length:n.stop;a<0&&(a=r.source.length+a),s<0&&(s=r.source.length+s),r.source.splice(a,s-a);try{for(var l=t.list.$factory(o),_=l.length-1;_>=0;_--){if(!t.isinstance(l[_],t.int))throw t.TypeError.$factory("an integer is required");if(l[_]>255)throw t.ValueError.$factory("byte must be in range(0, 256)");r.source.splice(a,0,l[_])}}catch(e){throw t.TypeError.$factory("can only assign an iterable")}}},a.append=function(e,r){if(2!=arguments.length)throw t.TypeError.$factory("append takes exactly one argument ("+(arguments.length-1)+" given)");if(!t.isinstance(r,t.int))throw t.TypeError.$factory("an integer is required");if(r>255)throw t.ValueError.$factory("byte must be in range(0, 256)");e.source[e.source.length]=r},a.extend=function(e,r){if(e.in_iteration)throw t.BufferError.$factory("Existing exports of data: object cannot be re-sized");if(r.__class__===a||r.__class__===l)return r.source.forEach((function(t){e.source.push(t)})),t.None;for(var n=t.iter(r);;)try{a.__add__(e,t.next(n))}catch(e){if(e===t.StopIteration)break;throw e}return t.None},a.insert=function(e,r,n){if(3!=arguments.length)throw t.TypeError.$factory("insert takes exactly 2 arguments ("+(arguments.length-1)+" given)");if(!t.isinstance(n,t.int))throw t.TypeError.$factory("an integer is required");if(n>255)throw t.ValueError.$factory("byte must be in range(0, 256)");t.list.insert(e.source,r,n)},a.$factory=function(){for(var e=[a],t=0,r=arguments.length;t<r;t++)e.push(arguments[t]);return a.__new__.apply(null,e)};var l={__class__:t.type,__mro__:[t.object],$buffer_protocol:!0,$infos:{__module__:"builtins",__name__:"bytes"},$is_class:!0,__add__:function(e,r){if(t.isinstance(r,l))return e.__class__.$factory(e.source.concat(r.source));if(t.isinstance(r,a))return e.__class__.$factory(l.__add__(e,l.$factory(r)));if(t.isinstance(r,t.memoryview))return e.__class__.$factory(l.__add__(e,t.memoryview.tobytes(r)));throw t.TypeError.$factory("can't concat bytes to "+t.str.$factory(r))},__contains__:function(e,t){if("number"==typeof t)return e.source.indexOf(t)>-1;if(e.source.length<t.source.length)return!1;for(var r=t.source.length,n=0;n<e.source.length-t.source.length+1;n++){for(var o=!0,i=0;i<r;i++)if(t.source[n+i]!=e.source[i]){o=!1;break}if(o)return!0}return!1}},_=e.make_iterator_class("bytes_iterator");function c(e,r,n){throw t.UnicodeEncodeError.$factory("'"+e+"' codec can't encode character "+t.hex(r)+" in position "+n)}function u(e){var t=e.toLowerCase();return"windows"==t.substr(0,7)&&(t="cp"+t.substr(7)),(t.startsWith("cp")||t.startsWith("iso"))&&(t=t.replace("-","")),t.replace(/-/g,"_")}function f(n){if(void 0===r[n]){var o=t.__import__("encodings."+n);o[n].getregentry&&(r[n]=e.$getattr(o[n].getregentry(),"encode"))}}l.__iter__=function(e){return _.$factory(e.source)},l.__eq__=function(t,r){return!i(r)&&e.$getattr(t.source,"__eq__")(r.source)},l.__ge__=function(e,r){return i(r)?t.NotImplemented:t.list.__ge__(e.source,r.source)},l.__getitem__=function(e,r){if(t.isinstance(r,t.int)){var n=r;if(r<0&&(n=e.source.length+n),n>=0&&n<e.source.length)return e.source[n];throw t.IndexError.$factory("index out of range")}if(t.isinstance(r,t.slice)){var o=t.slice.$conv_for_seq(r,e.source.length),i=o.start,a=o.stop,s=o.step,_=[],c=null;if(n=0,s>0){if((a=Math.min(a,e.source.length))<=i)return l.$factory([]);for(c=i;c<a;c+=s)_[n++]=e.source[c]}else{if(a>=i)return l.$factory([]);for(a=Math.max(0,a),c=i;c>=a;c+=s)_[n++]=e.source[c]}return l.$factory(_)}if(t.isinstance(r,t.bool))return e.source.__getitem__(t.int.$factory(r))},l.__gt__=function(e,r){return i(r)?t.NotImplemented:t.list.__gt__(e.source,r.source)},l.__hash__=function(t){if(void 0===t)return l.__hashvalue__||e.$py_next_hash--;for(var r=1,n=0,o=t.source.length;n<o;n++)r=101*r+t.source[n]&4294967295;return r},l.__init__=function(){return t.None},l.__le__=function(e,r){return i(r)?t.NotImplemented:t.list.__le__(e.source,r.source)},l.__len__=function(e){return e.source.length},l.__lt__=function(e,r){return i(r)?t.NotImplemented:t.list.__lt__(e.source,r.source)},l.__mod__=function(e,r){var n=p(e,"ascii","strict"),o=t.str.__mod__(n,r);return t.str.encode(o,"ascii")},l.__mul__=function(){for(var t=e.args("__mul__",2,{self:null,other:null},["self","other"],arguments,{},null,null),r=e.PyNumber_Index(t.other),n=[],o=t.self.source,i=o.length,a=0;a<r;a++)for(var s=0;s<i;s++)n.push(o[s]);var _=l.$factory();return _.source=n,_},l.__ne__=function(e,t){return!l.__eq__(e,t)},l.__new__=function(t,r,n,o){var i=e.args("__new__",4,{cls:null,source:null,encoding:null,errors:null},["cls","source","encoding","errors"],arguments,{source:[],encoding:"utf-8",errors:"strict"},null,null);return l.$new(i.cls,i.source,i.encoding,i.errors)},l.$new=function(r,n,o,i){var a={__class__:r},s=[],l=0;if(void 0===n);else if("number"==typeof n||t.isinstance(n,t.int))for(var _=n;_--;)s[l++]=0;else if("string"==typeof n||t.isinstance(n,t.str)){if(void 0===o)throw t.TypeError.$factory("string argument without an encoding");s=d(n,o||"utf-8",i||"strict")}else for(s=t.list.$factory(n),_=0;_<s.length;_++){try{var c=t.int.$factory(s[_])}catch(r){throw t.TypeError.$factory("'"+e.class_name(s[_])+"' object cannot be interpreted as an integer")}if(c<0||c>255)throw t.ValueError.$factory("bytes must be in range(0, 256)")}return a.source=s,a.encoding=o,a.errors=i,a},l.__repr__=l.__str__=function(t){for(var r=e.special_string_repr,n="",o=0,i=t.source.length;o<i;o++){var a=t.source[o];if(void 0!==r[a])n+=r[a];else if(a<32||a>=128){var s=a.toString(16);n+="\\x"+(s=(1==s.length?"0":"")+s)}else a=="\\".charCodeAt(0)?n+="\\\\":n+=String.fromCharCode(a)}return n.indexOf("'")>-1&&-1==n.indexOf('"')?'b"'+n+'"':"b'"+n.replace(new RegExp("'","g"),"\\'")+"'"},l.__reduce_ex__=function(e){return l.__repr__(e)},l.capitalize=function(e){var t=e.source,r=t.length,n=t.slice();n[0]>96&&n[0]<123&&(n[0]-=32);for(var o=1;o<r;++o)n[o]>64&&n[o]<91&&(n[o]+=32);return l.$factory(n)},l.center=function(){var t=e.args("center",3,{self:null,width:null,fillbyte:null},["self","width","fillbyte"],arguments,{fillbyte:l.$factory([32])},null,null),r=t.width-t.self.source.length;if(r<=0)return l.$factory(t.self.source);var n=l.ljust(t.self,t.self.source.length+Math.floor(r/2),t.fillbyte);return l.rjust(n,t.width,t.fillbyte)},l.count=function(){var r=e.args("count",4,{self:null,sub:null,start:null,end:null},["self","sub","start","end"],arguments,{start:0,end:-1},null,null),n=0,o=-1,i=0;if("number"==typeof r.sub){if(r.sub<0||r.sub>255)throw t.ValueError.$factory("byte must be in range(0, 256)");i=1}else{if(!r.sub.__class__)throw t.TypeError.$factory("first argument must be a bytes-like object, not '"+e.class_name(r.sub)+"'");if(!r.sub.__class__.$buffer_protocol)throw t.TypeError.$factory("first argument must be a bytes-like object, not '"+e.class_name(r.sub)+"'");i=r.sub.source.length}do{-1!=(o=l.find(r.self,r.sub,Math.max(o+i,r.start),r.end))&&n++}while(-1!=o);return n},l.decode=function(t,r,n){var o=e.args("decode",3,{self:null,encoding:null,errors:null},["self","encoding","errors"],arguments,{encoding:"utf-8",errors:"strict"},null,null);switch(o.errors){case"strict":case"ignore":case"replace":case"surrogateescape":case"surrogatepass":case"xmlcharrefreplace":case"backslashreplace":return p(o.self,o.encoding,o.errors)}},l.endswith=function(){var r=e.args("endswith",4,{self:null,suffix:null,start:null,end:null},["self","suffix","start","end"],arguments,{start:-1,end:-1},null,null);if(t.isinstance(r.suffix,l)){for(var n=-1==r.start?r.self.source.length-r.suffix.source.length:Math.min(r.self.source.length-r.suffix.source.length,r.start),o=-1==r.end?-1==r.start?r.self.source.length:n+r.suffix.source.length:Math.min(r.self.source.length-1,r.end),i=!0,a=r.suffix.source.length-1,s=r.suffix.source.length;a>=0&&i;--a)i=r.self.source[o-s+a]==r.suffix.source[a];return i}if(t.isinstance(r.suffix,t.tuple)){for(a=0;a<r.suffix.length;++a){if(!t.isinstance(r.suffix[a],l))throw t.TypeError.$factory("endswith first arg must be bytes or a tuple of bytes, not "+e.class_name(r.suffix));if(l.endswith(r.self,r.suffix[a],r.start,r.end))return!0}return!1}throw t.TypeError.$factory("endswith first arg must be bytes or a tuple of bytes, not "+e.class_name(r.suffix))},l.expandtabs=function(){var r=e.args("expandtabs",2,{self:null,tabsize:null},["self","tabsize"],arguments,{tabsize:8},null,null),n=[];for(let e=0;e<r.tabsize;++e)n.push(32);var o=r.self.source.slice();for(let e=0;e<o.length;++e)9===o[e]&&o.splice.apply(o,[e,1].concat(n));return t.bytes.$factory(o)},l.find=function(r,n){if(2!=arguments.length)var o=e.args("find",4,{self:null,sub:null,start:null,end:null},["self","sub","start","end"],arguments,{start:0,end:-1},null,null),i=(n=o.sub,o.start),a=o.end;else i=0,a=-1;if("number"==typeof n){if(n<0||n>255)throw t.ValueError.$factory("byte must be in range(0, 256)");return r.source.slice(0,-1==a?void 0:a).indexOf(n,i)}if(!n.__class__)throw t.TypeError.$factory("first argument must be a bytes-like object, not '"+e.class_name(n)+"'");if(!n.__class__.$buffer_protocol)throw t.TypeError.$factory("first argument must be a bytes-like object, not '"+e.class_name(n)+"'");a=-1==a?r.source.length:Math.min(r.source.length,a);for(var s=n.source.length,l=i;l<=a-s;l++){for(var _=r.source.slice(l,l+s),c=!0,u=0;u<s;u++)if(_[u]!=n.source[u]){c=!1;break}if(c)return l}return-1},l.fromhex=function(){for(var r=e.args("fromhex",2,{cls:null,string:null},["cls","string"],arguments,{},null,null),n=r.string.replace(/\s/g,""),o=[],i=0;i<n.length;i+=2){if(i+2>n.length)throw t.ValueError.$factory("non-hexadecimal number found in fromhex() arg");o.push(t.int.$factory(n.substr(i,2),16))}return r.cls.$factory(o)},l.hex=function(){var t=e.args("hex",3,{self:null,sep:null,bytes_per_sep:null},["self","sep","bytes_per_sep"],arguments,{sep:"",bytes_per_sep:1},null,null),r=t.self,n=t.sep,o=t.bytes_per_sep,i="",a="0123456789abcdef",s=o,l=s,_=r.source.length;o<0?l=s=-o:0==o?n="":0==(l=_%s)&&(l=s);for(var c=0,u=l;c<_;c++){var f=r.source[c];0==u&&(i+=n,u=s),u--,i+=a[f>>4],i+=a[15&f]}return i},l.index=function(){var r=e.args("rfind",4,{self:null,sub:null,start:null,end:null},["self","sub","start","end"],arguments,{start:0,end:-1},null,null),n=l.find(r.self,r.sub,r.start,r.end);if(-1==n)throw t.ValueError.$factory("subsection not found");return n},l.isalnum=function(e){for(var t=e.source,r=t.length,n=r>0,o=0;o<r&&n;++o)n=t[o]>96&&t[o]<123||t[o]>64&&t[o]<91||t[o]>47&&t[o]<58;return n},l.isalpha=function(e){for(var t=e.source,r=t.length,n=r>0,o=0;o<r&&n;++o)n=t[o]>96&&t[o]<123||t[o]>64&&t[o]<91;return n},l.isdigit=function(e){var t=e.source,r=t.length,n=r>0;for(let e=0;e<r&&n;++e)n=t[e]>47&&t[e]<58;return n},l.islower=function(e){var t=e.source,r=t.length,n=!1;for(let e=0;e<r;++e)if(n=n||t[e]>96&&t[e]<123,t[e]>64&&t[e]<91)return!1;return n},l.isspace=function(e){var t=e.source,r=t.length;for(let e=0;e<r;++e)switch(t[e]){case 9:case 10:case 11:case 12:case 13:case 32:break;default:return!1}return!0},l.isupper=function(e){var t=e.source,r=t.length,n=!1;for(let e=0;e<r;++e)if(n=n||t[e]>64&&t[e]<91,t[e]>96&&t[e]<123)return!1;return n},l.istitle=function(e){for(var t=e.source,r=t.length,n=!1,o=!1,i=!1,a=!1,s=0;s<r;++s){if(a=t[s]>96&&t[s]<123,i=t[s]>64&&t[s]<91,(n=a||i)&&o&&i||!o&&a)return!1;o=n}return!0},l.join=function(){for(var r=e.args("join",2,{self:null,iterable:null},["self","iterable"],arguments,{}),n=r.self,o=r.iterable,i=e.$getattr(t.iter(o),"__next__"),a=n.__class__.$factory(),s=!0;;)try{var _=i();s?s=!1:a=l.__add__(a,n),a=l.__add__(a,_)}catch(e){if(t.isinstance(e,t.StopIteration))break;throw e}return a},l.lower=function(e){for(var t,r=[],n=0,o=0,i=e.source.length;o<i;o++)e.source[o]&&(r[n++]=(t=e.source[o])>=65&&t<=90?t+32:t);return l.$factory(r)},l.ljust=function(){var r=e.args("ljust",3,{self:null,width:null,fillbyte:null},["self","width","fillbyte"],arguments,{fillbyte:l.$factory([32])},null,null);if(!r.fillbyte.__class__)throw t.TypeError.$factory("argument 2 must be a byte string of length 1, not '"+e.class_name(r.fillbyte)+"'");if(!r.fillbyte.__class__.$buffer_protocol)throw t.TypeError.$factory("argument 2 must be a byte string of length 1, not '"+e.class_name(r.fillbyte)+"'");for(var n=[],o=r.width-r.self.source.length,i=0;i<o;++i)n.push(r.fillbyte.source[0]);return l.$factory(r.self.source.concat(n))},l.lstrip=function(e,t){return o(e,t,"l")},l.maketrans=function(t,r){for(var n=[],o=(r=e.to_bytes(r),0);o<256;o++)n[o]=o;o=0;for(var i=t.source.length;o<i;o++)n[t.source[o]]=r[o];return l.$factory(n)},l.partition=function(){var r=e.args("partition",2,{self:null,sep:null},["self","sep"],arguments,{},null,null);if(!r.sep.__class__)throw t.TypeError.$factory("a bytes-like object is required, not '"+e.class_name(r.sep)+"'");if(!r.sep.__class__.$buffer_protocol)throw t.TypeError.$factory("a bytes-like object is required, not '"+e.class_name(r.sep)+"'");var n=r.sep.source.length,o=r.self.source,i=l.find(r.self,r.sep);return t.tuple.$factory([l.$factory(o.slice(0,i)),l.$factory(o.slice(i,i+n)),l.$factory(o.slice(i+n))])},l.removeprefix=function(){var r=e.args("removeprefix",2,{self:null,prefix:null},["self","prefix"],arguments,{},null,null);if(!t.isinstance(r.prefix,[l,a]))throw t.ValueError.$factory(`prefix should be bytes, not '${e.class_name(r.prefix)}'`);return l.startswith(r.self,r.prefix)?l.__getitem__(r.self,t.slice.$factory(r.prefix.source.length,t.None)):l.__getitem__(r.self,t.slice.$factory(0,t.None))},l.removesuffix=function(){var r=e.args("removesuffix",2,{self:null,prefix:null},["self","suffix"],arguments,{},null,null);if(!t.isinstance(r.suffix,[l,a]))throw t.ValueError.$factory(`suffix should be bytes, not '${e.class_name(r.suffix)}'`);return l.endswith(r.self,r.suffix)?l.__getitem__(r.self,t.slice.$factory(0,r.suffix.source.length+1)):l.__getitem__(r.self,t.slice.$factory(0,t.None))},l.replace=function(){var r=e.args("replace",4,{self:null,old:null,new:null,count:null},["self","old","new","count"],arguments,{count:-1},null,null),n=[],o=r.self,i=o.source,a=i.length,s=r.old,_=r.new,c=r.count>=0?r.count:i.length;if(!r.old.__class__)throw t.TypeError.$factory("first argument must be a bytes-like object, not '"+e.class_name(r.old)+"'");if(!r.old.__class__.$buffer_protocol)throw t.TypeError.$factory("first argument must be a bytes-like object, not '"+e.class_name(r.sep)+"'");if(!r.new.__class__)throw t.TypeError.$factory("second argument must be a bytes-like object, not '"+e.class_name(r.old)+"'");if(!r.new.__class__.$buffer_protocol)throw t.TypeError.$factory("second argument must be a bytes-like object, not '"+e.class_name(r.sep)+"'");for(var u=0;u<a;u++)if(l.startswith(o,s,u)&&c){for(var f=0;f<_.source.length;f++)n.push(_.source[f]);u+=s.source.length-1,c--}else n.push(i[u]);return l.$factory(n)},l.rfind=function(r,n){if(2==arguments.length&&n.__class__===l)var o=n,i=0,a=-1;else{var s=e.args("rfind",4,{self:null,sub:null,start:null,end:null},["self","sub","start","end"],arguments,{start:0,end:-1},null,null);r=s.self,o=s.sub,i=s.start,a=s.end}if("number"==typeof o){if(o<0||o>255)throw t.ValueError.$factory("byte must be in range(0, 256)");return s.self.source.slice(i,-1==s.end?void 0:s.end).lastIndexOf(o)+i}if(!o.__class__)throw t.TypeError.$factory("first argument must be a bytes-like object, not '"+e.class_name(s.sub)+"'");if(!o.__class__.$buffer_protocol)throw t.TypeError.$factory("first argument must be a bytes-like object, not '"+e.class_name(o)+"'");a=-1==a?r.source.length:Math.min(r.source.length,a);for(var _=o.source.length,c=a-_;c>=i;--c){for(var u=r.source.slice(c,c+_),f=!0,p=0;p<_;p++)if(u[p]!=o.source[p]){f=!1;break}if(f)return c}return-1},l.rindex=function(){var r=e.args("rfind",4,{self:null,sub:null,start:null,end:null},["self","sub","start","end"],arguments,{start:0,end:-1},null,null),n=l.rfind(r.self,r.sub,r.start,r.end);if(-1==n)throw t.ValueError.$factory("subsection not found");return n},l.rjust=function(){var r=e.args("rjust",3,{self:null,width:null,fillbyte:null},["self","width","fillbyte"],arguments,{fillbyte:l.$factory([32])},null,null);if(!r.fillbyte.__class__)throw t.TypeError.$factory("argument 2 must be a byte string of length 1, not '"+e.class_name(r.fillbyte)+"'");if(!r.fillbyte.__class__.$buffer_protocol)throw t.TypeError.$factory("argument 2 must be a byte string of length 1, not '"+e.class_name(r.fillbyte)+"'");for(var n=[],o=r.width-r.self.source.length,i=0;i<o;++i)n.push(r.fillbyte.source[0]);return l.$factory(n.concat(r.self.source))},l.rpartition=function(){var r=e.args("rpartition",2,{self:null,sep:null},["self","sep"],arguments,{},null,null);if(!r.sep.__class__)throw t.TypeError.$factory("a bytes-like object is required, not '"+e.class_name(r.sep)+"'");if(!r.sep.__class__.$buffer_protocol)throw t.TypeError.$factory("a bytes-like object is required, not '"+e.class_name(r.sep)+"'");var n=r.sep.source.length,o=r.self.source,i=l.rfind(r.self,r.sep);return t.tuple.$factory([l.$factory(o.slice(0,i)),l.$factory(o.slice(i,i+n)),l.$factory(o.slice(i+n))])},l.rstrip=function(e,t){return o(e,t,"r")},l.split=function(){var r=e.args("split",2,{self:null,sep:null},["self","sep"],arguments,{sep:l.$factory([32])},null,null),n=[],o=0,i=0;if(!r.sep.__class__)throw t.TypeError.$factory("a bytes-like object is required, not '"+e.class_name(r.sep)+"'");if(!r.sep.__class__.$buffer_protocol)throw t.TypeError.$factory("a bytes-like object is required, not '"+e.class_name(r.sep)+"'");for(var a=r.sep.source,s=a.length,_=r.self.source,c=_.length;i<c;){for(var u=!0,f=0;f<s&&u;f++)_[i+f]!=a[f]&&(u=!1);u?(n.push(l.$factory(_.slice(o,i))),i=o=i+s):i++}return(u||i>o)&&n.push(l.$factory(_.slice(o,i))),n},l.splitlines=function(r){var n=e.args("splitlines",2,{self:null,keepends:null},["self","keepends"],arguments,{keepends:!1},null,null);if(!t.isinstance(n.keepends,[t.bool,t.int]))throw t.TypeError("integer argument expected, got "+e.get_class(n.keepends).__name);var o=t.int.$factory(n.keepends),i=[],a=n.self.source,s=0,_=0;if(!a.length)return i;for(;_<a.length;)_<a.length-1&&13==a[_]&&10==a[_+1]?(i.push(l.$factory(a.slice(s,o?_+2:_))),s=_+=2):13==a[_]||10==a[_]?(i.push(l.$factory(a.slice(s,o?_+1:_))),s=_+=1):_++;return s<a.length&&i.push(l.$factory(a.slice(s))),i},l.startswith=function(){var r=e.args("startswith",3,{self:null,prefix:null,start:null},["self","prefix","start"],arguments,{start:0},null,null),n=r.start;if(t.isinstance(r.prefix,l)){for(var o=!0,i=0;i<r.prefix.source.length&&o;i++)o=r.self.source[n+i]==r.prefix.source[i];return o}if(t.isinstance(r.prefix,t.tuple)){var a=[];for(i=0;i<r.prefix.length;i++){if(!t.isinstance(r.prefix[i],l))throw t.TypeError.$factory("startswith first arg must be bytes or a tuple of bytes, not "+e.class_name(r.prefix));a=a.concat(r.prefix[i].source)}var s=l.$factory(a);return l.startswith(r.self,s,n)}throw t.TypeError.$factory("startswith first arg must be bytes or a tuple of bytes, not "+e.class_name(r.prefix))},l.strip=function(e,t){var r=l.lstrip(e,t);return l.rstrip(r,t)},l.swapcase=function(e){for(var t=e.source,r=t.length,n=t.slice(),o=0;o<r;++o)n[o]>96&&n[o]<123?n[o]-=32:n[o]>64&&n[o]<91&&(n[o]+=32);return l.$factory(n)},l.title=function(e){var t=e.source,r=t.length;buffer=t.slice(),current_char_is_letter=!1,prev_char_was_letter=!1,is_uppercase=!1,is_lowercase=!1;for(var n=0;n<r;++n)is_lowercase=buffer[n]>96&&buffer[n]<123,is_uppercase=buffer[n]>64&&buffer[n]<91,current_char_is_letter=is_lowercase||is_uppercase,current_char_is_letter&&(prev_char_was_letter&&is_uppercase?buffer[n]+=32:!prev_char_was_letter&&is_lowercase&&(buffer[n]-=32)),prev_char_was_letter=current_char_is_letter;return l.$factory(buffer)},l.translate=function(r,n,o){if(void 0===o)o=[];else{if(!t.isinstance(o,l))throw t.TypeError.$factory("Type "+e.get_class(o).__name+" doesn't support the buffer API");o=o.source}var i=[],a=0;if(t.isinstance(n,l)&&256==n.source.length)for(var s=0,_=r.source.length;s<_;s++)o.indexOf(r.source[s])>-1||(i[a++]=n.source[r.source[s]]);return l.$factory(i)},l.upper=function(e){for(var t,r=[],n=0,o=0,i=e.source.length;o<i;o++)e.source[o]&&(r[n++]=(t=e.source[o])>=97&&t<=122?t-32:t);return l.$factory(r)},l.zfill=function(e,t){for(var r=e.source.slice(),n=43==r[0]||45==r[0]?1:0,o=t-e.source.length,i=[],a=0;a<o;++a)i.push(48);return r.splice.apply(r,[n,0].concat(i)),l.$factory(r)};var p=e.decode=function(r,o,i){var s="",_=r.source,c=u(o);switch(c){case"utf_8":case"utf-8":case"utf8":case"U8":case"UTF":var f,d=0;for(s="";d<_.length;){var h=_[d];if(f=null,128&h)if(h>>5==6)if(void 0===_[d+1]?f=[h,d,"end"]:128!=(192&_[d+1])&&(f=[h,d,"continuation"]),null!==f){if("ignore"!=i)throw t.UnicodeDecodeError.$factory("'utf-8' codec can't decode byte 0x"+f[0].toString(16)+"  in position "+f[1]+("end"==f[2]?": unexpected end of data":": invalid continuation byte"));d++}else{var m=31&h;m<<=6,m+=63&_[d+1],s+=String.fromCodePoint(m),d+=2}else if(h>>4==14)if(void 0===_[d+1]?f=[h,d,"end",d+1]:128!=(192&_[d+1])?f=[h,d,"continuation",d+2]:void 0===_[d+2]?f=[h,d+"-"+(d+1),"end",d+2]:128!=(192&_[d+2])&&(f=[h,d,"continuation",d+3]),null!==f)if("ignore"==i)d=f[3];else{if("surrogateescape"!=i)throw t.UnicodeDecodeError.$factory("'utf-8' codec can't decode byte 0x"+f[0].toString(16)+"  in position "+f[1]+("end"==f[2]?": unexpected end of data":": invalid continuation byte"));for(var g=d;g<f[3];g++)s+=String.fromCodePoint(56448+_[g]-128);d=f[3]}else m=15&h,m<<=12,m+=(63&_[d+1])<<6,m+=63&_[d+2],s+=String.fromCodePoint(m),d+=3;else if(h>>3==30)if(void 0===_[d+1]?f=[h,d,"end",d+1]:128!=(192&_[d+1])?f=[h,d,"continuation",d+2]:void 0===_[d+2]?f=[h,d+"-"+(d+1),"end",d+2]:128!=(192&_[d+2])?f=[h,d,"continuation",d+3]:void 0===_[d+3]?f=[h,d+"-"+(d+1)+"-"+(d+2),"end",d+3]:128!=(192&_[d+2])&&(f=[h,d,"continuation",d+3]),null!==f)if("ignore"==i)d=f[3];else{if("surrogateescape"!=i)throw t.UnicodeDecodeError.$factory("'utf-8' codec can't decode byte 0x"+f[0].toString(16)+"  in position "+f[1]+("end"==f[2]?": unexpected end of data":": invalid continuation byte"));for(g=d;g<f[3];g++)s+=String.fromCodePoint(56448+_[g]-128);d=f[3]}else m=15&h,m<<=18,m+=(63&_[d+1])<<12,m+=(63&_[d+2])<<6,m+=63&_[d+3],s+=String.fromCodePoint(m),d+=4;else if("ignore"==i)d++;else{if("surrogateescape"!=i)throw t.UnicodeDecodeError.$factory("'utf-8' codec can't decode byte 0x"+h.toString(16)+" in position "+d+": invalid start byte");s+=String.fromCodePoint(56448+_[d]-128),d++}else s+=String.fromCodePoint(h),d++}return s;case"latin_1":case"windows1252":case"iso-8859-1":case"iso8859-1":case"8859":case"cp819":case"latin":case"latin1":case"L1":_.forEach((function(e){s+=String.fromCharCode(e)}));break;case"unicode_escape":return r.__class__!==l&&r.__class__!==a||(r=p(r,"latin-1","strict")),r.replace(/\\n/g,"\n").replace(/\\a/g,"").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\t/g,"\t").replace(/\\'/g,"'").replace(/\\"/g,'"');case"raw_unicode_escape":return r.__class__!==l&&r.__class__!==a||(r=p(r,"latin-1","strict")),r.replace(/\\u([a-fA-F0-9]{4})/g,(function(e){var t=parseInt(e.substr(2),16);return String.fromCharCode(t)}));case"ascii":g=0;for(var $=_.length;g<$;g++)if((m=_[g])<=127)s+=String.fromCharCode(m);else if("ignore"!=i){var v="'ascii' codec can't decode byte 0x"+m.toString(16)+" in position "+g+": ordinal not in range(128)";throw t.UnicodeDecodeError.$factory(v)}break;default:try{!function(r){if(void 0===n[r]){var o=t.__import__("encodings."+r);o[r].getregentry&&(n[r]=e.$getattr(o[r].getregentry(),"decode"))}}(c)}catch(e){throw console.log(_,o,"error load_decoder",e),t.LookupError.$factory("unknown encoding: "+c)}return n[c](r)[0]}return s},d=e.encode=function(){var n=e.args("encode",3,{s:null,encoding:null,errors:null},["s","encoding","errors"],arguments,{encoding:"utf-8",errors:"strict"},null,null),o=n.s,i=n.encoding,a=n.errors,s=[],l=0,_=u(i);switch(_){case"utf-8":case"utf_8":case"utf8":for(var p=[],d=0,h=o.length;d<h;d++)(m=o.charCodeAt(d))<127?p.push(m):m<2047?p.push(192+(m>>6),128+(63&m)):m<65535?p.push(224+(m>>12),128+((4095&m)>>6),128+(63&m)):console.log("4 bytes");return p;case"latin":case"latin1":case"latin-1":case"latin_1":case"L1":case"iso8859_1":case"iso_8859_1":case"8859":case"cp819":case"windows1252":for(d=0,h=o.length;d<h;d++)(m=o.charCodeAt(d))<=255?s[l++]=m:"ignore"!=a&&c(i,d);break;case"ascii":for(d=0,h=o.length;d<h;d++)(m=o.charCodeAt(d))<=127?s[l++]=m:"ignore"!=a&&c(i,d);break;case"raw_unicode_escape":for(d=0,h=o.length;d<h;d++){var m;if((m=o.charCodeAt(d))<256)s[l++]=m;else{var g=m.toString(16);g.length%2&&(g="0"+g),g="\\u"+g;for(var $=0;$<g.length;$++)s[l++]=g.charCodeAt($)}}break;default:try{f(_)}catch(e){throw t.LookupError.$factory("unknown encoding: "+i)}s=r[_](o)[0].source}return s};for(var h in l.$factory=function(t,r,n){var o=e.args("bytes",3,{source:null,encoding:null,errors:null},["source","encoding","errors"],arguments,{source:[],encoding:"utf-8",errors:"strict"},null,null);return l.$new(l,o.source,o.encoding,o.errors)},l.__class__=t.type,l.$is_class=!0,l)void 0===a[h]&&"function"==typeof l[h]&&(a[h]=function(e){return function(){return l[e].apply(null,arguments)}}(h));e.set_func_names(l,"builtins"),l.fromhex=t.classmethod.$factory(l.fromhex),e.set_func_names(a,"builtins"),a.fromhex=t.classmethod.$factory(a.fromhex),t.bytes=l,t.bytearray=a}(__BRYTHON__),function($B){var _b_=$B.builtins,object=_b_.object,$N=_b_.None;function create_type(e){return $B.get_class(e).$factory()}function clone(e){var t=create_type(e);for(key in t.$items=e.$items.slice(),e.$hashes)t.$hashes[key]=e.$hashes[key];return t}var set={__class__:_b_.type,$infos:{__module__:"builtins",__name__:"set"},$is_class:!0,$native:!0,__and__:function(e,t,r){try{$test(r,t)}catch(e){return _b_.NotImplemented}for(var n=create_type(e),o=0,i=e.$items.length;o<i;o++)_b_.getattr(t,"__contains__")(e.$items[o])&&set.add(n,e.$items[o]);return n},__class_getitem__:function(e,t){return Array.isArray(t)||(t=[t]),$B.GenericAlias.$factory(e,t)},__contains__:function(e,t){if("number"==typeof t||t instanceof Number){if(isNaN(t)){for(var r=e.$items.length-1;r>=0;r--)if(isNaN(e.$items[r]))return!0;return!1}return t instanceof Number?e.$numbers.indexOf(t.valueOf())>-1:e.$items.indexOf(t)>-1}if("string"==typeof t)return e.$items.indexOf(t)>-1;var n=_b_.hash(t),o=t.__class__===_b_.tuple;if(e.$hashes[n]){r=0;for(var i=e.$hashes[n].length;r<i;r++){if(o&&e.$hashes[n][r].__class__===_b_.tuple)return!0;if($B.rich_comp("__eq__",e.$hashes[n][r],t))return!0}}return!1},__eq__:function(e,t){if(void 0===t)return e===set;if(_b_.isinstance(t,[_b_.set,_b_.frozenset])){if(t.$items.length==e.$items.length){for(var r=0,n=e.$items.length;r<n;r++)if(!1===set.__contains__(e,t.$items[r]))return!1;return!0}return!1}return _b_.NotImplemented},__format__:function(e,t){return set.__str__(e)},__ge__:function(e,t){return _b_.isinstance(t,[set,frozenset])?set.__le__(t,e):_b_.NotImplemented},__gt__:function(e,t){return _b_.isinstance(t,[set,frozenset])?set.__lt__(t,e):_b_.NotImplemented}};set.__hash__=_b_.None,set.__init__=function(e,t,r){if(void 0===r&&Array.isArray(t)){for(var n=0,o=t.length;n<o;n++)$add(e,t[n]);return $N}var i=$B.args("__init__",2,{self:null,iterable:null},["self","iterable"],arguments,{iterable:[]},null,null);if(e=i.self,t=i.iterable,_b_.isinstance(t,[set,frozenset])){for(var a in e.$items=t.$items.slice(),e.$hashes={},t.$hashes)e.$hashes[a]=t.$hashes[a];return $N}for(var s=$B.$iter(t);;)try{var l=_b_.next(s);$add(e,l)}catch(e){if(_b_.isinstance(e,_b_.StopIteration))break;throw e}return $N};var set_iterator=$B.make_iterator_class("set iterator");function set_repr(e){if(klass_name=$B.class_name(e),0===e.$items.length)return klass_name+"()";var t=klass_name+"({",r="})";"set({"==t&&(t="{",r="}");var n=[];if($B.repr.enter(e))return klass_name+"(...)";e.$items.sort();for(var o=0,i=e.$items.length;o<i;o++){var a=_b_.repr(e.$items[o]);a===e||a===e.$items[o]?n.push("{...}"):n.push(a)}return n=n.join(", "),$B.repr.leave(e),t+n+r}function $test(e,t,r){if(void 0===e&&!_b_.isinstance(t,[set,frozenset]))throw _b_.TypeError.$factory("unsupported operand type(s) for "+r+": 'set' and '"+$B.class_name(t)+"'")}function $add(e,t){var r,n=!1;if(("string"==typeof t||"number"==typeof t||t instanceof Number)&&(n=!0),n){var o=e.$items.indexOf(t);if(-1==o)if(t instanceof Number&&e.$numbers.indexOf(t.valueOf())>-1);else if("number"==typeof t&&e.$numbers.indexOf(t)>-1);else{e.$items.push(t);var i=t.valueOf();"number"==typeof i&&e.$numbers.push(i)}else t!==e.$items[o]&&e.$items.push(t)}else{var a=_b_.hash(t);if(void 0===(s=e.$hashes[a]))e.$hashes[a]=[t],e.$items.push(t);else{for(var s,l=0,_=(s=e.$hashes[a]).length;l<_;l++)if(r=s[l],$B.rich_comp("__eq__",t,r))return $N;e.$hashes[a].push(t),e.$items.push(t)}}return $N}set.__iter__=function(e){return e.$items.sort((function(e,t){var r=_b_.hash(e),n=_b_.hash(t);return r==n?0:r<n?-1:1})),set_iterator.$factory(e.$items)},set.__le__=function(e,t){if(_b_.isinstance(t,[set,frozenset])){for(var r=_b_.getattr(t,"__contains__"),n=0,o=e.$items.length;n<o;n++)if(!r(e.$items[n]))return!1;return!0}return _b_.NotImplemented},set.__len__=function(e){return e.$items.length},set.__lt__=function(e,t){return _b_.isinstance(t,[set,frozenset])?set.__le__(e,t)&&set.__len__(e)<_b_.getattr(t,"__len__")():_b_.NotImplemented},set.__mro__=[_b_.object],set.__new__=function(e){if(void 0===e)throw _b_.TypeError.$factory("set.__new__(): not enough arguments");return{__class__:e,$items:[],$numbers:[],$hashes:{}}},set.__or__=function(e,t,r){for(var n=clone(e),o=_b_.getattr($B.$iter(t),"__next__");;)try{set.add(n,o())}catch(e){if(_b_.isinstance(e,_b_.StopIteration))break;throw e}return n.__class__=e.__class__,n},set.__rand__=function(e,t){return set.__and__(e,t)},set.__reduce__=function(e){return _b_.tuple.$factory([e.__class__,_b_.tuple.$factory([e.$items]),$N])},set.__reduce_ex__=function(e,t){return set.__reduce__(e)},set.__repr__=function(e){return $B.builtins_repr_check(set,arguments),set_repr(e)},set.__rsub__=function(e,t){return set.__sub__(t,e)},set.__rxor__=function(e,t){return set.__xor__(e,t)},set.__sub__=function(e,t,r){try{$test(r,t,"-")}catch(e){return _b_.NotImplemented}for(var n=create_type(e),o=_b_.getattr(t,"__contains__"),i=[],a=0,s=e.$items.length;a<s;a++)o(e.$items[a])||i.push(e.$items[a]);return set.__init__.call(null,n,i),n},set.__xor__=function(e,t,r){try{$test(r,t,"^")}catch(e){return _b_.NotImplemented}for(var n=create_type(e),o=_b_.getattr(t,"__contains__"),i=0,a=e.$items.length;i<a;i++)o(e.$items[i])||set.add(n,e.$items[i]);for(i=0,a=t.$items.length;i<a;i++)set.__contains__(e,t.$items[i])||set.add(n,t.$items[i]);return n},$B.make_rmethods(set),set.add=function(){var e=$B.args("add",2,{self:null,item:null},["self","item"],arguments,{},null,null),t=e.self,r=e.item;return $add(t,r)},set.clear=function(){var e=$B.args("clear",1,{self:null},["self"],arguments,{},null,null);return e.self.$items=[],e.self.$numbers=[],e.self.$hashes={},$N},set.copy=function(){var e=$B.args("copy",1,{self:null},["self"],arguments,{},null,null);if(_b_.isinstance(e.self,frozenset))return e.self;var t=set.$factory();for(key in e.self.$items.forEach((function(e){t.$items.push(e)})),e.self.$numbers.forEach((function(e){t.$numbers.push(e)})),self.$hashes)t.$hashes[key]=self.$hashes[key];return t},set.difference_update=function(e){for(var t=$B.args("difference_update",1,{self:null},["self"],arguments,{},"args",null),r=0;r<t.args.length;r++)for(var n,o=set.$factory(t.args[r]),i=_b_.getattr($B.$iter(o),"__next__");;)try{var a=typeof(n=i());if("string"==a||"number"==a){var s=e.$items.indexOf(n);s>-1&&e.$items.splice(s,1)}else for(var l=0;l<e.$items.length;l++)if($B.rich_comp("__eq__",e.$items[l],n)){e.$items.splice(l,1);var _=_b_.hash(n);if(e.$hashes[_])for(var c=0;c<e.$hashes[_].length;c++)if($B.rich_comp("__eq__",e.$hashes[_][c],n)){e.$hashes[_].splice(c,1);break}}}catch(e){if(_b_.isinstance(e,_b_.StopIteration))break;throw e}return $N},set.discard=function(){var e=$B.args("discard",2,{self:null,item:null},["self","item"],arguments,{},null,null);try{set.remove(e.self,e.item)}catch(e){if(!_b_.isinstance(e,[_b_.KeyError,_b_.LookupError]))throw e}return $N},set.intersection_update=function(){for(var e=$B.args("intersection_update",1,{self:null},["self"],arguments,{},"args",null),t=e.self,r=0;r<e.args.length;r++){for(var n=[],o=set.$factory(e.args[r]),i=0;i<t.$items.length;i++){var a=t.$items[i],s=typeof a;if("string"==s||"number"==s)-1==o.$items.indexOf(a)&&n.push(i);else{var l=!1,_=_b_.hash(a);if(o.$hashes[_]){for(var c=o.$hashes[_],u=0;!l&&u<c.length;u++)$B.rich_comp("__eq__",c[u],a)&&(l=!0);if(!l)for(n.push(i),c=t.$hashes[_],u=0;!l&&u<c.length;u++)$B.rich_comp("__eq__",c[u],a)&&t.$hashes.splice(u,1)}}}for(n.sort((function(e,t){return e-t})).reverse(),i=0;i<n.length;i++)t.$items.splice(n[i],1)}return $N},set.isdisjoint=function(){for(var e=$B.args("is_disjoint",2,{self:null,other:null},["self","other"],arguments,{},null,null),t=0,r=e.self.$items.length;t<r;t++)if(_b_.getattr(e.other,"__contains__")(e.self.$items[t]))return!1;return!0},set.pop=function(e){if(0===e.$items.length)throw _b_.KeyError.$factory("pop from an empty set");var t=e.$items.pop();if("string"!=typeof t&&"number"!=typeof t)for(var r=_b_.hash(t),n=e.$hashes[r],o=0;o<n.length;o++)if($B.rich_comp("__eq__",n[o],t)){e.$hashes[r].splice(o,1);break}return t},set.remove=function(e,t){var r=$B.args("remove",2,{self:null,item:null},["self","item"],arguments,{},null,null);if(e=r.self,t=r.item,_b_.isinstance(t,set)||_b_.hash(t),"string"==typeof t||"number"==typeof t){var n=e.$items.indexOf(t);if(-1==n)throw _b_.KeyError.$factory(t);return e.$items.splice(n,1),"number"==typeof t&&e.$numbers.splice(e.$numbers.indexOf(t),1),$N}var o=_b_.hash(t);if(e.$hashes[o]){for(var i=0,a=e.$items.length;i<a;i++)if($B.rich_comp("__eq__",e.$items[i],t)){e.$items.splice(i,1),t instanceof Number&&e.$numbers.splice(e.$numbers.indexOf(t.valueOf()),1);break}for(i=0,a=e.$hashes[o].length;i<a;i++)if($B.rich_comp("__eq__",e.$hashes[o][i],t)){e.$hashes[o].splice(i,1);break}return $N}throw _b_.KeyError.$factory(t)},set.symmetric_difference_update=function(e,t){for(var r,n=$B.args("symmetric_difference_update",2,{self:null,s:null},["self","s"],arguments,{},null,null),o=(e=n.self,t=n.s,_b_.getattr($B.$iter(t),"__next__")),i=[],a=[];;)try{var s=typeof(r=o());if("string"==s||"number"==s){var l=e.$items.indexOf(r);l>-1?i.push(l):a.push(r)}else{for(var _=!1,c=0;!_&&c<e.$items.length;c++)$B.rich_comp("__eq__",e.$items[c],r)&&(i.push(c),_=!0);_||a.push(r)}}catch(e){if(_b_.isinstance(e,_b_.StopIteration))break;throw e}i.sort((function(e,t){return e-t})).reverse();for(var u=0;u<i.length;u++)i[u]!=i[u-1]&&e.$items.splice(i[u],1);for(u=0;u<a.length;u++)set.add(e,a[u]);return $N},set.update=function(e){for(var t=$B.args("update",1,{self:null},["self"],arguments,{},"args",null),r=0;r<t.args.length;r++)for(var n=set.$factory(t.args[r]),o=0,i=n.$items.length;o<i;o++)$add(e,n.$items[o]);return $N},set.difference=function(){var e=$B.args("difference",1,{self:null},["self"],arguments,{},"args",null);if(0==e.args.length)return set.copy(e.self);for(var t=clone(e.self),r=0;r<e.args.length;r++)t=set.__sub__(t,set.$factory(e.args[r]),!0);return t};var fc=set.difference+"";function $accept_only_set(e,t){return function(r,n,o){return $test(o,n,t),e(r,n),r}}eval("set.intersection = "+fc.replace(/difference/g,"intersection").replace("__sub__","__and__")),eval("set.symmetric_difference = "+fc.replace(/difference/g,"symmetric_difference").replace("__sub__","__xor__")),eval("set.union = "+fc.replace(/difference/g,"union").replace("__sub__","__or__")),set.issubset=function(){for(var e=$B.args("issubset",2,{self:null,other:null},["self","other"],arguments,{},"args",null),t=_b_.getattr(e.other,"__contains__"),r=0,n=e.self.$items.length;r<n;r++)if(!t(e.self.$items[r]))return!1;return!0},set.issuperset=function(){for(var e=$B.args("issuperset",2,{self:null,other:null},["self","other"],arguments,{},"args",null),t=_b_.getattr(e.self,"__contains__"),r=$B.$iter(e.other);;)try{var n=_b_.next(r);if(!t(n))return!1}catch(e){if(_b_.isinstance(e,_b_.StopIteration))return!0;throw e}return!0},set.__iand__=$accept_only_set(set.intersection_update,"&="),set.__isub__=$accept_only_set(set.difference_update,"-="),set.__ixor__=$accept_only_set(set.symmetric_difference_update,"^="),set.__ior__=$accept_only_set(set.update,"|="),set.$factory=function(){var e={__class__:set,$simple:!0,$items:[],$numbers:[],$hashes:{}},t=[e].concat(Array.prototype.slice.call(arguments));return set.__init__.apply(null,t),e},$B.set_func_names(set,"builtins"),set.__class_getitem__=_b_.classmethod.$factory(set.__class_getitem__);var frozenset={__class__:_b_.type,__mro__:[object],$infos:{__module__:"builtins",__name__:"frozenset"},$is_class:!0,$native:!0};for(var attr in set)switch(attr){case"add":case"clear":case"discard":case"pop":case"remove":case"update":break;default:null==frozenset[attr]&&("function"==typeof set[attr]?frozenset[attr]=function(e){return function(){return set[e].apply(null,arguments)}}(attr):frozenset[attr]=set[attr])}frozenset.__hash__=function(e){if(void 0===e)return frozenset.__hashvalue__||$B.$py_next_hash--;if(void 0!==e.__hashvalue__)return e.__hashvalue__;var t=1927868237;t*=e.$items.length;for(var r=0,n=e.$items.length;r<n;r++){var o=_b_.hash(e.$items[r]);t^=3644798167*(89869747^o^o<<16)}return-1==(t=69069*t+907133923)&&(t=590923713),e.__hashvalue__=t},frozenset.__new__=function(e){if(void 0===e)throw _b_.TypeError.$factory("frozenset.__new__(): not enough arguments");return{__class__:e,$simple:!0,$items:[],$numbers:[],$hashes:{}}},frozenset.__repr__=function(e){return $B.builtins_repr_check(frozenset,arguments),set_repr(e)};var singleton_id=Math.floor(Math.random()*Math.pow(2,40));function empty_frozenset(){var e=frozenset.__new__(frozenset);return e.$id=singleton_id,e}frozenset.$factory=function(){var e=$B.args("frozenset",1,{iterable:null},["iterable"],arguments,{iterable:null},null,null);if(null===e.iterable)return empty_frozenset();if(e.iterable.__class__==frozenset)return e.iterable;var t=set.$factory(e.iterable);return 0==t.$items.length?empty_frozenset():(t.__class__=frozenset,t)},$B.set_func_names(frozenset,"builtins"),_b_.set=set,_b_.frozenset=frozenset}(__BRYTHON__),function($B){var _b_=$B.builtins,object=_b_.object,_window=self;function to_simple(e){switch(typeof e){case"string":case"number":return e;case"boolean":return e?"true":"false";case"object":if(e===_b_.None)return"null";if(e instanceof Number)return e.valueOf();if(e instanceof String)return e.valueOf();default:throw console.log("erreur",e),_b_.TypeError.$factory("keys must be str, int, float, bool or None, not "+$B.class_name(e))}}$B.pyobj2structuredclone=function(e,t){if(t=void 0===t||t,"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof String)return e;if(e instanceof Number)return e.valueOf();if(e===_b_.None)return null;if(Array.isArray(e)||e.__class__===_b_.list||e.__class__===_b_.tuple){for(var r=[],n=0,o=e.length;n<o;n++)r.push($B.pyobj2structuredclone(e[n]));return r}if(_b_.isinstance(e,_b_.dict)){if(t&&(Object.keys(e.$numeric_dict).length>0||Object.keys(e.$object_dict).length>0))throw _b_.TypeError.$factory("a dictionary with non-string keys does not support structured clone");var i=$B.dict_to_list(e);for(r={},n=0,o=i.length;n<o;n++)r[to_simple(i[n][0])]=$B.pyobj2structuredclone(i[n][1]);return r}return e},$B.structuredclone2pyobj=function(e){if(null===e)return _b_.None;if(void 0===e)return $B.Undefined;if("boolean"==typeof e||"number"==typeof e||"string"==typeof e)return e;if(e instanceof Number||e instanceof String)return e.valueOf();if(Array.isArray(e)||e.__class__===_b_.list||e.__class__===_b_.tuple){for(var t=_b_.list.$factory(),r=0,n=e.length;r<n;r++)t.push($B.structuredclone2pyobj(e[r]));return t}if("object"==typeof e){for(var o in t=$B.empty_dict(),e)_b_.dict.$setitem(t,o,$B.structuredclone2pyobj(e[o]));return t}throw console.log(e,Array.isArray(e),e.__class__,_b_.list,e.__class__===_b_.list),_b_.TypeError.$factory(_b_.str.$factory(e)+" does not support the structured clone algorithm")};var JSConstructor={__class__:_b_.type,__mro__:[object],$infos:{__module__:"<javascript>",__name__:"JSConstructor"},$is_class:!0,__call__:function(e){return function(){for(var t=[null],r=0,n=arguments.length;r<n;r++)t.push(pyobj2jsobj(arguments[r]));var o=e.func.bind.apply(e.func,t),i=new o;return $B.$JS2Py(i)}},__getattribute__:function(e,t){return"__call__"==t?function(){for(var t=[null],r=0,n=arguments.length;r<n;r++)t.push(pyobj2jsobj(arguments[r]));var o=e.func.bind.apply(e.func,t),i=new o;return $B.$JS2Py(i)}:JSObject.__getattribute__(e,t)},$factory:function(e){return{__class__:JSConstructor,js:e,func:e.js_func}}},jsobj2pyobj=$B.jsobj2pyobj=function(e){switch(e){case!0:case!1:return e}return void 0===e?$B.Undefined:null===e?_b_.None:Array.isArray(e)?_b_.list.$factory(e.map(jsobj2pyobj)):"number"==typeof e?-1==e.toString().indexOf(".")?_b_.int.$factory(e):_b_.float.$factory(e):"string"==typeof e?$B.String(e):"function"==typeof e?function(){for(var t=[],r=0,n=arguments.length;r<n;r++)t.push(pyobj2jsobj(arguments[r]));return jsobj2pyobj(e.apply(null,t))}:"kw"===e.$nat?e:$B.$isNode(e)?$B.DOMNode.$factory(e):$B.JSObj.$factory(e)},pyobj2jsobj=$B.pyobj2jsobj=function(e){if(!0===e||!1===e)return e;if(e===_b_.None)return null;if(e!==$B.Undefined){var t=$B.get_class(e);if(void 0===t)return e;if(t===JSConstructor)return void 0!==e.js_func?e.js_func:e.js;if(t===$B.DOMNode||t.__mro__.indexOf($B.DOMNode)>-1)return e;if([_b_.list,_b_.tuple].indexOf(t)>-1){var r=[];return e.forEach((function(e){r.push(pyobj2jsobj(e))})),r}if(t===_b_.dict||_b_.issubclass(t,_b_.dict)){var n={};return _b_.list.$factory(_b_.dict.items(e)).forEach((function(e){"function"==typeof e[1]&&e[1].bind(n),n[e[0]]=pyobj2jsobj(e[1])})),n}return t===_b_.float||t===_b_.str?e.valueOf():t===$B.Function||t===$B.method?e.prototype&&e.prototype.constructor===e&&!e.$is_func?e:function(){try{for(var t=[],r=0;r<arguments.length;r++)void 0===arguments[r]?t.push(_b_.None):t.push(jsobj2pyobj(arguments[r]));if(e.prototype.constructor!==e||e.$is_func)n=e.apply(this,t);else var n=new e(...t);return pyobj2jsobj(n)}catch(e){throw console.log(e),console.log($B.$getattr(e,"info")),console.log($B.class_name(e)+":",e.args.length>0?e.args[0]:""),e}}:e}};function pyargs2jsargs(e){for(var t=[],r=0,n=e.length;r<n;r++){var o=e[r];if(null!=o&&void 0!==o.$nat){var i=o.kw;if(Array.isArray(i)&&(i=$B.extend(js_attr.name,...i)),Object.keys(i).length>0)throw _b_.TypeError.$factory("A Javascript function can't take keyword arguments")}else t.push($B.pyobj2jsobj(o))}return t}$B.JSConstructor=JSConstructor,$B.JSObj=$B.make_class("JSObj",(function(e){if(Array.isArray(e));else if("function"==typeof e)e.$is_js_func=!0,e.__new__=function(){return new e.$js_func(...arguments)};else if("number"==typeof e&&!Number.isInteger(e))return new Number(e);return e})),$B.JSObj.__sub__=function(e,t){if("bigint"==typeof e&&"bigint"==typeof t)return e-t;throw _b_.TypeError.$factory("unsupported operand type(s) for - : '"+$B.class_name(e)+"' and '"+$B.class_name(t)+"'")};var ops={"+":"__add__","*":"__mul__","**":"__pow__","%":"__mod__"};for(var op in ops)eval("$B.JSObj."+ops[op]+" = "+($B.JSObj.__sub__+"").replace(/-/g,op));$B.JSObj.__eq__=function(e,t){switch(typeof e){case"object":if(void 0!==e.__eq__)return e.__eq__(t);if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e)if(!$B.JSObj.__eq__(e[r],t[r]))return!1;default:return e===t}},$B.JSObj.__ne__=function(e,t){return!$B.JSObj.__eq__(e,t)},$B.JSObj.__getattribute__=function(e,t){if("new"==t&&"function"==typeof e)return e.$js_func?function(){var t=pyargs2jsargs(arguments);return $B.JSObj.$factory(new e.$js_func(...t))}:function(){var t=pyargs2jsargs(arguments);return $B.JSObj.$factory(new e(...t))};var r=e[t];if(null==r&&"function"==typeof e&&e.$js_func&&(r=e.$js_func[t]),void 0===r){var n;if("function"==typeof e.getNamedItem&&void 0!==(n=e.getNamedItem(t)))return $B.JSObj.$factory(n);var o=$B.get_class(e);if(o&&o[t]){var i=o[t];return"function"==typeof i?function(){for(var t=[e],r=0,n=arguments.length;r<n;r++)t.push(arguments[r]);return $B.JSObj.$factory(i.apply(null,t))}:i}if("bind"==t&&"function"==typeof e.addEventListener)return function(t,r){return e.addEventListener(t,r)};throw $B.attr_error(t,e)}return"function"==typeof r?((n=function(){var n=pyargs2jsargs(arguments),o=e.$js_func||e;try{var i=r.apply(o,n)}catch(o){throw console.log("error",o),console.log("attribute",t,"of self",e,r,n,arguments),o}return void 0===i?$B.Undefined:null===i?_b_.None:$B.JSObj.$factory(i)}).prototype=r.prototype,n.$js_func=r,n.__mro__=[_b_.object],n.$infos={__name__:r.name,__qualname__:r.name},$B.frames_stack.length>0&&(n.$infos.__module__=$B.last($B.frames_stack)[3].__name__),$B.JSObj.$factory(n)):$B.JSObj.$factory(r)},$B.JSObj.__setattr__=function(e,t,r){return e[t]=$B.pyobj2structuredclone(r),_b_.None},$B.JSObj.__getitem__=function(e,t){if("string"==typeof t)return $B.JSObj.__getattribute__(e,t);if("number"==typeof t){if(void 0!==e[t])return $B.JSObj.$factory(e[t]);if("number"==typeof e.length&&("number"==typeof t||"boolean"==typeof t)&&"function"==typeof e.item){var r=_b_.int.$factory(t);if(r<0&&(r+=e.length),null===(o=e.item(r)))throw _b_.IndexError.$factory(r);return $B.JSObj.$factory(o)}}else if(t.__class__===_b_.slice&&"function"==typeof e.item){for(var n=_b_.slice.$conv_for_seq(t,e.length),o=[],i=n.start;i<n.stop;i+=n.step)o.push(e.item(i));return o}throw _b_.KeyError.$factory(r)},$B.JSObj.__setitem__=$B.JSObj.__setattr__;var JSObj_iterator=$B.make_iterator_class("JS object iterator");$B.JSObj.__iter__=function(e){var t=[];if(_window.Symbol&&void 0!==e[Symbol.iterator]){if(t=[],void 0!==e.next)for(;;){var r=e.next();if(r.done)break;t.push($B.JSObj.$factory(r.value))}else if(void 0!==e.length&&void 0!==e.item)for(var n=0;n<e.length;n++)t.push($B.JSObj.$factory(e.item(n)));return JSObj_iterator.$factory(t)}if(void 0!==e.length&&void 0!==e.item){for(n=0;n<e.length;n++)t.push($B.JSObj.$factory(e.js.item(n)));return JSObj_iterator.$factory(t)}return JSObj_iterator.$factory(Object.keys(e))},$B.JSObj.__len__=function(e){if("number"==typeof e.length)return e.length;throw $B.attr_error("__len__",e)},$B.JSObj.__repr__=$B.JSObj.__str__=function(e){return"<Javascript "+e.constructor.name+" object: "+e.toString()+">"},$B.JSObj.bind=function(e,t,r){return e.addEventListener(t,(function(e){return r(jsobj2pyobj(e))})),_b_.None},$B.JSObj.to_dict=function(e){return $B.structuredclone2pyobj(e)},$B.set_func_names($B.JSObj,"builtins"),$B.JSMeta=$B.make_class("JSMeta"),$B.JSMeta.__call__=function(e){for(var t=[],r=arguments[0],n=1,o=arguments.length;n<o;n++)t.push(arguments[n]);var i=_b_.type.__getattribute__(r,"__new__"),a=i.apply(null,arguments);if(a instanceof e.__mro__[0].$js_func){var s=_b_.type.__getattribute__(r,"__init__");if(s!==_b_.object.__init__){var l=[a].concat(t);s.apply(null,l)}}return a},$B.JSMeta.__mro__=[_b_.type,_b_.object],$B.JSMeta.__getattribute__=function(e,t){return void 0!==e[t]?e[t]:void 0!==$B.JSMeta[t]?$B.JSMeta[t]:_b_.type.__getattribute__(e,t)},$B.JSMeta.__init_subclass__=function(){},$B.JSMeta.__new__=function(metaclass,class_name,bases,cl_dict){eval("var "+class_name+" = function(){\n        if(cl_dict.$string_dict.__init__){\n            var args = [this]\n            for(var i = 0, len = arguments.length; i < len; i++){\n                args.push(arguments[i])\n            }\n            cl_dict.$string_dict.__init__[0].apply(this, args)\n        }else{\n            return new bases[0].$js_func(...arguments)\n        }\n    }");var new_js_class=eval(class_name);return new_js_class.prototype=Object.create(bases[0].$js_func.prototype),new_js_class.prototype.constructor=new_js_class,new_js_class.__mro__=[bases[0],_b_.type],new_js_class.$is_js_class=!0,new_js_class},$B.set_func_names($B.JSMeta,"builtins")}(__BRYTHON__),function(e){e.stdlib={};for(var t=["VFS_import","__future__","_codecs","_codecs_jp","_collections","_collections_abc","_compat_pickle","_compression","_contextvars","_csv","_dummy_thread","_frozen_importlib","_functools","_imp","_io","_markupbase","_multibytecodec","_operator","_py_abc","_pydecimal","_queue","_random","_signal","_socket","_sre","_struct","_sysconfigdata","_sysconfigdata_0_brython_","_testcapi","_thread","_threading_local","_weakref","_weakrefset","abc","antigravity","argparse","ast","atexit","base64","bdb","binascii","bisect","browser.aio","browser.ajax","browser.highlight","browser.html","browser.idbcache","browser.indexed_db","browser.local_storage","browser.markdown","browser.object_storage","browser.session_storage","browser.svg","browser.template","browser.timer","browser.ui","browser.webcomponent","browser.websocket","browser.webworker","browser.worker","calendar","cmath","cmd","code","codecs","codeop","colorsys","configparser","contextlib","contextvars","copy","copyreg","csv","dataclasses","datetime","decimal","difflib","doctest","enum","errno","external_import","faulthandler","fnmatch","formatter","fractions","functools","gc","genericpath","getopt","getpass","gettext","glob","gzip","heapq","hmac","imp","inspect","interpreter","io","ipaddress","itertools","json","keyword","linecache","locale","mimetypes","nntplib","ntpath","numbers","opcode","operator","optparse","os","pathlib","pdb","pickle","pkgutil","platform","posixpath","pprint","profile","pwd","py_compile","pydoc","queue","quopri","re","reprlib","select","selectors","shlex","shutil","signal","site","site-packages.__future__","site-packages.docs","site-packages.header","site-packages.test_sp","socket","sre_compile","sre_constants","sre_parse","stat","statistics","string","stringprep","struct","subprocess","sys","sysconfig","tabnanny","tarfile","tb","tempfile","test.namespace_pkgs.module_and_namespace_package.a_test","textwrap","this","threading","time","timeit","token","tokenize","traceback","turtle","types","typing","uu","uuid","warnings","weakref","webbrowser","zipfile","zipimport","zlib"],r=0;r<t.length;r++)e.stdlib[t[r]]=["py"];var n=["_aio","_ajax","_ast","_base64","_binascii","_io_classes","_json","_jsre","_locale","_multiprocessing","_posixsubprocess","_profile","_sre_utils","_string","_strptime","_svg","_webcomponent","_webworker","_zlib_utils","aes","array","bry_re","builtins","dis","encoding_cp932","hashlib","hmac-md5","hmac-ripemd160","hmac-sha1","hmac-sha224","hmac-sha256","hmac-sha3","hmac-sha384","hmac-sha512","html_parser","long_int","marshal","math","md5","modulefinder","pbkdf2","posix","python_re","rabbit","rabbit-legacy","random","rc4","ripemd160","sha1","sha224","sha256","sha3","sha384","sha512","tripledes","unicodedata"];for(r=0;r<n.length;r++)e.stdlib[n[r]]=["js"];var o=["browser.widgets","collections","concurrent","concurrent.futures","email","email.mime","encodings","html","http","importlib","logging","multiprocessing","multiprocessing.dummy","pydoc_data","site-packages.foobar","site-packages.simpleaio","site-packages.ui","test","test.encoded_modules","test.leakers","test.namespace_pkgs.not_a_namespace_pkg.foo","test.support","test.test_email","test.test_importlib","test.test_importlib.builtin","test.test_importlib.extension","test.test_importlib.frozen","test.test_importlib.import_","test.test_importlib.source","test.test_json","test.tracedmodules","unittest","unittest.test","unittest.test.testmock","urllib"];for(r=0;r<o.length;r++)e.stdlib[o[r]]=["py",!0]}(__BRYTHON__),function($B){var _b_=$B.builtins,_window=self,Module=$B.module=$B.make_class("module",(function(e,t,r){var n=Object.create(null);return n.__class__=Module,n.__name__=e,n.__doc__=t||_b_.None,n.__package__=r||_b_.None,n}));function $download_module(e,t,r){var n=new XMLHttpRequest,o="?v="+(new Date).getTime(),i=null,a=e.__name__,s=_window.setTimeout((function(){n.abort()}),5e3);if($B.$options.cache?n.open("GET",t,!1):n.open("GET",t+o,!1),n.send(),$B.$CORS?i=200==n.status||0==n.status?n.responseText:_b_.ModuleNotFoundError.$factory("No module named '"+a+"'"):4==n.readyState&&(200==n.status?(i=n.responseText,e.$last_modified=n.getResponseHeader("Last-Modified")):(console.info("Error "+n.status+" means that Python module "+a+" was not found at url "+t),i=_b_.ModuleNotFoundError.$factory("No module named '"+a+"'"))),_window.clearTimeout(s),null==i)throw _b_.ModuleNotFoundError.$factory("No module named '"+a+"' (res is null)");if(i.constructor===Error)throw i;return i}function import_js(e,t){try{var r=$download_module(e,t,void 0)}catch(e){return null}return run_js(r,t,e),!0}function run_js(e,t,r){var n="$locals_"+r.__name__.replace(/\./g,"_");try{var o=new Function(n,e+";\nreturn $module")(r);$B.$options.store&&(r.$js=e)}catch(e){throw console.log(e),console.log(t,r),e}for(var i in o.__name__=r.__name__,o)"function"==typeof o[i]&&(o[i].$infos={__module__:r.__name__,__name__:i,__qualname__:i},o[i].$in_js_module=!0);if(void 0!==r){for(var i in o)r[i]=o[i];(o=r).__class__=Module}else o.__class__=Module,o.__name__=r.__name__,o.__repr__=o.__str__=function(){return $B.builtin_module_names.indexOf(r.name)>-1?"<module '"+r.__name__+"' (built-in)>":"<module '"+r.__name__+"' from "+t+" >"},"builtins"!=r.name&&(o.__file__=t);return $B.imported[r.__name__]=o,!0}function show_ns(){for(var kk=Object.keys(_window),i=0,len=kk.length;i<len;i++)console.log(kk[i]),"$"==kk[i].charAt(0)&&console.log(eval(kk[i]));console.log("---")}function run_py(module_contents,path,module,compiled){$B.file_cache[path]=module_contents;var root,js,mod_name=module.__name__;if(!compiled){var $Node=$B.$Node,$NodeJSCtx=$B.$NodeJSCtx,src={src:module_contents,has_annotations:!1};root=$B.py2js(src,module,module.__name__,$B.builtins_scope),void 0!==module.__package__&&(root.binding.__package__=!0)}try{js=compiled?module_contents:root.to_js(),10==$B.$options.debug&&(console.log("code for module "+module.__name__),console.log(js));var src=js;js="var $module = (function(){\n"+js+"return $locals_"+module.__name__.replace(/\./g,"_")+"})(__BRYTHON__)\nreturn $module";var module_id="$locals_"+module.__name__.replace(/\./g,"_"),$module=new Function(module_id,js)(module)}catch(e){if($B.debug>1){for(var attr in console.log(e+" for module "+module.__name__),console.log("module",module),console.log(root),$B.debug>1&&console.log(js),e)console.log(attr,e[attr]);console.log($B.$getattr(e,"info","[no info]")),console.log("message: "+e.$message),console.log("filename: "+e.fileName),console.log("linenum: "+e.lineNumber)}throw $B.debug>0&&console.log("line info "+$B.line_info),e}finally{$B.clear_ns(module.__name__)}try{var mod=eval("$module");for(var attr in mod)module[attr]=mod[attr];return module.__initializing__=!1,$B.imported[module.__name__]=module,{content:src,name:mod_name,imports:Object.keys(root.imports).join(",")}}catch(e){for(var attr in console.log(e+"  for module "+module.__name__),e)console.log(attr+" "+e[attr]);throw $B.debug>0&&console.log("line info "+__BRYTHON__.line_info),e}}Module.__new__=function(e,t,r,n){return{__class__:e,__name__:t,__doc__:r||_b_.None,__package__:n||_b_.None}},Module.__repr__=Module.__str__=function(e){var t="<module "+e.__name__;return void 0===e.__file__&&(t+=" (built-in)"),t+">"},Module.__setattr__=function(e,t,r){"__builtins__"==e.__name__?$B.builtins[t]=r:e[t]=r},$B.set_func_names(Module,"builtins"),$B.$download_module=$download_module,$B.run_py=run_py,$B.run_js=run_js;var ModuleSpec=$B.make_class("ModuleSpec",(function(e){return e.__class__=ModuleSpec,e}));function parent_package(e){var t=e.split(".");return t.pop(),t.join(".")}ModuleSpec.__str__=ModuleSpec.__repr__=function(e){var t=`ModuleSpec(name='${e.name}', loader=${_b_.str.$factory(e.loader)}, origin='${e.origin}'`;return e.submodule_search_locations!==_b_.None&&(t+=`, submodule_search_locations=${_b_.str.$factory(e.submodule_search_locations)}`),t+")"},$B.set_func_names(ModuleSpec,"builtins");var VFSFinder=$B.make_class("VFSFinder",(function(){return{__class__:VFSFinder}}));for(var method in VFSFinder.find_spec=function(e,t,r){var n,o,i;if(!$B.use_VFS)return _b_.None;if(void 0===(n=$B.VFS[t]))return _b_.None;if(o=n[3]||!1,i=n.timestamp,n){var a=$B.builtin_module_names.indexOf(t)>-1;return ModuleSpec.$factory({name:t,loader:VFSLoader.$factory(),origin:a?"built-in":"brython_stdlib",submodule_search_locations:o?[]:_b_.None,loader_state:{stored:n,timestamp:i},cached:_b_.None,parent:o?t:parent_package(t),has_location:_b_.False})}},$B.set_func_names(VFSFinder,"<import>"),VFSFinder)"function"==typeof VFSFinder[method]&&(VFSFinder[method]=_b_.classmethod.$factory(VFSFinder[method]));VFSLoader=$B.make_class("VFSLoader",(function(){return{__class__:VFSLoader}})),VFSLoader.create_module=function(e,t){return _b_.None},VFSLoader.exec_module=function(e,t){var r=t.__spec__.loader_state.stored,n=t.__spec__.loader_state.timestamp;delete t.__spec__.loader_state;var o=r[0],i=r[1],a=r[2];t.$is_package=r[3]||!1;var s="VFS."+t.__name__;if(s+=t.$is_package?"/__init__.py":o,t.__file__=s,$B.file_cache[t.__file__]=$B.VFS[t.__name__][1],".js"==o)run_js(i,t.__path__,t);else{if($B.precompiled.hasOwnProperty(t.__name__)){$B.debug>1&&console.info("load",t.__name__,"from precompiled");for(var l=t.__name__.split("."),_=0;_<l.length;_++){var c=l.slice(0,_+1).join(".");if(!$B.imported.hasOwnProperty(c)||!$B.imported[c].__initialized__){var u=$B.precompiled[c],f=t.$is_package;if(void 0!==u){Array.isArray(u)&&(u=u[0]);var p=$B.imported[c]=Module.$factory(c,void 0,f);p.__initialized__=!0,f?(p.__path__="<stdlib>",p.__package__=c):((v=c.split(".")).pop(),p.__package__=v.join(".")),p.__file__=s;try{var d=c.replace(/\./g,"_");u+="return $locals_"+d;var h=new Function("$locals_"+d,u)(p)}catch(e){if($B.debug>1){for(var m in console.log("error in module",p),console.log(e),e)console.log(m,e[m]);console.log(Object.keys($B.imported)),$B.debug>2&&console.log(t,"mod_js",u)}throw e}for(var g in h)p[g]=h[g];h.__file__=s,_>0&&$B.builtins.setattr($B.imported[l.slice(0,_).join(".")],l[_],h)}}}return h}var $=t.__name__;$B.debug>1&&console.log("run Python code from VFS",$);var v,b=run_py(i,t.__path__,t);b.imports=a.join(","),b.is_package=t.$is_package,b.timestamp=$B.timestamp,b.source_ts=n,$B.precompiled[$]=b.is_package?[b.content]:b.content,(v=$.split(".")).length>1&&v.pop(),$B.$options.indexedDB&&$B.indexedDB&&$B.idb_name&&(indexedDB.open($B.idb_name).onsuccess=function(e){var r=e.target.result.transaction("modules","readwrite").objectStore("modules"),n=(r.openCursor(),r.put(b));n.onsuccess=function(){$B.debug>1&&console.info(t.__name__,"stored in db")},n.onerror=function(){console.info("could not store "+t.__name__)}})}},$B.set_func_names(VFSLoader,"builtins");var finder_cpython={__class__:_b_.type,__mro__:[_b_.object],$infos:{__module__:"builtins",__name__:"CPythonFinder"},create_module:function(e,t){return _b_.None},exec_module:function(e,t){console.log("exec PYthon module",t);var r=t.__spec__.loader_state,n=r.content;delete t.__spec__.loader_state,t.$is_package=r.is_package,t.__file__=r.__file__,$B.file_cache[t.__file__]=n;var o=t.__name__;$B.debug>1&&console.log("run Python code from CPython",o),run_py(n,t.__path__,t)},find_module:function(e,t,r){return{__class__:Loader,load_module:function(t,r){var n=e.find_spec(e,t,r),o=Module.$factory(t);$B.imported[t]=o,o.__spec__=n,e.exec_module(e,o)}}},find_spec:function(e,t,r){console.log("finder cpython",t);var n,o=new XMLHttpRequest,i="/cpython_import?module="+t;return o.open("GET",i,!1),o.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var r=JSON.parse(this.responseText);n=ModuleSpec.$factory({name:t,loader:e,origin:"CPython",submodule_search_locations:r.is_package?[]:_b_.None,loader_state:{content:r.content},cached:_b_.None,parent:r.is_package?t:parent_package(t),has_location:_b_.False})}},o.send(),n}};for(var method in $B.set_func_names(finder_cpython,"<import>"),finder_cpython)"function"==typeof finder_cpython[method]&&(finder_cpython[method]=_b_.classmethod.$factory(finder_cpython[method]));finder_cpython.$factory=function(){return{__class__:finder_cpython}};var StdlibStaticFinder=$B.make_class("StdlibStaticFinder",(function(){return{__class__:StdlibStaticFinder}}));for(var method in StdlibStaticFinder.find_spec=function(e,t,r){if($B.stdlib&&$B.$options.static_stdlib_import){var n=$B.stdlib[t];if(void 0===n){var o=t.split(".");if(o.length>1){o.pop();var i=$B.stdlib[o.join(".")];i&&i[1]&&(n=["py"])}}if(void 0!==n){var a=n[0],s=void 0!==n[1],l={ext:a,is_package:s,path:(r=$B.brython_path+("py"==a?"Lib/":"libs/")+t.replace(/\./g,"/"))+(s?"/__init__.py":"py"==a?".py":".js"),address:n},_=Module.$factory(t);return l.code=$download_module(_,l.path),ModuleSpec.$factory({name:t,loader:PathLoader.$factory(),origin:l.path,submodule_search_locations:s?[r]:_b_.None,loader_state:l,cached:_b_.None,parent:s?t:parent_package(t),has_location:_b_.True})}}return _b_.None},$B.set_func_names(StdlibStaticFinder,"<import>"),StdlibStaticFinder)"function"==typeof StdlibStaticFinder[method]&&(StdlibStaticFinder[method]=_b_.classmethod.$factory(StdlibStaticFinder[method]));StdlibStaticFinder.$factory=function(){return{__class__:StdlibStaticFinder}};var PathFinder=$B.make_class("PathFinder",(function(){return{__class__:PathFinder}}));for(var method in PathFinder.find_spec=function(e,t,r){if($B.VFS&&$B.VFS[t])return _b_.None;$B.is_none(r)&&(r=$B.path);for(var n=0,o=r.length;n<o;++n){var i=r[n];"/"!=i[i.length-1]&&(i+="/");var a=$B.path_importer_cache[i];if(void 0===a)for(var s=0,l=$B.path_hooks.length;s<l;++s){var _=$B.path_hooks[s];try{a=$B.$call(_)(i),$B.path_importer_cache[i]=a;break}catch(e){if(e.__class__!==_b_.ImportError)throw e}}if(!$B.is_none(a)){var c=$B.$getattr(a,"find_spec"),u=$B.$call(c)(t);if(!$B.is_none(u))return u}}return _b_.None},$B.set_func_names(PathFinder,"<import>"),PathFinder)"function"==typeof PathFinder[method]&&(PathFinder[method]=_b_.classmethod.$factory(PathFinder[method]));var PathEntryFinder=$B.make_class("PathEntryFinder",(function(e,t){return{__class__:PathEntryFinder,path_entry:e,hint:t}}));PathEntryFinder.find_spec=function(e,t){var r={},n=!0,o=e.hint,i=e.path_entry+t.match(/[^.]+$/g)[0],a=[],s=$B.$options.python_extension;(void 0===o||"py"==o)&&(a=a.concat([[i+s,"py",!1],[i+"/__init__"+s,"py",!0]]));for(var l=0;n&&l<a.length;++l)try{var _=a[l],c={__name__:t,$is_package:!1};r.code=$download_module(c,_[0],void 0),n=!1,r.ext=_[1],r.is_package=_[2],void 0===o&&(e.hint=_[1],$B.path_importer_cache[e.path_entry]=e),r.is_package&&($B.path_importer_cache[i+"/"]=$B.$call(url_hook)(i+"/",e.hint)),r.path=_[0]}catch(e){if(e.__class__!==_b_.ModuleNotFoundError)throw e}return n?_b_.None:ModuleSpec.$factory({name:t,loader:PathLoader.$factory(),origin:r.path,submodule_search_locations:r.is_package?[i]:_b_.None,loader_state:r,cached:_b_.None,parent:r.is_package?t:parent_package(t),has_location:_b_.True})},$B.set_func_names(PathEntryFinder,"builtins");var PathLoader=$B.make_class("PathLoader",(function(){return{__class__:PathLoader}}));PathLoader.create_module=function(e,t){return _b_.None},PathLoader.exec_module=function(e,t){var r=t.__spec__.loader_state;t.$is_package=r.is_package,"py"==r.ext?run_py(r.code,r.path,t):run_js(r.code,r.path,t)};var url_hook=$B.url_hook=function(e){return e=e.endsWith("/")?e:e+"/",PathEntryFinder.$factory(e)};function import_engine(e,t,r){var n,o,i=$B.meta_path.slice(),a=$B.imported;if(r){var s=i.indexOf($B.finders.path);s>-1&&i.splice(s,1)}for(var l=0,_=i.length;l<_;l++){var c=i[l],u=$B.$getattr(c,"find_spec",_b_.None);if(u==_b_.None){var f=$B.$getattr(c,"find_module",_b_.None);if(f!==_b_.None&&(n=f(e,t))!==_b_.None){var p=$B.$getattr(n,"load_module"),d=$B.$call(p)(e);return a[e]=d,d}}else if(o=u(e,t),!$B.is_none(o)){if(void 0!==(d=$B.imported[o.name]))return a[o.name]=d;n=$B.$getattr(o,"loader",_b_.None);break}}if(void 0===n){message=e,"file"==$B.protocol&&(message+=" (warning: cannot import local files with protocol 'file')");var h=_b_.ModuleNotFoundError.$factory(message);throw h.name=e,h}if($B.is_none(d)){if(o===_b_.None)throw _b_.ModuleNotFoundError.$factory(e);var m=$B.$getattr(o,"name");if(!$B.is_none(n)){var g=$B.$getattr(n,"create_module",_b_.None);$B.is_none(g)||(d=$B.$call(g)(o))}if(void 0===d)throw _b_.ImportError.$factory(e);if($B.is_none(d)){d=$B.module.$factory(e);var $=$B.$getattr(o,"origin");$=$B.$getattr(o,"has_location")?"from '"+$+"'":"("+$+")"}}d.__name__=m,d.__loader__=n,d.__package__=$B.$getattr(o,"parent",""),d.__spec__=o;var v=$B.$getattr(o,"submodule_search_locations");(d.$is_package=!$B.is_none(v))&&(d.__path__=v),$B.$getattr(o,"has_location")&&(d.__file__=$B.$getattr(o,"origin"));var b=$B.$getattr(o,"cached");if($B.is_none(b)||(d.__cached__=b),$B.is_none(n)){if($B.is_none(v))throw _b_.ImportError.$factory(e);a[m]=d}else{var y=$B.$getattr(n,"exec_module",_b_.None);if($B.is_none(y))d=$B.$getattr(n,"load_module")(m);else{a[m]=d;try{y(d)}catch(e){throw delete a[m],e}}}return a[m]}function import_error(e){var t=_b_.ImportError.$factory(e);throw t.name=e,t}function optimize_import_for_path(e,t){"/"!=e.slice(-1)&&(e+="/");var r="none"==t?_b_.None:url_hook(e,t);$B.path_importer_cache[e]=r}$B.path_importer_cache={},$B.$__import__=function(e,t,r,n,o){var i=!1;if(t.$jsobj&&t.$jsobj.__file__){var a=t.$jsobj.__file__;(a.startsWith($B.brython_path+"Lib/")&&!a.startsWith($B.brython_path+"Lib/site-packages/")||a.startsWith($B.brython_path+"libs/")||a.startsWith("VFS."))&&(i=!0)}var s=$B.imported[e],l=e.split("."),_=n.length>0;if(s==_b_.None&&import_error(e),void 0===s){$B.is_none(n)&&(n=[]);for(var c=0,u="",f="",p=l.length-1,d=_b_.None;c<=p;++c){var h=f;if(f+=u+l[c],u=".",(s=$B.imported[f])==_b_.None)import_error(f);else if(void 0===s){try{import_engine(f,d,i)}catch(e){throw delete $B.imported[f],e}$B.is_none($B.imported[f])?import_error(f):h&&_b_.setattr($B.imported[h],l[c],$B.imported[f])}else $B.imported[h]&&void 0===$B.imported[h][l[c]]&&_b_.setattr($B.imported[h],l[c],$B.imported[f]);if(c<p)try{d=$B.$getattr($B.imported[f],"__path__")}catch(t){if(c==p-1&&$B.imported[f][l[p]]&&$B.imported[f][l[p]].__class__===$B.module)return $B.imported[f][l[p]];if(!_){var m=_b_.ModuleNotFoundError.$factory();throw m.msg="No module named '"+e+"'; '"+f+"' is not a package",m.args=$B.fast_tuple([m.msg]),m.name=e,m.path=_b_.None,m}import_error(e)}}}else if($B.imported[l[0]]&&2==l.length)try{void 0===$B.imported[l[0]][l[1]]&&$B.$setattr($B.imported[l[0]],l[1],s)}catch(e){throw console.log("error",l,s),e}return n.length>0?$B.imported[e]:$B.imported[l[0]]},$B.$import=function(e,t,r,n){t=void 0===t?[]:t,r=void 0===r?{}:r,n=void 0===n?{}:n;var o=e.split(".");"."==e[e.length-1]&&o.pop();for(var i=[],a=!0,s=0,l=o.length;s<l;s++){var _=o[s];if(a&&""==_){if(elt=i.pop(),void 0===elt)throw _b_.ImportError.$factory("Parent module '' not loaded, cannot perform relative import")}else a=!1,i.push(_)}e=i.join("."),10==$B.$options.debug&&(console.log("$import "+e),console.log("use VFS ? "+$B.use_VFS),console.log("use static stdlib paths ? "+$B.static_stdlib_import));var c=$B.frames_stack[$B.frames_stack.length-1],u=c[3],f=u.__import__,p=$B.obj_dict(u);void 0===f&&(f=$B.$__import__);var d=("function"==typeof f?f:$B.$getattr(f,"__call__"))(e,p,void 0,t,0);if(t&&0!=t.length){var h=t,m={};if(t&&"*"==t[0]&&(h=$B.$getattr(d,"__all__",m))!==m&&(r={}),h===m)for(var g in d)"_"!==g[0]&&(n[g]=d[g]);else{s=0;for(var $=h.length;s<$;++s){var v=h[s],b=r[v]||v;try{n[b]=$B.$getattr(d,v)}catch(t){try{$B.$getattr(f,"__call__")(e+"."+v,p,void 0,[],0),n[b]=$B.$getattr(d,v)}catch(t){if("__future__"===e){var y=$B.last($B.frames_stack),x=y[3].$line_info.split(","),w=parseInt(x[0]);$B.$SyntaxError(y[2],"future feature "+v+" is not defined",c[3].src,void 0,w)}if(t.$py_error)throw t;throw $B.debug>1&&(console.log(t),console.log($B.last($B.frames_stack))),_b_.ImportError.$factory("cannot import name '"+v+"'")}}}}return n}(b=r[e])?n[b]=$B.imported[e]:n[i[0]]=d},$B.import_all=function(e,t){for(var r in t)-1=="_$".indexOf(r.charAt(0))&&(e[r]=t[r])},$B.$path_hooks=[url_hook],$B.$meta_path=[VFSFinder,StdlibStaticFinder,PathFinder],$B.finders={VFS:VFSFinder,stdlib_static:StdlibStaticFinder,path:PathFinder,CPython:finder_cpython};var Loader={__class__:$B.$type,__mro__:[_b_.object],__name__:"Loader"},_importlib_module={__class__:Module,__name__:"_importlib",Loader,VFSFinder,StdlibStatic:StdlibStaticFinder,ImporterPath:PathFinder,UrlPathFinder:url_hook,optimize_import_for_path};_importlib_module.__repr__=_importlib_module.__str__=function(){return"<module '_importlib' (built-in)>"},$B.imported._importlib=_importlib_module}(__BRYTHON__);var $B=__BRYTHON__;for(var gc in $B.unicode={Cc:[[0,32],[127,33]],Zs:[32,160,5760,[8192,11],8239,8287,12288],Po:[[33,3],[37,3],[42,3,2],47,58,59,63,64,92,161,167,182,183,191,894,903,[1370,6],1417,[1472,3,3],1523,1524,1545,1546,1548,1549,1563,1566,1567,[1642,4],1748,[1792,14],[2039,3],[2096,15],2142,2404,2405,2416,2557,2678,2800,3191,3204,3572,3663,3674,3675,[3844,15],3860,3973,[4048,5],4057,4058,[4170,6],4347,[4960,9],5742,[5867,3],5941,5942,[6100,3],[6104,3],[6144,6],[6151,4],6468,6469,6686,6687,[6816,7],[6824,6],[7002,7],[7164,4],[7227,5],7294,7295,[7360,8],7379,8214,8215,[8224,8],[8240,9],[8251,4],[8257,3],[8263,11],8275,[8277,10],[11513,4],11518,11519,11632,11776,11777,[11782,3],11787,[11790,9],11800,11801,11803,11806,11807,[11818,5],[11824,10],[11836,4],11841,[11843,13],11858,[12289,3],12349,12539,42238,42239,[42509,3],42611,42622,[42738,6],[43124,4],43214,43215,[43256,3],43260,43310,43311,43359,[43457,13],43486,43487,[43612,4],43742,43743,43760,43761,44011,[65040,7],65049,65072,65093,65094,[65097,4],[65104,3],[65108,4],[65119,3],65128,65130,65131,[65281,3],[65285,3],[65290,3,2],65295,65306,65307,65311,65312,65340,65377,65380,65381,[65792,3],66463,66512,66927,67671,67871,67903,[68176,9],68223,[68336,7],[68409,7],[68505,4],[69461,5],[69703,7],69819,69820,[69822,4],[69952,4],70004,70005,[70085,4],70093,70107,[70109,3],[70200,6],70313,[70731,5],70746,70747,70749,70854,[71105,23],[71233,3],[71264,13],[71484,3],71739,[72004,3],72162,[72255,8],[72346,3],[72350,5],[72769,5],72816,72817,73463,73464,73727,[74864,5],92782,92783,92917,[92983,5],92996,[93847,4],94178,113823,[121479,5],125278,125279],Sc:[36,[162,4],1423,1547,2046,2047,2546,2547,2555,2801,3065,3647,6107,[8352,32],43064,65020,65129,65284,65504,65505,65509,65510,[73693,4],123647,126128],Ps:[40,91,123,3898,3900,5787,8218,8222,8261,8317,8333,8968,8970,9001,[10088,7,2],10181,[10214,5,2],[10627,11,2],10712,10714,10748,[11810,4,2],11842,[12296,5,2],[12308,4,2],12317,64831,65047,[65077,8,2],65095,[65113,3,2],65288,65339,65371,65375,65378],Pe:[41,93,125,3899,3901,5788,8262,8318,8334,8969,8971,9002,[10089,7,2],10182,[10215,5,2],[10628,11,2],10713,10715,10749,[11811,4,2],[12297,5,2],[12309,4,2],12318,12319,64830,65048,[65078,8,2],65096,[65114,3,2],65289,65341,[65373,3,3]],Sm:[43,[60,3],124,126,172,177,215,247,1014,[1542,3],8260,8274,[8314,3],[8330,3],8472,[8512,5],8523,[8592,5],8602,8603,[8608,3,3],8622,8654,8655,8658,8660,[8692,268],8992,8993,9084,[9115,25],[9180,6],9655,9665,[9720,8],9839,[10176,5],[10183,31],[10224,16],[10496,131],[10649,63],[10716,32],[10750,258],[11056,21],[11079,6],64297,65122,[65124,3],65291,[65308,3],65372,65374,65506,[65513,4],120513,120539,120571,120597,120629,120655,120687,120713,120745,120771,126704,126705],Pd:[45,1418,1470,5120,6150,[8208,6],11799,11802,11834,11835,11840,12316,12336,12448,65073,65074,65112,65123,65293,69293],Nd:[[48,10],[1632,10],[1776,10],[1984,10],[2406,10],[2534,10],[2662,10],[2790,10],[2918,10],[3046,10],[3174,10],[3302,10],[3430,10],[3558,10],[3664,10],[3792,10],[3872,10],[4160,10],[4240,10],[6112,10],[6160,10],[6470,10],[6608,10],[6784,10],[6800,10],[6992,10],[7088,10],[7232,10],[7248,10],[42528,10],[43216,10],[43264,10],[43472,10],[43504,10],[43600,10],[44016,10],[65296,10],[66720,10],[68912,10],[69734,10],[69872,10],[69942,10],[70096,10],[70384,10],[70736,10],[70864,10],[71248,10],[71360,10],[71472,10],[71904,10],[72016,10],[72784,10],[73040,10],[73120,10],[92768,10],[93008,10],[120782,50],[123200,10],[123632,10],[125264,10],[130032,10]],Lu:[[65,26],[192,23],[216,7],[256,28,2],[313,8,2],[330,24,2],[377,3,2],385,[386,3,2],391,[393,3],[398,4],403,404,[406,3],412,413,415,[416,4,2],423,425,428,430,431,[433,3],437,439,440,444,[452,4,3],[463,7,2],[478,9,2],497,500,[502,3],[506,29,2],570,571,573,574,577,[579,4],[584,4,2],880,882,886,895,902,[904,3],908,910,911,[913,17],[931,9],975,[978,3],[984,12,2],1012,1015,1017,1018,[1021,51],[1120,17,2],[1162,28,2],[1217,7,2],[1232,48,2],[1329,38],[4256,38],4295,4301,[5024,86],[7312,43],[7357,3],[7680,75,2],[7838,49,2],[7944,8],[7960,6],[7976,8],[7992,8],[8008,6],[8025,4,2],[8040,8],[8120,4],[8136,4],[8152,4],[8168,5],[8184,4],8450,8455,[8459,3],[8464,3],8469,[8473,5],[8484,4,2],[8491,3],[8496,4],8510,8511,8517,8579,[11264,47],11360,[11362,3],[11367,4,2],[11374,3],11378,11381,[11390,3],[11394,49,2],11499,11501,11506,[42560,23,2],[42624,14,2],[42786,7,2],[42802,31,2],[42873,3,2],[42878,5,2],42891,42893,42896,42898,[42902,11,2],[42923,4],[42928,5],[42934,5,2],42946,[42948,4],42953,42997,[65313,26],[66560,40],[66736,36],[68736,51],[71840,32],[93760,32],[119808,26],[119860,26],[119912,26],119964,119966,[119967,3,3],119974,[119977,4],[119982,8],[120016,26],120068,120069,[120071,4],[120077,8],[120086,7],120120,120121,[120123,4],[120128,5],120134,[120138,7],[120172,26],[120224,26],[120276,26],[120328,26],[120380,26],[120432,26],[120488,25],[120546,25],[120604,25],[120662,25],[120720,25],120778,[125184,34]],Sk:[94,96,168,175,180,184,[706,4],[722,14],[741,7],749,[751,17],885,900,901,8125,[8127,3],[8141,3],[8157,3],[8173,3],8189,8190,12443,12444,[42752,23],42784,42785,42889,42890,43867,43882,43883,[64434,16],65342,65344,65507,[127995,5]],Pc:[95,8255,8256,8276,65075,65076,[65101,3],65343],Ll:[[97,26],181,[223,24],[248,8],[257,28,2],[312,9,2],[329,24,2],[378,3,2],383,384,387,389,392,396,397,402,405,[409,3],414,[417,3,2],424,426,427,429,432,436,438,441,442,[445,3],[454,3,3],[462,8,2],[477,10,2],496,499,501,[505,30,2],[564,6],572,575,576,578,[583,5,2],[592,68],[661,27],881,[883,3,4],892,893,912,[940,35],976,977,[981,3],[985,12,2],[1008,4],[1013,3,3],1020,[1072,48],[1121,17,2],[1163,27,2],[1218,7,2],[1231,49,2],[1376,41],[4304,43],[4349,3],[5112,6],[7296,9],[7424,44],[7531,13],[7545,34],[7681,75,2],[7830,8],[7839,49,2],[7936,8],[7952,6],[7968,8],[7984,8],[8e3,6],[8016,8],[8032,8],[8048,14],[8064,8],[8080,8],[8096,8],[8112,5],8118,8119,8126,[8130,3],8134,8135,[8144,4],8150,8151,[8160,8],[8178,3],8182,8183,8458,8462,8463,8467,[8495,3,5],8508,8509,[8518,4],8526,8580,[11312,47],11361,11365,[11366,4,2],11377,11379,11380,[11382,6],[11393,50,2],11492,11500,11502,11507,[11520,38],11559,11565,[42561,23,2],[42625,14,2],[42787,7,2],42800,[42801,33,2],[42866,7],42874,42876,[42879,5,2],42892,42894,42897,[42899,3],[42903,10,2],42927,[42933,6,2],42947,42952,42954,42998,43002,[43824,43],[43872,9],[43888,80],[64256,7],[64275,5],[65345,26],[66600,40],[66776,36],[68800,51],[71872,32],[93792,32],[119834,26],[119886,7],[119894,18],[119938,26],[119990,4],119995,[119997,7],[120005,11],[120042,26],[120094,26],[120146,26],[120198,26],[120250,26],[120302,26],[120354,26],[120406,26],[120458,28],[120514,25],[120540,6],[120572,25],[120598,6],[120630,25],[120656,6],[120688,25],[120714,6],[120746,25],[120772,6],120779,[125218,34]],So:[166,169,174,176,1154,1421,1422,1550,1551,1758,1769,1789,1790,2038,2554,2928,[3059,6],3066,3199,3407,3449,[3841,3],3859,[3861,3],[3866,6],[3892,3,2],[4030,8],[4039,6],4046,4047,[4053,4],4254,4255,[5008,10],5741,6464,[6622,34],[7009,10],[7028,9],8448,8449,[8451,4],8456,8457,8468,8470,8471,[8478,6],[8485,3,2],8494,8506,8507,8522,8524,8525,8527,8586,8587,[8597,5],[8604,4],8609,8610,8612,8613,[8615,7],[8623,31],8656,[8657,3,2],[8662,30],[8960,8],[8972,20],[8994,7],[9003,81],[9085,30],[9140,40],[9186,69],[9280,11],[9372,78],[9472,183],[9656,9],[9666,54],[9728,111],[9840,248],[10132,44],[10240,256],[11008,48],11077,11078,[11085,39],[11126,32],[11159,105],[11493,6],11856,11857,[11904,26],[11931,89],[12032,214],[12272,12],12292,12306,12307,12320,12342,12343,12350,12351,12688,12689,[12694,10],[12736,36],[12800,31],[12842,30],12880,[12896,32],[12938,39],[12992,320],[19904,64],[42128,55],[43048,4],43062,43063,43065,[43639,3],65021,65508,65512,65517,65518,65532,65533,[65847,9],[65913,17],[65932,3],[65936,13],65952,[66e3,45],67703,67704,68296,71487,[73685,8],[73697,17],[92988,4],92997,113820,[118784,246],[119040,39],[119081,60],[119146,3],119171,119172,[119180,30],[119214,59],[119296,66],119365,[119552,87],[120832,512],[121399,4],[121453,8],[121462,14],121477,121478,123215,126124,126254,[126976,44],[127024,100],[127136,15],[127153,15],[127169,15],[127185,37],[127245,161],[127462,29],[127504,44],[127552,9],127568,127569,[127584,6],[127744,251],[128e3,728],[128736,13],[128752,13],[128768,116],[128896,89],[128992,12],[129024,12],[129040,56],[129104,10],[129120,40],[129168,30],129200,129201,[129280,121],[129402,82],[129485,135],[129632,14],[129648,5],[129656,3],[129664,7],[129680,25],[129712,7],[129728,3],[129744,7],[129792,147],[129940,55]],Lo:[170,186,443,[448,4],660,[1488,27],[1519,4],[1568,32],[1601,10],1646,1647,[1649,99],1749,1774,1775,[1786,3],1791,1808,[1810,30],[1869,89],1969,[1994,33],[2048,22],[2112,25],[2144,11],[2208,21],[2230,18],[2308,54],2365,2384,[2392,10],[2418,15],[2437,8],2447,2448,[2451,22],[2474,7],2482,[2486,4],2493,2510,2524,2525,[2527,3],2544,2545,2556,[2565,6],2575,2576,[2579,22],[2602,7],2610,2611,2613,2614,2616,2617,[2649,4],2654,[2674,3],[2693,9],[2703,3],[2707,22],[2730,7],2738,2739,[2741,5],2749,2768,2784,2785,2809,[2821,8],2831,2832,[2835,22],[2858,7],2866,2867,[2869,5],2877,2908,2909,[2911,3],2929,2947,[2949,6],[2958,3],[2962,4],2969,[2970,3,2],2975,2979,2980,[2984,3],[2990,12],3024,[3077,8],[3086,3],[3090,23],[3114,16],3133,[3160,3],3168,3169,3200,[3205,8],[3214,3],[3218,23],[3242,10],[3253,5],3261,3294,3296,3297,3313,3314,[3332,9],[3342,3],[3346,41],3389,3406,[3412,3],[3423,3],[3450,6],[3461,18],[3482,24],[3507,9],3517,[3520,7],[3585,48],3634,3635,[3648,6],3713,[3714,3,2],[3719,4],[3724,24],3749,[3751,10],3762,3763,3773,[3776,5],[3804,4],3840,[3904,8],[3913,36],[3976,5],[4096,43],4159,[4176,6],[4186,4],4193,4197,4198,[4206,3],[4213,13],4238,[4352,329],[4682,4],[4688,7],4696,[4698,4],[4704,41],[4746,4],[4752,33],[4786,4],[4792,7],4800,[4802,4],[4808,15],[4824,57],[4882,4],[4888,67],[4992,16],[5121,620],[5743,17],[5761,26],[5792,75],[5873,8],[5888,13],[5902,4],[5920,18],[5952,18],[5984,13],[5998,3],[6016,52],6108,[6176,35],[6212,53],[6272,5],[6279,34],6314,[6320,70],[6400,31],[6480,30],[6512,5],[6528,44],[6576,26],[6656,23],[6688,53],[6917,47],[6981,7],[7043,30],7086,7087,[7098,44],[7168,36],[7245,3],[7258,30],[7401,4],[7406,6],7413,7414,7418,[8501,4],[11568,56],[11648,23],[11680,7],[11688,7],[11696,7],[11704,7],[11712,7],[11720,7],[11728,7],[11736,7],12294,12348,[12353,86],12447,[12449,90],12543,[12549,43],[12593,94],[12704,32],[12784,16],13312,19903,19968,40956,[40960,21],[40982,1143],[42192,40],[42240,268],[42512,16],42538,42539,42606,[42656,70],42895,42999,[43003,7],[43011,3],[43015,4],[43020,23],[43072,52],[43138,50],[43250,6],43259,43261,43262,[43274,28],[43312,23],[43360,29],[43396,47],[43488,5],[43495,9],[43514,5],[43520,41],[43584,3],[43588,8],[43616,16],[43633,6],43642,[43646,50],43697,43701,43702,[43705,5],43712,43714,43739,43740,[43744,11],43762,[43777,6],[43785,6],[43793,6],[43808,7],[43816,7],[43968,35],44032,55203,[55216,23],[55243,49],[63744,366],[64112,106],64285,[64287,10],[64298,13],[64312,5],64318,64320,64321,64323,64324,[64326,108],[64467,363],[64848,64],[64914,54],[65008,12],[65136,5],[65142,135],[65382,10],[65393,45],[65440,31],[65474,6],[65482,6],[65490,6],[65498,3],[65536,12],[65549,26],[65576,19],65596,65597,[65599,15],[65616,14],[65664,123],[66176,29],[66208,49],[66304,32],[66349,20],[66370,8],[66384,38],[66432,30],[66464,36],[66504,8],[66640,78],[66816,40],[66864,52],[67072,311],[67392,22],[67424,8],[67584,6],67592,[67594,44],67639,67640,67644,[67647,23],[67680,23],[67712,31],[67808,19],67828,67829,[67840,22],[67872,26],[67968,56],68030,68031,68096,[68112,4],[68117,3],[68121,29],[68192,29],[68224,29],[68288,8],[68297,28],[68352,54],[68416,22],[68448,19],[68480,18],[68608,73],[68864,36],[69248,42],69296,69297,[69376,29],69415,[69424,22],[69552,21],[69600,23],[69635,53],[69763,45],[69840,25],[69891,36],69956,69959,[69968,35],70006,[70019,48],[70081,4],70106,70108,[70144,18],[70163,25],[70272,7],70280,[70282,4],[70287,15],[70303,10],[70320,47],[70405,8],70415,70416,[70419,22],[70442,7],70450,70451,[70453,5],70461,70480,[70493,5],[70656,53],[70727,4],[70751,3],[70784,48],70852,70853,70855,[71040,47],[71128,4],[71168,48],71236,[71296,43],71352,[71424,27],[71680,44],[71935,8],71945,[71948,8],71957,71958,[71960,24],71999,72001,[72096,8],[72106,39],72161,72163,72192,[72203,40],72250,72272,[72284,46],72349,[72384,57],[72704,9],[72714,37],72768,[72818,30],[72960,7],72968,72969,[72971,38],73030,[73056,6],73063,73064,[73066,32],73112,[73440,19],73648,[73728,922],[74880,196],[77824,1071],[82944,583],[92160,569],[92736,31],[92880,30],[92928,48],[93027,21],[93053,19],[93952,75],94032,94208,100343,[100352,1238],101632,101640,[110592,287],[110928,3],[110948,4],[110960,396],[113664,107],[113776,13],[113792,9],[113808,10],[123136,45],123214,[123584,44],[124928,197],[126464,4],[126469,27],126497,126498,126500,126503,[126505,10],[126516,4],126521,126523,126530,[126535,4,2],126542,126543,126545,126546,126548,[126551,6,2],126562,126564,[126567,4],[126572,7],[126580,4],[126585,4],126590,[126592,10],[126603,17],[126625,3],[126629,5],[126635,17],131072,173789,173824,177972,177984,178205,178208,183969,183984,191456,[194560,542],196608,201546],Pi:[171,8216,8219,8220,8223,8249,11778,11780,11785,11788,11804,11808],Cf:[173,[1536,6],1564,1757,1807,2274,6158,[8203,5],[8234,5],[8288,5],[8294,10],65279,[65529,3],69821,69837,[78896,9],[113824,4],[119155,8],917505,[917536,96]],No:[178,179,185,[188,3],[2548,6],[2930,6],[3056,3],[3192,7],[3416,7],[3440,9],[3882,10],[4969,20],[6128,10],6618,8304,[8308,6],[8320,10],[8528,16],8585,[9312,60],[9450,22],[10102,30],11517,[12690,4],[12832,10],[12872,8],[12881,15],[12928,10],[12977,15],[43056,6],[65799,45],[65909,4],65930,65931,[66273,27],[66336,4],[67672,8],[67705,7],[67751,9],[67835,5],[67862,6],68028,68029,[68032,16],[68050,46],[68160,9],68221,68222,[68253,3],[68331,5],[68440,8],[68472,8],[68521,7],[68858,6],[69216,31],[69405,10],[69457,4],[69573,7],[69714,20],[70113,20],71482,71483,[71914,9],[72794,19],[73664,21],[93019,7],[93824,23],[119520,20],[119648,25],[125127,9],[126065,59],[126125,3],[126129,4],[126209,45],[126255,15],[127232,13]],Pf:[187,8217,8221,8250,11779,11781,11786,11789,11805,11809],Lt:[[453,3,3],498,[8072,8],[8088,8],[8104,8],8124,8140,8188],Lm:[[688,18],[710,12],[736,5],748,750,884,890,1369,1600,1765,1766,2036,2037,2042,2074,2084,2088,2417,3654,3782,4348,6103,6211,6823,[7288,6],[7468,63],7544,[7579,37],8305,8319,[8336,13],11388,11389,11631,11823,12293,[12337,5],12347,12445,12446,[12540,3],40981,[42232,6],42508,42623,42652,42653,[42775,9],42864,42888,43e3,43001,43471,43494,43632,43741,43763,43764,[43868,4],43881,65392,65438,65439,[92992,4],[94099,13],94176,94177,94179,[123191,7],125259],Mn:[[768,112],[1155,5],[1425,45],1471,1473,1474,1476,1477,1479,[1552,11],[1611,21],1648,[1750,7],[1759,6],1767,1768,[1770,4],1809,[1840,27],[1958,11],[2027,9],2045,[2070,4],[2075,9],[2085,3],[2089,5],[2137,3],[2259,15],[2275,32],2362,2364,[2369,8],2381,[2385,7],2402,2403,2433,2492,[2497,4],2509,2530,2531,2558,2561,2562,2620,2625,2626,2631,2632,[2635,3],2641,2672,2673,2677,2689,2690,2748,[2753,5],2759,2760,2765,2786,2787,[2810,6],2817,2876,2879,[2881,4],2893,2901,2902,2914,2915,2946,3008,3021,3072,3076,[3134,3],[3142,3],[3146,4],3157,3158,3170,3171,3201,3260,3263,3270,3276,3277,3298,3299,3328,3329,3387,3388,[3393,4],3405,3426,3427,3457,3530,[3538,3],3542,3633,[3636,7],[3655,8],3761,[3764,9],[3784,6],3864,3865,[3893,3,2],[3953,14],[3968,5],3974,3975,[3981,11],[3993,36],4038,[4141,4],[4146,6],4153,4154,4157,4158,4184,4185,[4190,3],[4209,4],4226,4229,4230,4237,4253,[4957,3],[5906,3],[5938,3],5970,5971,6002,6003,6068,6069,[6071,7],6086,[6089,11],6109,[6155,3],6277,6278,6313,[6432,3],6439,6440,6450,[6457,3],6679,6680,6683,6742,[6744,7],6752,6754,[6757,8],[6771,10],6783,[6832,14],6847,6848,[6912,4],6964,[6966,5],6972,6978,[7019,9],7040,7041,[7074,4],7080,7081,[7083,3],7142,7144,7145,7149,[7151,3],[7212,8],7222,7223,[7376,3],[7380,13],[7394,7],7405,7412,7416,7417,[7616,58],[7675,5],[8400,13],8417,[8421,12],[11503,3],11647,[11744,32],[12330,4],12441,12442,42607,[42612,10],42654,42655,42736,42737,43010,43014,43019,43045,43046,43052,43204,43205,[43232,18],43263,[43302,8],[43335,11],[43392,3],43443,[43446,4],43452,43453,43493,[43561,6],43569,43570,43573,43574,43587,43596,43644,43696,[43698,3],43703,43704,43710,43711,43713,43756,43757,43766,44005,44008,44013,64286,[65024,16],[65056,16],66045,66272,[66422,5],[68097,3],68101,68102,[68108,4],[68152,3],68159,68325,68326,[68900,4],69291,69292,[69446,11],69633,[69688,15],[69759,3],[69811,4],69817,69818,[69888,3],[69927,5],[69933,8],70003,70016,70017,[70070,9],[70089,4],70095,[70191,3],70196,70198,70199,70206,70367,[70371,8],70400,70401,70459,70460,70464,[70502,7],[70512,5],[70712,8],[70722,3],70726,70750,[70835,6],70842,70847,70848,70850,70851,[71090,4],71100,71101,71103,71104,71132,71133,[71219,8],71229,71231,71232,71339,71341,[71344,6],71351,[71453,3],[71458,4],[71463,5],[71727,9],71737,71738,71995,71996,71998,72003,[72148,4],72154,72155,72160,[72193,10],[72243,6],[72251,4],72263,[72273,6],[72281,3],[72330,13],72344,72345,[72752,7],[72760,6],72767,[72850,22],[72874,7],72882,72883,72885,72886,[73009,6],73018,73020,73021,[73023,7],73031,73104,73105,73109,73111,73459,73460,[92912,5],[92976,7],94031,[94095,4],94180,113821,113822,[119143,3],[119163,8],[119173,7],[119210,4],[119362,3],[121344,55],[121403,50],121461,121476,[121499,5],[121505,15],[122880,7],[122888,17],[122907,7],122915,122916,[122918,5],[123184,7],[123628,4],[125136,7],[125252,7],[917760,240]],Me:[1160,1161,6846,[8413,4],[8418,3],[42608,3]],Mc:[2307,2363,[2366,3],[2377,4],2382,2383,2434,2435,[2494,3],2503,2504,2507,2508,2519,2563,[2622,3],2691,[2750,3],2761,2763,2764,2818,2819,2878,2880,2887,2888,2891,2892,2903,3006,3007,3009,3010,[3014,3],[3018,3],3031,[3073,3],[3137,4],3202,3203,3262,[3264,5],3271,3272,3274,3275,3285,3286,3330,3331,[3390,3],[3398,3],[3402,3],3415,3458,3459,[3535,3],[3544,8],3570,3571,3902,3903,3967,4139,4140,4145,4152,4155,4156,4182,4183,[4194,3],[4199,7],4227,4228,[4231,6],4239,[4250,3],6070,[6078,8],6087,6088,[6435,4],[6441,3],6448,6449,[6451,6],6681,6682,6741,6743,6753,6755,6756,[6765,6],6916,6965,6971,[6973,5],6979,6980,7042,7073,7078,7079,7082,7143,[7146,3],7150,7154,7155,[7204,8],7220,7221,7393,7415,12334,12335,43043,43044,43047,43136,43137,[43188,16],43346,43347,43395,43444,43445,43450,43451,[43454,3],43567,43568,43571,43572,43597,43643,43645,43755,43758,43759,43765,44003,44004,44006,44007,44009,44010,44012,69632,69634,69762,[69808,3],69815,69816,69932,69957,69958,70018,[70067,3],70079,70080,70094,[70188,3],70194,70195,70197,[70368,3],70402,70403,70462,70463,[70465,4],70471,70472,[70475,3],70487,70498,70499,[70709,3],70720,70721,70725,[70832,3],70841,[70843,4],70849,[71087,3],[71096,4],71102,[71216,3],71227,71228,71230,71340,71342,71343,71350,71456,71457,71462,[71724,3],71736,[71984,6],71991,71992,71997,72e3,72002,[72145,3],[72156,4],72164,72249,72279,72280,72343,72751,72766,72873,72881,72884,[73098,5],73107,73108,73110,73461,73462,[94033,55],94192,94193,119141,119142,[119149,6]],Nl:[[5870,3],[8544,35],[8581,4],12295,[12321,9],[12344,3],[42726,10],[65856,53],66369,66378,[66513,5],[74752,111]],Zl:[8232],Zp:[8233],Cs:[55296,56191,56192,56319,56320,57343],Co:[57344,63743,983040,1048573,1048576,1114109],digits:[[48,10],178,179,185,[1632,10],[1776,10],[1984,10],[2406,10],[2534,10],[2662,10],[2790,10],[2918,10],[3046,10],[3174,10],[3302,10],[3430,10],[3558,10],[3664,10],[3792,10],[3872,10],[4160,10],[4240,10],[4969,9],[6112,10],[6160,10],[6470,10],[6608,11],[6784,10],[6800,10],[6992,10],[7088,10],[7232,10],[7248,10],8304,[8308,6],[8320,10],[9312,9],[9332,9],[9352,9],9450,[9461,9],9471,[10102,9],[10112,9],[10122,9],[42528,10],[43216,10],[43264,10],[43472,10],[43504,10],[43600,10],[44016,10],[65296,10],[66720,10],[68160,4],[68912,10],[69216,9],[69714,9],[69734,10],[69872,10],[69942,10],[70096,10],[70384,10],[70736,10],[70864,10],[71248,10],[71360,10],[71472,10],[71904,10],[72016,10],[72784,10],[73040,10],[73120,10],[92768,10],[93008,10],[120782,50],[123200,10],[123632,10],[125264,10],[127232,11],[130032,10]],numeric:[[48,10],178,179,185,[188,3],[1632,10],[1776,10],[1984,10],[2406,10],[2534,10],[2548,6],[2662,10],[2790,10],[2918,10],[2930,6],[3046,13],[3174,10],[3192,7],[3302,10],[3416,7],[3430,19],[3558,10],[3664,10],[3792,10],[3872,20],[4160,10],[4240,10],[4969,20],[5870,3],[6112,10],[6128,10],[6160,10],[6470,10],[6608,11],[6784,10],[6800,10],[6992,10],[7088,10],[7232,10],[7248,10],8304,[8308,6],[8320,10],[8528,51],[8581,5],[9312,60],[9450,22],[10102,30],11517,12295,[12321,9],[12344,3],[12690,4],[12832,10],[12872,8],[12881,15],[12928,10],[12977,15],13317,13443,14378,15181,19968,19971,19975,19977,20061,20108,20116,20118,20159,20160,20191,20200,20237,20336,20740,20806,[20841,3,2],21313,[21315,3],21324,[21441,4],22235,22769,22777,24186,24318,24319,[24332,3],24336,25342,25420,26578,28422,29590,30334,32902,33836,36014,36019,36144,38433,38470,38476,38520,38646,[42528,10],[42726,10],[43056,6],[43216,10],[43264,10],[43472,10],[43504,10],[43600,10],[44016,10],63851,63859,63864,63922,63953,63955,63997,[65296,10],[65799,45],[65856,57],65930,65931,[66273,27],[66336,4],66369,66378,[66513,5],[66720,10],[67672,8],[67705,7],[67751,9],[67835,5],[67862,6],68028,68029,[68032,16],[68050,46],[68160,9],68221,68222,[68253,3],[68331,5],[68440,8],[68472,8],[68521,7],[68858,6],[68912,10],[69216,31],[69405,10],[69457,4],[69573,7],[69714,30],[69872,10],[69942,10],[70096,10],[70113,20],[70384,10],[70736,10],[70864,10],[71248,10],[71360,10],[71472,12],[71904,19],[72016,10],[72784,29],[73040,10],[73120,10],[73664,21],[74752,111],[92768,10],[93008,10],[93019,7],[93824,23],[119520,20],[119648,25],[120782,50],[123200,10],[123632,10],[125127,9],[125264,10],[126065,59],[126125,3],[126129,4],[126209,45],[126255,15],[127232,13],[130032,10],131073,131172,131298,131361,133418,133507,133516,133532,133866,133885,133913,140176,141720,146203,156269,194704],Cn:[[888,2],[896,4],[907,1],[909,1],[930,1],[1328,1],[1367,2],[1419,2],[1424,1],[1480,8],[1515,4],[1525,11],[1565,1],[1806,1],[1867,2],[1970,14],[2043,2],[2094,2],[2111,1],[2140,2],[2143,1],[2155,53],[2229,1],[2248,11],[2436,1],[2445,2],[2449,2],[2473,1],[2481,1],[2483,3],[2490,2],[2501,2],[2505,2],[2511,8],[2520,4],[2526,1],[2532,2],[2559,2],[2564,1],[2571,4],[2577,2],[2601,1],[2609,1],[2612,1],[2615,1],[2618,2],[2621,1],[2627,4],[2633,2],[2638,3],[2642,7],[2653,1],[2655,7],[2679,10],[2692,1],[2702,1],[2706,1],[2729,1],[2737,1],[2740,1],[2746,2],[2758,1],[2762,1],[2766,2],[2769,15],[2788,2],[2802,7],[2816,1],[2820,1],[2829,2],[2833,2],[2857,1],[2865,1],[2868,1],[2874,2],[2885,2],[2889,2],[2894,7],[2904,4],[2910,1],[2916,2],[2936,10],[2948,1],[2955,3],[2961,1],[2966,3],[2971,1],[2973,1],[2976,3],[2981,3],[2987,3],[3002,4],[3011,3],[3017,1],[3022,2],[3025,6],[3032,14],[3067,5],[3085,1],[3089,1],[3113,1],[3130,3],[3141,1],[3145,1],[3150,7],[3159,1],[3163,5],[3172,2],[3184,7],[3213,1],[3217,1],[3241,1],[3252,1],[3258,2],[3269,1],[3273,1],[3278,7],[3287,7],[3295,1],[3300,2],[3312,1],[3315,13],[3341,1],[3345,1],[3397,1],[3401,1],[3408,4],[3428,2],[3456,1],[3460,1],[3479,3],[3506,1],[3516,1],[3518,2],[3527,3],[3531,4],[3541,1],[3543,1],[3552,6],[3568,2],[3573,12],[3643,4],[3676,37],[3715,1],[3717,1],[3723,1],[3748,1],[3750,1],[3774,2],[3781,1],[3783,1],[3790,2],[3802,2],[3808,32],[3912,1],[3949,4],[3992,1],[4029,1],[4045,1],[4059,37],[4294,1],[4296,5],[4302,2],[4681,1],[4686,2],[4695,1],[4697,1],[4702,2],[4745,1],[4750,2],[4785,1],[4790,2],[4799,1],[4801,1],[4806,2],[4823,1],[4881,1],[4886,2],[4955,2],[4989,3],[5018,6],[5110,2],[5118,2],[5789,3],[5881,7],[5901,1],[5909,11],[5943,9],[5972,12],[5997,1],[6001,1],[6004,12],[6110,2],[6122,6],[6138,6],[6159,1],[6170,6],[6265,7],[6315,5],[6390,10],[6431,1],[6444,4],[6460,4],[6465,3],[6510,2],[6517,11],[6572,4],[6602,6],[6619,3],[6684,2],[6751,1],[6781,2],[6794,6],[6810,6],[6830,2],[6849,63],[6988,4],[7037,3],[7156,8],[7224,3],[7242,3],[7305,7],[7355,2],[7368,8],[7419,5],[7674,1],[7958,2],[7966,2],[8006,2],[8014,2],[8024,1],[8026,1],[8028,1],[8030,1],[8062,2],[8117,1],[8133,1],[8148,2],[8156,1],[8176,2],[8181,1],[8191,1],[8293,1],[8306,2],[8335,1],[8349,3],[8384,16],[8433,15],[8588,4],[9255,25],[9291,21],[11124,2],[11158,1],[11311,1],[11359,1],[11508,5],[11558,1],[11560,5],[11566,2],[11624,7],[11633,14],[11671,9],[11687,1],[11695,1],[11703,1],[11711,1],[11719,1],[11727,1],[11735,1],[11743,1],[11859,45],[11930,1],[12020,12],[12246,26],[12284,4],[12352,1],[12439,2],[12544,5],[12592,1],[12687,1],[12772,12],[12831,1],[40957,3],[42125,3],[42183,9],[42540,20],[42744,8],[42944,2],[42955,42],[43053,3],[43066,6],[43128,8],[43206,8],[43226,6],[43348,11],[43389,3],[43470,1],[43482,4],[43519,1],[43575,9],[43598,2],[43610,2],[43715,24],[43767,10],[43783,2],[43791,2],[43799,9],[43815,1],[43823,1],[43884,4],[44014,2],[44026,6],[55204,12],[55239,4],[55292,4],[64110,2],[64218,38],[64263,12],[64280,5],[64311,1],[64317,1],[64319,1],[64322,1],[64325,1],[64450,17],[64832,16],[64912,2],[64968,40],[65022,2],[65050,6],[65107,1],[65127,1],[65132,4],[65141,1],[65277,2],[65280,1],[65471,3],[65480,2],[65488,2],[65496,2],[65501,3],[65511,1],[65519,10],[65534,2],[65548,1],[65575,1],[65595,1],[65598,1],[65614,2],[65630,34],[65787,5],[65795,4],[65844,3],[65935,1],[65949,3],[65953,47],[66046,130],[66205,3],[66257,15],[66300,4],[66340,9],[66379,5],[66427,5],[66462,1],[66500,4],[66518,42],[66718,2],[66730,6],[66772,4],[66812,4],[66856,8],[66916,11],[66928,144],[67383,9],[67414,10],[67432,152],[67590,2],[67593,1],[67638,1],[67641,3],[67645,2],[67670,1],[67743,8],[67760,48],[67827,1],[67830,5],[67868,3],[67898,5],[67904,64],[68024,4],[68048,2],[68100,1],[68103,5],[68116,1],[68120,1],[68150,2],[68155,4],[68169,7],[68185,7],[68256,32],[68327,4],[68343,9],[68406,3],[68438,2],[68467,5],[68498,7],[68509,12],[68528,80],[68681,55],[68787,13],[68851,7],[68904,8],[68922,294],[69247,1],[69290,1],[69294,2],[69298,78],[69416,8],[69466,86],[69580,20],[69623,9],[69710,4],[69744,15],[69826,11],[69838,2],[69865,7],[69882,6],[69941,1],[69960,8],[70007,9],[70112,1],[70133,11],[70162,1],[70207,65],[70279,1],[70281,1],[70286,1],[70302,1],[70314,6],[70379,5],[70394,6],[70404,1],[70413,2],[70417,2],[70441,1],[70449,1],[70452,1],[70458,1],[70469,2],[70473,2],[70478,2],[70481,6],[70488,5],[70500,2],[70509,3],[70517,139],[70748,1],[70754,30],[70856,8],[70874,166],[71094,2],[71134,34],[71237,11],[71258,6],[71277,19],[71353,7],[71370,54],[71451,2],[71468,4],[71488,192],[71740,100],[71923,12],[71943,2],[71946,2],[71956,1],[71959,1],[71990,1],[71993,2],[72007,9],[72026,70],[72104,2],[72152,2],[72165,27],[72264,8],[72355,29],[72441,263],[72713,1],[72759,1],[72774,10],[72813,3],[72848,2],[72872,1],[72887,73],[72967,1],[72970,1],[73015,3],[73019,1],[73022,1],[73032,8],[73050,6],[73062,1],[73065,1],[73103,1],[73106,1],[73113,7],[73130,310],[73465,183],[73649,15],[73714,13],[74650,102],[74863,1],[74869,11],[75076,2748],[78895,1],[78905,4039],[83527,8633],[92729,7],[92767,1],[92778,4],[92784,96],[92910,2],[92918,10],[92998,10],[93018,1],[93026,1],[93048,5],[93072,688],[93851,101],[94027,4],[94088,7],[94112,64],[94181,11],[94194,14],[100344,8],[101590,42],[101641,8951],[110879,49],[110931,17],[110952,8],[111356,2308],[113771,5],[113789,3],[113801,7],[113818,2],[113828,4956],[119030,10],[119079,2],[119273,23],[119366,154],[119540,12],[119639,9],[119673,135],[119893,1],[119965,1],[119968,2],[119971,2],[119975,2],[119981,1],[119994,1],[119996,1],[120004,1],[120070,1],[120075,2],[120085,1],[120093,1],[120122,1],[120127,1],[120133,1],[120135,3],[120145,1],[120486,2],[120780,2],[121484,15],[121504,1],[121520,1360],[122887,1],[122905,2],[122914,1],[122917,1],[122923,213],[123181,3],[123198,2],[123210,4],[123216,368],[123642,5],[123648,1280],[125125,2],[125143,41],[125260,4],[125274,4],[125280,785],[126133,76],[126270,194],[126468,1],[126496,1],[126499,1],[126501,2],[126504,1],[126515,1],[126520,1],[126522,1],[126524,6],[126531,4],[126536,1],[126538,1],[126540,1],[126544,1],[126547,1],[126549,2],[126552,1],[126554,1],[126556,1],[126558,1],[126560,1],[126563,1],[126565,2],[126571,1],[126579,1],[126584,1],[126589,1],[126591,1],[126602,1],[126620,5],[126628,1],[126634,1],[126652,52],[126706,270],[127020,4],[127124,12],[127151,2],[127168,1],[127184,1],[127222,10],[127406,56],[127491,13],[127548,4],[127561,7],[127570,14],[127590,154],[128728,8],[128749,3],[128765,3],[128884,12],[128985,7],[129004,20],[129036,4],[129096,8],[129114,6],[129160,8],[129198,2],[129202,78],[129401,1],[129484,1],[129620,12],[129646,2],[129653,3],[129659,5],[129671,9],[129705,7],[129719,9],[129731,13],[129751,41],[129939,1],[129995,37],[130042,1030],[173790,34],[177973,11],[178206,2],[183970,14],[191457,3103],[195102,1506],[201547,715958],[917506,30],[917632,128],[918e3,65040],[1048574,2]]},$B.unicode_casefold={223:[115,115],304:[105,775],329:[700,110],496:[106,780],912:[953,776,769],944:[965,776,769],1415:[1381,1410],7830:[104,817],7831:[116,776],7832:[119,778],7833:[121,778],7834:[97,702],7838:[223],8016:[965,787],8018:[965,787,768],8020:[965,787,769],8022:[965,787,834],8064:[7936,953],8065:[7937,953],8066:[7938,953],8067:[7939,953],8068:[7940,953],8069:[7941,953],8070:[7942,953],8071:[7943,953],8072:[8064],8073:[8065],8074:[8066],8075:[8067],8076:[8068],8077:[8069],8078:[8070],8079:[8071],8080:[7968,953],8081:[7969,953],8082:[7970,953],8083:[7971,953],8084:[7972,953],8085:[7973,953],8086:[7974,953],8087:[7975,953],8088:[8080],8089:[8081],8090:[8082],8091:[8083],8092:[8084],8093:[8085],8094:[8086],8095:[8087],8096:[8032,953],8097:[8033,953],8098:[8034,953],8099:[8035,953],8100:[8036,953],8101:[8037,953],8102:[8038,953],8103:[8039,953],8104:[8096],8105:[8097],8106:[8098],8107:[8099],8108:[8100],8109:[8101],8110:[8102],8111:[8103],8114:[8048,953],8115:[945,953],8116:[940,953],8118:[945,834],8119:[945,834,953],8124:[8115],8130:[8052,953],8131:[951,953],8132:[942,953],8134:[951,834],8135:[951,834,953],8140:[8131],8146:[953,776,768],8147:[953,776,769],8150:[953,834],8151:[953,776,834],8162:[965,776,768],8163:[965,776,769],8164:[961,787],8166:[965,834],8167:[965,776,834],8178:[8060,953],8179:[969,953],8180:[974,953],8182:[969,834],8183:[969,834,953],8188:[8179],64256:[102,102],64257:[102,105],64258:[102,108],64259:[102,102,105],64260:[102,102,108],64261:[115,116],64262:[115,116],64275:[1396,1398],64276:[1396,1381],64277:[1396,1387],64278:[1406,1398],64279:[1396,1389]},$B.unicode_bidi_whitespace=[9,10,11,12,13,28,29,30,31,32,133,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8287,12288],$B.unicode_identifiers={XID_Start:[95,[65,26],[97,26],170,181,186,[192,23],[216,31],[248,458],[710,12],[736,5],748,750,[880,5],[886,2],[891,3],895,902,[904,3],908,[910,20],[931,83],[1015,139],[1162,166],[1329,38],1369,[1376,41],[1488,27],[1519,4],[1568,43],[1646,2],[1649,99],1749,[1765,2],[1774,2],[1786,3],1791,1808,[1810,30],[1869,89],1969,[1994,33],[2036,2],2042,[2048,22],2074,2084,2088,[2112,25],[2144,11],[2208,21],[2230,18],[2308,54],2365,2384,[2392,10],2417,[2418,15],[2437,8],[2447,2],[2451,22],[2474,7],2482,[2486,4],2493,2510,[2524,2],[2527,3],[2544,2],2556,[2565,6],[2575,2],[2579,22],[2602,7],[2610,2],[2613,2],[2616,2],[2649,4],2654,[2674,3],[2693,9],[2703,3],[2707,22],[2730,7],[2738,2],[2741,5],2749,2768,[2784,2],2809,[2821,8],[2831,2],[2835,22],[2858,7],[2866,2],[2869,5],2877,[2908,2],[2911,3],2929,2947,[2949,6],[2958,3],[2962,4],[2969,2],2972,[2974,2],[2979,2],[2984,3],[2990,12],3024,[3077,8],[3086,3],[3090,23],[3114,16],3133,[3160,3],[3168,2],3200,[3205,8],[3214,3],[3218,23],[3242,10],[3253,5],3261,3294,[3296,2],[3313,2],[3332,9],[3342,3],[3346,41],3389,3406,[3412,3],[3423,3],[3450,6],[3461,18],[3482,24],[3507,9],3517,[3520,7],[3585,48],3634,[3648,7],[3713,2],3716,[3718,5],[3724,24],3749,[3751,10],3762,3773,[3776,5],3782,[3804,4],3840,[3904,8],[3913,36],[3976,5],[4096,43],4159,[4176,6],[4186,4],4193,[4197,2],[4206,3],[4213,13],4238,[4256,38],4295,4301,[4304,43],4348,[4349,332],[4682,4],[4688,7],4696,[4698,4],[4704,41],[4746,4],[4752,33],[4786,4],[4792,7],4800,[4802,4],[4808,15],[4824,57],[4882,4],[4888,67],[4992,16],[5024,86],[5112,6],[5121,620],[5743,17],[5761,26],[5792,75],[5870,11],[5888,13],[5902,4],[5920,18],[5952,18],[5984,13],[5998,3],[6016,52],6103,6108,[6176,89],[6272,41],6314,[6320,70],[6400,31],[6480,30],[6512,5],[6528,44],[6576,26],[6656,23],[6688,53],6823,[6917,47],[6981,7],[7043,30],[7086,2],[7098,44],[7168,36],[7245,3],[7258,36],[7296,9],[7312,43],[7357,3],[7401,4],[7406,6],[7413,2],7418,[7424,192],[7680,278],[7960,6],[7968,38],[8008,6],[8016,8],8025,8027,8029,[8031,31],[8064,53],[8118,7],8126,[8130,3],[8134,7],[8144,4],[8150,6],[8160,13],[8178,3],[8182,7],8305,8319,[8336,13],8450,8455,[8458,10],8469,8472,[8473,5],8484,8486,8488,[8490,16],[8508,4],[8517,5],8526,[8544,41],[11264,47],[11312,47],[11360,133],[11499,4],[11506,2],[11520,38],11559,11565,[11568,56],11631,[11648,23],[11680,7],[11688,7],[11696,7],[11704,7],[11712,7],[11720,7],[11728,7],[11736,7],12293,12294,12295,[12321,9],[12337,5],[12344,5],[12353,86],[12445,3],[12449,90],[12540,4],[12549,43],[12593,94],[12704,32],[12784,16],[13312,6592],[19968,20989],[40960,1165],[42192,46],[42240,269],[42512,16],[42538,2],[42560,47],42623,[42624,30],[42656,80],[42775,9],[42786,103],[42891,53],[42946,9],[42997,13],[43011,3],[43015,4],[43020,23],[43072,52],[43138,50],[43250,6],43259,[43261,2],[43274,28],[43312,23],[43360,29],[43396,47],43471,[43488,5],43494,[43495,9],[43514,5],[43520,41],[43584,3],[43588,8],[43616,23],43642,[43646,50],43697,[43701,2],[43705,5],43712,43714,[43739,3],[43744,11],43762,[43763,2],[43777,6],[43785,6],[43793,6],[43808,7],[43816,7],[43824,43],[43868,14],[43888,115],[44032,11172],[55216,23],[55243,49],[63744,366],[64112,106],[64256,7],[64275,5],64285,[64287,10],[64298,13],[64312,5],64318,[64320,2],[64323,2],[64326,108],[64467,139],[64612,218],[64848,64],[64914,54],[65008,10],65137,65139,65143,65145,65147,65149,[65151,126],[65313,26],[65345,26],[65382,56],[65440,31],[65474,6],[65482,6],[65490,6],[65498,3],[65536,12],[65549,26],[65576,19],[65596,2],[65599,15],[65616,14],[65664,123],[65856,53],[66176,29],[66208,49],[66304,32],[66349,30],[66384,38],[66432,30],[66464,36],[66504,8],[66513,5],[66560,158],[66736,36],[66776,36],[66816,40],[66864,52],[67072,311],[67392,22],[67424,8],[67584,6],67592,[67594,44],[67639,2],67644,[67647,23],[67680,23],[67712,31],[67808,19],[67828,2],[67840,22],[67872,26],[67968,56],[68030,2],68096,[68112,4],[68117,3],[68121,29],[68192,29],[68224,29],[68288,8],[68297,28],[68352,54],[68416,22],[68448,19],[68480,18],[68608,73],[68736,51],[68800,51],[68864,36],[69248,42],[69296,2],[69376,29],69415,[69424,22],[69552,21],[69600,23],[69635,53],[69763,45],[69840,25],[69891,36],69956,69959,[69968,35],70006,[70019,48],[70081,4],70106,70108,[70144,18],[70163,25],[70272,7],70280,[70282,4],[70287,15],[70303,10],[70320,47],[70405,8],[70415,2],[70419,22],[70442,7],[70450,2],[70453,5],70461,70480,[70493,5],[70656,53],[70727,4],[70751,3],[70784,48],[70852,2],70855,[71040,47],[71128,4],[71168,48],71236,[71296,43],71352,[71424,27],[71680,44],[71840,64],[71935,8],71945,[71948,8],[71957,2],[71960,24],71999,72001,[72096,8],[72106,39],72161,72163,72192,[72203,40],72250,72272,[72284,46],72349,[72384,57],[72704,9],[72714,37],72768,[72818,30],[72960,7],[72968,2],[72971,38],73030,[73056,6],[73063,2],[73066,32],73112,[73440,19],73648,[73728,922],[74752,111],[74880,196],[77824,1071],[82944,583],[92160,569],[92736,31],[92880,30],[92928,48],[92992,4],[93027,21],[93053,19],[93760,64],[93952,75],94032,[94099,13],[94176,2],94179,[94208,6136],[100352,1238],[101632,9],[110592,287],[110928,3],[110948,4],[110960,396],[113664,107],[113776,13],[113792,9],[113808,10],[119808,85],[119894,71],[119966,2],119970,[119973,2],[119977,4],[119982,12],119995,[119997,7],[120005,65],[120071,4],[120077,8],[120086,7],[120094,28],[120123,4],[120128,5],120134,[120138,7],[120146,340],[120488,25],[120514,25],[120540,31],[120572,25],[120598,31],[120630,25],[120656,31],[120688,25],[120714,31],[120746,25],[120772,8],[123136,45],[123191,7],123214,[123584,44],[124928,197],[125184,68],125259,[126464,4],[126469,27],[126497,2],126500,126503,[126505,10],[126516,4],126521,126523,126530,126535,126537,126539,[126541,3],[126545,2],126548,126551,126553,126555,126557,126559,[126561,2],126564,[126567,4],[126572,7],[126580,4],[126585,4],126590,[126592,10],[126603,17],[126625,3],[126629,5],[126635,17],[131072,42718],[173824,4149],[177984,222],[178208,5762],[183984,7473],[194560,542],[196608,4939]],XID_Continue:[[48,10],[65,26],95,[97,26],170,181,183,186,[192,23],[216,31],[248,458],[710,12],[736,5],748,750,[768,117],[886,2],[891,3],895,902,903,[904,3],908,[910,20],[931,83],[1015,139],[1155,5],[1162,166],[1329,38],1369,[1376,41],[1425,45],1471,[1473,2],[1476,2],1479,[1488,27],[1519,4],[1552,11],[1568,74],[1646,102],1749,[1750,7],[1759,10],[1770,19],1791,1808,1809,[1810,57],[1869,101],[1984,54],2042,2045,[2048,46],[2112,28],[2144,11],[2208,21],[2230,18],[2259,15],[2275,129],[2406,10],2417,[2418,18],[2437,8],[2447,2],[2451,22],[2474,7],2482,[2486,4],2492,2493,[2494,7],[2503,2],[2507,4],2519,[2524,2],[2527,5],[2534,12],2556,2558,[2561,3],[2565,6],[2575,2],[2579,22],[2602,7],[2610,2],[2613,2],[2616,2],2620,[2622,5],[2631,2],[2635,3],2641,[2649,4],2654,[2662,16],[2689,3],[2693,9],[2703,3],[2707,22],[2730,7],[2738,2],[2741,5],2748,2749,[2750,8],[2759,3],[2763,3],2768,[2784,4],[2790,10],2809,[2810,6],2817,[2818,2],[2821,8],[2831,2],[2835,22],[2858,7],[2866,2],[2869,5],2876,2877,2878,2879,2880,[2881,4],[2887,2],[2891,3],[2901,3],[2908,2],[2911,5],[2918,10],2929,2946,2947,[2949,6],[2958,3],[2962,4],[2969,2],2972,[2974,2],[2979,2],[2984,3],[2990,12],[3006,5],[3014,3],[3018,4],3024,3031,[3046,10],3072,[3073,12],[3086,3],[3090,23],[3114,16],3133,[3134,7],[3142,3],[3146,4],[3157,2],[3160,3],[3168,4],[3174,10],3200,3201,[3202,2],[3205,8],[3214,3],[3218,23],[3242,10],[3253,5],3260,3261,3262,3263,[3264,5],3270,[3271,2],[3274,4],[3285,2],3294,[3296,4],[3302,10],[3313,2],[3328,13],[3342,3],[3346,51],[3398,3],[3402,5],[3412,4],[3423,5],[3430,10],[3450,6],3457,[3458,2],[3461,18],[3482,24],[3507,9],3517,[3520,7],3530,[3535,6],3542,[3544,8],[3558,10],[3570,2],[3585,58],[3648,15],[3664,10],[3713,2],3716,[3718,5],[3724,24],3749,[3751,23],[3776,5],3782,[3784,6],[3792,10],[3804,4],3840,[3864,2],[3872,10],3893,3895,3897,[3902,10],[3913,36],[3953,20],[3974,18],[3993,36],4038,[4096,74],[4176,78],[4256,38],4295,4301,[4304,43],4348,[4349,332],[4682,4],[4688,7],4696,[4698,4],[4704,41],[4746,4],[4752,33],[4786,4],[4792,7],4800,[4802,4],[4808,15],[4824,57],[4882,4],[4888,67],[4957,3],[4969,9],[4992,16],[5024,86],[5112,6],[5121,620],[5743,17],[5761,26],[5792,75],[5870,11],[5888,13],[5902,7],[5920,21],[5952,20],[5984,13],[5998,3],[6002,2],[6016,84],6103,6108,6109,[6112,10],[6155,3],[6160,10],[6176,89],[6272,43],[6320,70],[6400,31],[6432,12],[6448,12],[6470,40],[6512,5],[6528,44],[6576,26],[6608,11],[6656,28],[6688,63],6752,6753,6754,[6755,26],6783,[6784,10],[6800,10],6823,[6832,14],[6847,2],[6912,76],[6992,10],[7019,9],[7040,116],[7168,56],[7232,10],[7245,49],[7296,9],[7312,43],[7357,3],[7376,3],[7380,39],[7424,250],[7675,283],[7960,6],[7968,38],[8008,6],[8016,8],8025,8027,8029,[8031,31],[8064,53],[8118,7],8126,[8130,3],[8134,7],[8144,4],[8150,6],[8160,13],[8178,3],[8182,7],[8255,2],8276,8305,8319,[8336,13],[8400,13],8417,[8421,12],8450,8455,[8458,10],8469,8472,[8473,5],8484,8486,8488,[8490,16],[8508,4],[8517,5],8526,[8544,41],[11264,47],[11312,47],[11360,133],[11499,9],[11520,38],11559,11565,[11568,56],11631,11647,[11648,23],[11680,7],[11688,7],[11696,7],[11704,7],[11712,7],[11720,7],[11728,7],[11736,7],[11744,32],12293,12294,12295,[12321,15],[12337,5],[12344,5],[12353,86],[12441,2],[12445,3],[12449,90],[12540,4],[12549,43],[12593,94],[12704,32],[12784,16],[13312,6592],[19968,20989],[40960,1165],[42192,46],[42240,269],[42512,28],[42560,48],[42612,10],42623,[42624,114],[42775,9],[42786,103],[42891,53],[42946,9],[42997,51],43052,[43072,52],[43136,70],[43216,10],[43232,24],43259,[43261,49],[43312,36],[43360,29],[43392,65],43471,[43472,10],[43488,31],[43520,55],[43584,14],[43600,10],[43616,23],43642,43643,43644,43645,[43646,69],[43739,3],[43744,16],43762,[43763,4],[43777,6],[43785,6],[43793,6],[43808,7],[43816,7],[43824,43],[43868,14],[43888,123],44012,44013,[44016,10],[44032,11172],[55216,23],[55243,49],[63744,366],[64112,106],[64256,7],[64275,5],64285,64286,[64287,10],[64298,13],[64312,5],64318,[64320,2],[64323,2],[64326,108],[64467,139],[64612,218],[64848,64],[64914,54],[65008,10],[65024,16],[65056,16],[65075,2],[65101,3],65137,65139,65143,65145,65147,65149,[65151,126],[65296,10],[65313,26],65343,[65345,26],[65382,89],[65474,6],[65482,6],[65490,6],[65498,3],[65536,12],[65549,26],[65576,19],[65596,2],[65599,15],[65616,14],[65664,123],[65856,53],66045,[66176,29],[66208,49],66272,[66304,32],[66349,30],[66384,43],[66432,30],[66464,36],[66504,8],[66513,5],[66560,158],[66720,10],[66736,36],[66776,36],[66816,40],[66864,52],[67072,311],[67392,22],[67424,8],[67584,6],67592,[67594,44],[67639,2],67644,[67647,23],[67680,23],[67712,31],[67808,19],[67828,2],[67840,22],[67872,26],[67968,56],[68030,2],68096,[68097,3],[68101,2],[68108,8],[68117,3],[68121,29],[68152,3],68159,[68192,29],[68224,29],[68288,8],[68297,30],[68352,54],[68416,22],[68448,19],[68480,18],[68608,73],[68736,51],[68800,51],[68864,40],[68912,10],[69248,42],[69291,2],[69296,2],[69376,29],69415,[69424,33],[69552,21],[69600,23],69632,69633,69634,[69635,68],[69734,10],[69759,60],[69840,25],[69872,10],[69888,53],[69942,10],69956,[69957,3],[69968,36],70006,[70016,69],[70089,4],70094,70095,[70096,11],70108,[70144,18],[70163,37],70206,[70272,7],70280,[70282,4],[70287,15],[70303,10],[70320,59],[70384,10],[70400,4],[70405,8],[70415,2],[70419,22],[70442,7],[70450,2],[70453,5],[70459,10],[70471,2],[70475,3],70480,70487,[70493,7],[70502,7],[70512,5],[70656,75],[70736,10],70750,[70751,3],[70784,70],70855,[70864,10],[71040,54],[71096,9],[71128,6],[71168,65],71236,[71248,10],[71296,57],[71360,10],[71424,27],[71453,15],[71472,10],[71680,59],[71840,74],[71935,8],71945,[71948,8],[71957,2],[71960,30],[71991,2],[71995,9],[72016,10],[72096,8],[72106,46],[72154,8],72163,72164,72192,[72193,62],72263,72272,[72273,73],72349,[72384,57],[72704,9],[72714,45],[72760,9],[72784,10],[72818,30],[72850,22],72873,[72874,13],[72960,7],[72968,2],[72971,44],73018,[73020,2],[73023,9],[73040,10],[73056,6],[73063,2],[73066,37],[73104,2],[73107,6],[73120,10],[73440,23],73648,[73728,922],[74752,111],[74880,196],[77824,1071],[82944,583],[92160,569],[92736,31],[92768,10],[92880,30],[92912,5],[92928,55],[92992,4],[93008,10],[93027,21],[93053,19],[93760,64],[93952,75],94031,94032,[94033,55],[94095,17],[94176,2],94179,94180,[94192,2],[94208,6136],[100352,1238],[101632,9],[110592,287],[110928,3],[110948,4],[110960,396],[113664,107],[113776,13],[113792,9],[113808,10],[113821,2],[119141,5],[119149,6],[119163,8],[119173,7],[119210,4],[119362,3],[119808,85],[119894,71],[119966,2],119970,[119973,2],[119977,4],[119982,12],119995,[119997,7],[120005,65],[120071,4],[120077,8],[120086,7],[120094,28],[120123,4],[120128,5],120134,[120138,7],[120146,340],[120488,25],[120514,25],[120540,31],[120572,25],[120598,31],[120630,25],[120656,31],[120688,25],[120714,31],[120746,25],[120772,8],[120782,50],[121344,55],[121403,50],121461,121476,[121499,5],[121505,15],[122880,7],[122888,17],[122907,7],[122915,2],[122918,5],[123136,45],[123184,14],[123200,10],123214,[123584,58],[124928,197],[125136,7],[125184,76],[125264,10],[126464,4],[126469,27],[126497,2],126500,126503,[126505,10],[126516,4],126521,126523,126530,126535,126537,126539,[126541,3],[126545,2],126548,126551,126553,126555,126557,126559,[126561,2],126564,[126567,4],[126572,7],[126580,4],[126585,4],126590,[126592,10],[126603,17],[126625,3],[126629,5],[126635,17],[130032,10],[131072,42718],[173824,4149],[177984,222],[178208,5762],[183984,7473],[194560,542],[196608,4939],[917760,240]]},$B.unicode_tables={},$B.unicode)$B.unicode_tables[gc]={},$B.unicode[gc].forEach((function(e){if(Array.isArray(e))for(var t=e[2]||1,r=0,n=e[1];r<n;r+=1)$B.unicode_tables[gc][e[0]+r*t]=!0;else $B.unicode_tables[gc][e]=!0}));for(var key in $B.unicode_identifiers){$B.unicode_tables[key]={};for(const e of $B.unicode_identifiers[key])if(Array.isArray(e))for(var i=0;i<e[1];i++)$B.unicode_tables[key][e[0]+i]=!0;else $B.unicode_tables[key][e]=!0}$B.is_unicode_cn=function(e){for(var t=$B.unicode.Cn,r=0,n=t.length;r<n;r++)return e>=t[r][0]&&e<t[r][0]+t[r][1];return!1},function($B){var _b_=$B.builtins,unicode_tables=$B.unicode_tables;function pypos2jspos(e,t){if(void 0===e.surrogates)return t;for(var r=0;e.surrogates[r]<t;)r++;return t+r}function jspos2pypos(e,t){if(void 0===e.surrogates)return t;for(var r=0;e.surrogates[r]+r<t;)r++;return t-r}$B.has_surrogate=function(e){for(var t=0;t<e.length;t++)if(code=e.charCodeAt(t),code>=55296&&code<=56319)return!0;return!1},$B.String=function(e){for(var t=[],r=0,n=0,o=e.length;n<o;n++)e.codePointAt(n)>=65536&&(t.push(r),n++),r++;if(0==t.length)return e;var i=new String(e);return i.__class__=str,i.surrogates=t,i};var str={__class__:_b_.type,__dir__:_b_.object.__dir__,$infos:{__module__:"builtins",__name__:"str"},$is_class:!0,$native:!0};function normalize_start_end(e){var t;if(t="string"==typeof e.self?e.self.length:str.__len__(e.self),null===e.start||e.start===_b_.None?e.start=0:e.start<0&&(e.start+=t,e.start=Math.max(0,e.start)),null===e.end||e.end===_b_.None?e.end=t:e.end<0&&(e.end+=t,e.end=Math.max(0,e.end)),!_b_.isinstance(e.start,_b_.int)||!_b_.isinstance(e.end,_b_.int))throw _b_.TypeError.$factory("slice indices must be integers or None or have an __index__ method");e.self.surrogates&&(e.js_start=pypos2jspos(e.self,e.start),e.js_end=pypos2jspos(e.self,e.end))}function reverse(e){return e.split("").reverse().join("")}function check_str(e,t){if(!(e instanceof String||"string"==typeof e||_b_.isinstance(e,str)))throw _b_.TypeError.$factory((t||"")+"must be str, not "+$B.class_name(e))}function to_chars(e){for(var t=[],r=0,n=e.length;r<n;r++){var o=e.charCodeAt(r);o>=55296&&o<=56319?(t.push(e.substr(r,2)),r++):t.push(e.charAt(r))}return t}function to_codepoints(e){if(e.codepoints)return e.codepoints;for(var t=[],r=0,n=e.length;r<n;r++){var o=e.charCodeAt(r);if(o>=55296&&o<=56319){var i=65536;i+=(1023&o)<<10,i+=1023&e.charCodeAt(r+1),t.push(i),r++}else t.push(o)}return e.codepoints=t}function preformat(e,t){if(t.empty)return _b_.str.$factory(e);if(t.type&&"s"!=t.type)throw _b_.ValueError.$factory("Unknown format code '"+t.type+"' for object of type 'str'");return e}str.__add__=function(e,t){if(!_b_.isinstance(t,str))try{return $B.$getattr(t,"__radd__")(e)}catch(e){throw _b_.TypeError.$factory("Can't convert "+$B.class_name(t)+" to str implicitly")}return $B.String(e+t)},str.__contains__=function(e,t){if(!_b_.isinstance(t,str))throw _b_.TypeError.$factory("'in <string>' requires string as left operand, not "+t.__class__);if(t.__class__===str||_b_.isinstance(t,str))var r=t.length;else r=_b_.len(t);if(0==r)return!0;if(0==e.length)return 0==r;for(var n=0,o=e.length;n<o;n++)if(e.substr(n,r)==t)return!0;return!1},str.__delitem__=function(){throw _b_.TypeError.$factory("'str' object doesn't support item deletion")},str.__dir__=_b_.object.__dir__,str.__eq__=function(e,t){return _b_.isinstance(t,_b_.str)?t.valueOf()==e.valueOf():_b_.NotImplemented},str.__format__=function(e,t){var r=new $B.parse_format_spec(t);if(void 0!==r.sign)throw _b_.ValueError.$factory("Sign not allowed in string format specifier");return r.precision&&(e=e.substr(0,r.precision)),r.align=r.align||"<",$B.format_width(preformat(e,r),r)},str.__getitem__=function(e,t){var r=str.__len__(e);if(_b_.isinstance(t,_b_.int)){var n=t;if(t<0&&(n+=r),n>=0&&n<r){var o=pypos2jspos(e,n);return e.codePointAt(o)>=65536?$B.String(e.substr(o,2)):e[o]}throw _b_.IndexError.$factory("string index out of range")}if(_b_.isinstance(t,_b_.slice)){var i=_b_.slice.$conv_for_seq(t,r),a=pypos2jspos(e,i.start),s=pypos2jspos(e,i.stop),l=i.step,_="",c=null;if(l>0){if(s<=a)return"";for(c=a;c<s;c+=l)_+=e[c]}else{if(s>=a)return"";for(c=a;c>s;c+=l)_+=e[c]}return $B.String(_)}if(_b_.isinstance(t,_b_.bool))return e.__getitem__(_b_.int.$factory(t));throw _b_.TypeError.$factory("string indices must be integers")};var prefix=2,suffix=3,mask=2**32-1,str_hash_cache={};function fnv(e){if(0==e.length)return 0;var t=prefix;t=(t^e[0]<<7)&mask;for(var r=0,n=e.length;r<n;r++)t=(1000003*t^e[r])&mask;return-1==(t=((t=(t^e.length)&mask)^suffix)&mask)&&(t=-2),t}str.$nb_str_hash_cache=0,str.__hash__=function(e){if(void 0!==str_hash_cache[e])return str_hash_cache[e];str.$nb_str_hash_cache++,str.$nb_str_hash_cache>1e5&&(str.$nb_str_hash_cache=0,str_hash_cache={});try{return str_hash_cache[e]=fnv(to_codepoints(e))}catch(t){throw console.log("error hash, cps",e,to_codepoints(e)),t}},str.__init__=function(e,t){return e.valueOf=function(){return t},e.toString=function(){return t},_b_.None};var str_iterator=$B.make_iterator_class("str_iterator");str.__iter__=function(e){return str_iterator.$factory(to_chars(e))},str.__len__=function(e){return void 0===e.surrogates?e.length:void 0!==e.len?e.len:e.len=e.valueOf().length-e.surrogates.length};var kwarg_key=new RegExp("([^\\)]*)\\)"),NotANumber=function(){this.name="NotANumber"},number_check=function(e){if(!_b_.isinstance(e,[_b_.int,_b_.float]))throw new NotANumber},get_char_array=function(e,t){return e<=0?"":new Array(e+1).join(t)},format_padding=function(e,t,r){var n=t.padding;return n?(e=e.toString(),n=parseInt(n,10),r&&(n-=1),t.left?e+get_char_array(n-e.length,t.pad_char):get_char_array(n-e.length,t.pad_char)+e):e},format_int_precision=function(e,t){var r,n=t.precision;return n?(n=parseInt(n,10),"-"===(r=e.__class__===$B.long_int?$B.long_int.to_base(e,10):e.toString())[0]?"-"+get_char_array(n-r.length+1,"0")+r.slice(1):get_char_array(n-r.length,"0")+r):e.toString()},format_float_precision=function(e,t,r,n){var o=r.precision;return isFinite(e)?n(e,o,r,t):(e=e===1/0?"inf":e===-1/0?"-inf":"nan",t?e.toUpperCase():e)},format_sign=function(e,t){if(t.sign){if(e>=0)return"+"}else if(t.space&&e>=0)return" ";return""},str_format=function(e,t){return t.pad_char=" ",format_padding(str.$factory(e),t)},num_format=function(e,t){number_check(e),e=e.__class__===$B.long_int?$B.long_int.to_base(e,10):parseInt(e);var r=format_int_precision(e,t);if("0"===t.pad_char){if(e<0)return r=r.substring(1),"-"+format_padding(r,t,!0);var n=format_sign(e,t);if(""!==n)return n+format_padding(r,t,!0)}return format_padding(format_sign(e,t)+r,t)},repr_format=function(e,t){return t.pad_char=" ",format_padding(_b_.repr(e),t)},ascii_format=function(e,t){return t.pad_char=" ",format_padding(_b_.ascii(e),t)},_float_helper=function(e,t){return number_check(e),t.precision?(t.precision=parseInt(t.precision,10),validate_precision(t.precision)):t.decimal_point?t.precision=0:t.precision=6,parseFloat(e)},trailing_zeros=/(.*?)(0+)([eE].*)/,leading_zeros=/\.(0*)/,trailing_dot=/\.$/,validate_precision=function(e){e>20&&(e=20)},floating_point_format=function(e,t,r){if(e=_float_helper(e,r),v=e.toString(),v_len=v.length,dot_idx=v.indexOf("."),dot_idx<0&&(dot_idx=v_len),e<1&&e>-1){var n,o=leading_zeros.exec(v);return(n=o?o[1].length:0)>=4?(e=format_sign(e,r)+format_float_precision(e,t,r,_floating_g_exp_helper),r.alternate?r.precision<=1&&(e=e[0]+"."+e.substring(1)):(i=trailing_zeros.exec(e))&&(e=i[1].replace(trailing_dot,"")+i[3]),format_padding(e,r)):(r.precision=(r.precision||0)+n,format_padding(format_sign(e,r)+format_float_precision(e,t,r,(function(e,t){return e.toFixed(_b_.min(t,v_len-dot_idx)+n)})),r))}var i;return dot_idx>r.precision?(e=format_sign(e,r)+format_float_precision(e,t,r,_floating_g_exp_helper),r.alternate?r.precision<=1&&(e=e[0]+"."+e.substring(1)):(i=trailing_zeros.exec(e))&&(e=i[1].replace(trailing_dot,"")+i[3]),format_padding(e,r)):format_padding(format_sign(e,r)+format_float_precision(e,t,r,(function(e,t){return r.decimal_point?t>v_len&&(r.alternate||(t=v_len)):t=_b_.min(v_len-1,6),t<dot_idx&&(t=dot_idx),e.toFixed(t-dot_idx)})),r)},_floating_g_exp_helper=function(e,t,r,n){t&&--t;var o=(e=e.toExponential(t)).lastIndexOf("e");return o>e.length-4&&(e=e.substring(0,o+2)+"0"+e.substring(o+2)),n?e.toUpperCase():e},floating_point_decimal_format=function(e,t,r){return e=_float_helper(e,r),format_padding(format_sign(e,r)+format_float_precision(e,t,r,(function(e,t,r){return e=e.toFixed(t),0===t&&r.alternate&&(e+="."),e})),r)},_floating_exp_helper=function(e,t,r,n){var o=(e=e.toExponential(t)).lastIndexOf("e");return o>e.length-4&&(e=e.substring(0,o+2)+"0"+e.substring(o+2)),n?e.toUpperCase():e},floating_point_exponential_format=function(e,t,r){return e=_float_helper(e,r),format_padding(format_sign(e,r)+format_float_precision(e,t,r,_floating_exp_helper),r)},signed_hex_format=function(e,t,r){var n;if(number_check(e),n=e.__class__===$B.long_int?$B.long_int.to_base(e,16):(n=parseInt(e)).toString(16),n=format_int_precision(n,r),t&&(n=n.toUpperCase()),"0"===r.pad_char){e<0&&(n=n.substring(1),n="-"+format_padding(n,r,!0));var o=format_sign(e,r);""!==o&&(n=o+format_padding(n,r,!0))}return r.alternate&&(n="-"===n.charAt(0)?t?"-0X"+n.slice(1):"-0x"+n.slice(1):t?"0X"+n:"0x"+n),format_padding(format_sign(e,r)+n,r)},octal_format=function(e,t){var r;if(number_check(e),r=e.__class__===$B.long_int?$B.long_int.to_base(8):(r=parseInt(e)).toString(8),r=format_int_precision(r,t),"0"===t.pad_char){e<0&&(r=r.substring(1),r="-"+format_padding(r,t,!0));var n=format_sign(e,t);""!==n&&(r=n+format_padding(r,t,!0))}return t.alternate&&(r="-"===r.charAt(0)?"-0o"+r.slice(1):"0o"+r),format_padding(r,t)};function series_of_bytes(e,t){if(e.__class__&&e.__class__.$buffer_protocol)for(var r=_b_.iter(e),n=[];;)try{n.push(_b_.next(r))}catch(e){if(e.__class__===_b_.StopIteration){var o=_b_.bytes.$factory(n);return format_padding(_b_.bytes.decode(o,"ascii"),t)}throw e}else try{return bytes_obj=$B.$getattr(e,"__bytes__"),format_padding(_b_.bytes.decode(bytes_obj),t)}catch(t){if(t.__class__===_b_.AttributeError)throw _b_.TypeError.$factory("%b does not accept '"+$B.class_name(e)+"'");throw t}}var single_char_format=function(e,t){if(_b_.isinstance(e,str)&&1==e.length)return e;if(_b_.isinstance(e,_b_.bytes)&&1==e.source.length)e=e.source[0];else try{e=_b_.int.$factory(e)}catch(e){throw _b_.TypeError.$factory("%c requires int or char")}return format_padding(_b_.chr(e),t)},num_flag=function(e,t){"0"!==e||t.padding||t.decimal_point||t.left?t.decimal_point?t.precision=(t.precision||"")+e:t.padding=(t.padding||"")+e:t.pad_char="0"},decimal_point_flag=function(e,t){if(t.decimal_point)throw new UnsupportedChar;t.decimal_point=!0},neg_flag=function(e,t){t.pad_char=" ",t.left=!0},space_flag=function(e,t){t.space=!0},sign_flag=function(e,t){t.sign=!0},alternate_flag=function(e,t){t.alternate=!0},char_mapping={b:series_of_bytes,s:str_format,d:num_format,i:num_format,u:num_format,o:octal_format,r:repr_format,a:ascii_format,g:function(e,t){return floating_point_format(e,!1,t)},G:function(e,t){return floating_point_format(e,!0,t)},f:function(e,t){return floating_point_decimal_format(e,!1,t)},F:function(e,t){return floating_point_decimal_format(e,!0,t)},e:function(e,t){return floating_point_exponential_format(e,!1,t)},E:function(e,t){return floating_point_exponential_format(e,!0,t)},x:function(e,t){return signed_hex_format(e,!1,t)},X:function(e,t){return signed_hex_format(e,!0,t)},c:single_char_format,0:function(e,t){return num_flag("0",t)},1:function(e,t){return num_flag("1",t)},2:function(e,t){return num_flag("2",t)},3:function(e,t){return num_flag("3",t)},4:function(e,t){return num_flag("4",t)},5:function(e,t){return num_flag("5",t)},6:function(e,t){return num_flag("6",t)},7:function(e,t){return num_flag("7",t)},8:function(e,t){return num_flag("8",t)},9:function(e,t){return num_flag("9",t)},"-":neg_flag," ":space_flag,"+":sign_flag,".":decimal_point_flag,"#":alternate_flag},UnsupportedChar=function(){this.name="UnsupportedChar"};function __newobj__(){var e=$B.args("__newobj__",0,{},[],arguments,{},"args",null),t=e.args,r=t[1];return r.__class__=t[0],r}str.__mod__=function(e,t){var r,n=e.length,o=0,i=null;_b_.isinstance(t,_b_.tuple)?i=0:r=$B.$getattr(t,"__getitem__",_b_.None);var a="",s=function(e){++o;var t=kwarg_key.exec(e.substring(u));if(!t)throw _b_.ValueError.$factory("incomplete format key");var n=t[1];u+=t[0].length;try{var i=r(n)}catch(e){if(e.__class__===_b_.KeyError)throw e;throw _b_.TypeError.$factory("format requires a mapping")}return _(e,i)},l=function(e){var r;if(null===i)r=t;else if(void 0===(r=t[i++]))throw _b_.TypeError.$factory("not enough arguments for format string");return _(e,r)},_=function(e,t){for(var r={pad_char:" "};;){var n=char_mapping[e[u]];try{if(void 0===n)throw new UnsupportedChar;var o=n(t,r);if(void 0!==o)return o;++u}catch(r){if("UnsupportedChar"==r.name){if(invalid_char=e[u],void 0===invalid_char)throw _b_.ValueError.$factory("incomplete format");throw _b_.ValueError.$factory("unsupported format character '"+invalid_char+"' (0x"+invalid_char.charCodeAt(0).toString(16)+") at index "+u)}if("NotANumber"===r.name){var i=e[u],a=t.__class__;throw a=a?a.$infos.__name__:"string"==typeof t?"str":typeof t,_b_.TypeError.$factory("%"+i+" format: a number is required, not "+a)}throw r}}},c=0;do{var u=e.indexOf("%",o);if(u<0){a+=e.substring(o);break}if(a+=e.substring(o,u),!(++u<n))throw _b_.ValueError.$factory("incomplete format");"%"===e[u]?a+="%":(c++,"("===e[u]?(++u,a+=s(e)):a+=l(e)),o=u+1}while(o<n);if(null!==i){if(t.length>i)throw _b_.TypeError.$factory("not enough arguments for format string");if(t.length<i)throw _b_.TypeError.$factory("not all arguments converted during string formatting")}else if(0==c)throw _b_.TypeError.$factory("not all arguments converted during string formatting");return a},str.__mro__=[_b_.object],str.__mul__=function(){var e=$B.args("__mul__",2,{self:null,other:null},["self","other"],arguments,{},null,null);if(!_b_.isinstance(e.other,_b_.int))throw _b_.TypeError.$factory("Can't multiply sequence by non-int of type '"+$B.class_name(e.other)+"'");return e.self.valueOf().repeat(e.other<0?0:e.other)},str.__ne__=function(e,t){return t.valueOf()!==e.valueOf()},str.__reduce_ex__=function(e){return $B.fast_tuple([__newobj__,$B.fast_tuple([e.__class__||_b_.str,e]),_b_.None,_b_.None])},str.__repr__=function(e){for(var t=$B.special_string_repr,r="",n=to_chars(e),o=0;o<n.length;o++){var i=_b_.ord(n[o]);if(void 0!==t[i])r+=t[i];else if($B.is_unicode_cn(i)){for(var a=i.toString(16);a.length<4;)a="0"+a;r+="\\u"+a}else i<32||i>=127&&i<160?((i=i.toString(16)).length<2&&(i="0"+i),r+="\\x"+i):i>=768&&i<=879?r+="​"+n[o]+" ":"feff"==i.toString(16)?r+="\\ufeff":r+=n[o]}var s=r;if(-1==s.search('"')&&-1==s.search("'"))return"'"+s+"'";if(-1==e.search('"'))return'"'+s+'"';var l=new RegExp("'","g");return"'"+s.replace(l,"\\'")+"'"},str.__rmul__=function(e,t){if(_b_.isinstance(t,_b_.int)){t=_b_.int.numerator(t);for(var r="";t>0;)r+=e,t--;return r}return _b_.NotImplemented},str.__setattr__=function(e,t,r){if("string"==typeof e)throw str.hasOwnProperty(t)?_b_.AttributeError.$factory("'str' object attribute '"+t+"' is read-only"):_b_.AttributeError.$factory("'str' object has no attribute '"+t+"'");return _b_.dict.$setitem(e.__dict__,t,r),$N},str.__setitem__=function(e,t,r){throw _b_.TypeError.$factory("'str' object does not support item assignment")};for(var combining=[],cp=768;cp<=879;cp++)combining.push(String.fromCharCode(cp));var combining_re=new RegExp("("+combining.join("|")+")","g");str.__str__=function(e){var t="",r=to_chars(e);if(r.length==e.length)return e.replace(combining_re,"​$1");for(var n=0;n<r.length;n++){var o=_b_.ord(r[n]);t+=o>=768&&o<=879?"​"+r[n]:r[n]}return t},str.toString=function(){return"string!"};var $comp_func=function(e,t){return"string"!=typeof t?_b_.NotImplemented:e>t};$comp_func+="";var $comps={">":"gt",">=":"ge","<":"lt","<=":"le"};for(var $op in $comps)eval("str.__"+$comps[$op]+"__ = "+$comp_func.replace(/>/gm,$op));var $notimplemented=function(e,t){throw _b_.NotImplementedError.$factory("OPERATOR not implemented for class str")};str.capitalize=function(e){return $B.args("capitalize",1,{self:e},["self"],arguments,{},null,null),0==e.length?"":e.charAt(0).toUpperCase()+e.substr(1)},str.casefold=function(e){for(var t,r,n=$B.args("casefold",1,{self:e},["self"],arguments,{},null,null),o="",i=to_chars(n.self),a=0,s=i.length;a<s;a++)t=i[a],(r=$B.unicode_casefold[t])?r.forEach((function(e){o+=String.fromCharCode(e)})):o+=t.toLowerCase();return o},str.center=function(){var e=$B.args("center",3,{self:null,width:null,fillchar:null},["self","width","fillchar"],arguments,{fillchar:" "},null,null),t=e.self;if(e.width<=t.length)return t;var r=parseInt((e.width-t.length)/2),n=e.fillchar.repeat(r);return(n+=t+n).length<e.width&&(n+=e.fillchar),n},str.count=function(){var e=$B.args("count",4,{self:null,sub:null,start:null,stop:null},["self","sub","start","stop"],arguments,{start:null,stop:null},null,null);if("string"!=typeof e.sub.valueOf())throw _b_.TypeError.$factory("Can't convert '"+$B.class_name(e.sub)+"' object to str implicitly");var t,r=e.self;if(null!==e.start)t=null!==e.stop?_b_.slice.$factory(e.start,e.stop):_b_.slice.$factory(e.start,e.self.length),r=str.__getitem__.apply(null,[e.self].concat(t));else if(e.self.length+e.sub.length==0)return 1;if(0==e.sub.length)return e.start==e.self.length?1:0==r.length?0:r.length+1;for(var n=0,o=0;o<r.length&&(o=r.indexOf(e.sub,o))>=0;)n++,o+=e.sub.length;return n},str.encode=function(){var e=$B.args("encode",3,{self:null,encoding:null,errors:null},["self","encoding","errors"],arguments,{encoding:"utf-8",errors:"strict"},null,null);if("rot13"==e.encoding||"rot_13"==e.encoding){for(var t="",r=0,n=e.self.length;r<n;r++){var o=e.self.charAt(r);t+="a"<=o&&o<="m"||"A"<=o&&o<="M"?String.fromCharCode(String.charCodeAt(o)+13):"m"<o&&o<="z"||"M"<o&&o<="Z"?String.fromCharCode(String.charCodeAt(o)-13):o}return t}return _b_.bytes.__new__(_b_.bytes,e.self,e.encoding,e.errors)},str.endswith=function(){var e=$B.args("endswith",4,{self:null,suffix:null,start:null,end:null},["self","suffix","start","end"],arguments,{start:0,end:null},null,null);normalize_start_end(e);var t=e.suffix;_b_.isinstance(t,_b_.tuple)||(t=[t]);for(var r=to_chars(e.self),n=r.slice(e.start,e.end),o=0,i=t.length;o<i;o++){var a=t[o];if(!_b_.isinstance(a,str))throw _b_.TypeError.$factory("endswith first arg must be str or a tuple of str, not int");if(a.length<=n.length&&n.slice(n.length-a.length).join("")==a)return!0}return!1},str.expandtabs=function(e,t){var r=$B.args("expandtabs",2,{self:null,tabsize:null},["self","tabsize"],arguments,{tabsize:8},null,null),n=$B.$GetInt(r.tabsize),o=0,i=0,a="",s=to_chars(e);if(1==n)return e.replace(/\t/g," ");for(;i<s.length;){var l=s[i];switch(l){case"\t":for(;o%n>0;)a+=" ",o++;break;case"\r":case"\n":a+=l,o=0;break;default:a+=l,o++}i++}return a},str.find=function(){var e=$B.args("str.find",4,{self:null,sub:null,start:null,end:null},["self","sub","start","end"],arguments,{start:0,end:null},null,null);check_str(e.sub),normalize_start_end(e);var t=str.__len__(e.self),r=str.__len__(e.sub);if(0==r&&e.start==t)return t;if(t+r==0)return-1;var n=pypos2jspos(e.self,e.start),o=pypos2jspos(e.self,e.end),i=e.self.substring(n,o).indexOf(e.sub);return-1==i?-1:jspos2pypos(e.self,n+i)},$B.parse_format=function(e){var t,r,n,o=e.split(":"),i=[];return 1==o.length?t=e:(t=o[0],n=o.splice(1).join(":")),(o=t.split("!")).length>1&&(t=o[0],r=o[1]),void 0!==t&&(t=t.replace(/\.[_a-zA-Z][_a-zA-Z0-9]*|\[[_a-zA-Z][_a-zA-Z0-9]*\]|\[[0-9]+\]/g,(function(e){return i.push(e),""}))),{name:t,name_ext:i,conv:r,spec:n||"",string:e}},$B.split_format=function(e){for(var t,r=0,n=e.length,o="",i=[],a=0;r<n;)if("{"==(t=e.charAt(r))&&"{"==e.charAt(r+1))o+="{",r+=2;else if("}"==t&&"}"==e.charAt(r+1))o+="}",r+=2;else if("{"==t){i.push(o);for(var s=r+1,l=1;s<n;)if("{"==e.charAt(s))l++,s++;else if("}"==e.charAt(s)){if(s++,0==--l){var _=e.substring(r+1,s-1),c=$B.parse_format(_);if(c.raw_name=c.name,c.raw_spec=c.spec,c.name||(c.name=a+"",a++),void 0!==c.spec){function u(e,t){return""==t?"{"+a+++"}":"{"+t+"}"}c.spec=c.spec.replace(/\{(.*?)\}/g,u)}i.push(c),o="";break}}else s++;if(l>0)throw _b_.ValueError.$factory("wrong format "+e);r=s}else o+=t,r++;return o&&i.push(o),i},str.format=function(e){var t=$B.last(arguments);if("mapping"==t.$nat){for(var r=t.mapping,n=$B.$getattr(r,"__getitem__"),o=[],i=0,a=arguments.length-1;i<a;i++)o.push(arguments[i]);var s=$B.args("format",1,{self:null},["self"],o,{},"$args",null)}else r=(s=$B.args("format",1,{self:null},["self"],arguments,{},"$args","$kw")).$kw,n=function(e){return _b_.dict.$getitem(r,e)};var l,_=$B.split_format(s.self),c="";for(i=0;i<_.length;i++)if("string"!=typeof _[i]){if(void 0!==(l=_[i]).spec){function u(e,t){return/\d+/.exec(t)?_b_.tuple.__getitem__(s.$args,parseInt(t)):_b_.dict.__getitem__(s.$kw,t)}l.spec=l.spec.replace(/\{(.*?)\}/g,u)}if(l.name.charAt(0).search(/\d/)>-1)var f=parseInt(l.name),p=_b_.tuple.__getitem__(s.$args,f);else p=n(l.name);for(var d=0;d<l.name_ext.length;d++){var h=l.name_ext[d];if("."==h.charAt(0))p=$B.$getattr(p,h.substr(1));else{var m=h.substr(1,h.length-2);m.charAt(0).search(/\d/)>-1&&(m=parseInt(m)),p=$B.$getattr(p,"__getitem__")(m)}}"a"==l.conv?p=_b_.ascii(p):"r"==l.conv?p=_b_.repr(p):"s"==l.conv&&(p=_b_.str.$factory(p)),p.$is_class||p.$factory?c+=p.__class__.__format__(p,l.spec):c+=$B.$getattr(p,"__format__")(l.spec)}else c+=_[i];return c},str.format_map=function(e,t){return $B.args("format_map",2,{self:null,mapping:null},["self","mapping"],arguments,{},null,null),str.format(e,{$nat:"mapping",mapping:t})},str.index=function(e){var t=str.find.apply(null,arguments);if(-1===t)throw _b_.ValueError.$factory("substring not found");return t},str.isascii=function(e){for(var t=0,r=e.length;t<r;t++)if(e.charCodeAt(t)>127)return!1;return!0},str.isalnum=function(e){var t;for(var r of($B.args("isalnum",1,{self:null},["self"],arguments,{},null,null),to_chars(e)))if(t=_b_.ord(r),!(unicode_tables.Ll[t]||unicode_tables.Lu[t]||unicode_tables.Lm[t]||unicode_tables.Lt[t]||unicode_tables.Lo[t]||unicode_tables.Nd[t]||unicode_tables.digits[t]||unicode_tables.numeric[t]))return!1;return!0},str.isalpha=function(e){var t;for(var r of($B.args("isalpha",1,{self:null},["self"],arguments,{},null,null),to_chars(e)))if(t=_b_.ord(r),!(unicode_tables.Ll[t]||unicode_tables.Lu[t]||unicode_tables.Lm[t]||unicode_tables.Lt[t]||unicode_tables.Lo[t]))return!1;return!0},str.isdecimal=function(e){var t;for(var r of($B.args("isdecimal",1,{self:null},["self"],arguments,{},null,null),to_chars(e)))if(t=_b_.ord(r),!unicode_tables.Nd[t])return!1;return e.length>0},str.isdigit=function(e){var t;for(var r of($B.args("isdigit",1,{self:null},["self"],arguments,{},null,null),to_chars(e)))if(t=_b_.ord(r),!unicode_tables.digits[t])return!1;return e.length>0},str.isidentifier=function(e){if($B.args("isidentifier",1,{self:null},["self"],arguments,{},null,null),0==e.length)return!1;var t=to_chars(e);if(void 0===unicode_tables.XID_Start[_b_.ord(t[0])])return!1;for(var r of t){var n=_b_.ord(r);if(void 0===unicode_tables.XID_Continue[n])return!1}return!0},str.islower=function(e){$B.args("islower",1,{self:null},["self"],arguments,{},null,null);var t,r=!1;for(var n of to_chars(e))if(t=_b_.ord(n),unicode_tables.Ll[t])r=!0;else if(unicode_tables.Lu[t]||unicode_tables.Lt[t])return!1;return r},str.isnumeric=function(e){for(var t of($B.args("isnumeric",1,{self:null},["self"],arguments,{},null,null),to_chars(e)))if(!unicode_tables.numeric[_b_.ord(t)])return!1;return e.length>0};var unprintable={},unprintable_gc=["Cc","Cf","Co","Cs","Zl","Zp","Zs"];function $re_escape(e){for(var t="[.*+?|()$^",r=0,n=t.length;r<n;r++){var o=new RegExp("\\"+t.charAt(r),"g");e=e.replace(o,"\\"+t.charAt(r))}return e}str.isprintable=function(e){if(0==Object.keys(unprintable).length){for(var t=0;t<unprintable_gc.length;t++){var r=unicode_tables[unprintable_gc[t]];for(var n in r)unprintable[n]=!0}unprintable[32]=!0}for(var o of($B.args("isprintable",1,{self:null},["self"],arguments,{},null,null),to_chars(e)))if(unprintable[_b_.ord(o)])return!1;return!0},str.isspace=function(e){var t;for(var r of($B.args("isspace",1,{self:null},["self"],arguments,{},null,null),to_chars(e)))if(t=_b_.ord(r),!unicode_tables.Zs[t]&&-1==$B.unicode_bidi_whitespace.indexOf(t))return!1;return e.length>0},str.istitle=function(e){return $B.args("istitle",1,{self:null},["self"],arguments,{},null,null),e.length>0&&str.title(e)==e},str.isupper=function(e){$B.args("islower",1,{self:null},["self"],arguments,{},null,null);var t,r=!1;for(var n of to_chars(e))if(t=_b_.ord(n),unicode_tables.Lu[t])r=!0;else if(unicode_tables.Ll[t]||unicode_tables.Lt[t])return!1;return r},str.join=function(){for(var e=$B.args("join",2,{self:null,iterable:null},["self","iterable"],arguments,{},null,null),t=_b_.iter(e.iterable),r=[],n=0;;)try{var o=_b_.next(t);if(!_b_.isinstance(o,str))throw _b_.TypeError.$factory("sequence item "+n+": expected str instance, "+$B.class_name(o)+" found");r.push(o)}catch(e){if(_b_.isinstance(e,_b_.StopIteration))break;throw e}return r.join(e.self)},str.ljust=function(e){var t=$B.args("ljust",3,{self:null,width:null,fillchar:null},["self","width","fillchar"],arguments,{fillchar:" "},null,null),r=str.__len__(e);return t.width<=r?e:e+t.fillchar.repeat(t.width-r)},str.lower=function(e){return $B.args("lower",1,{self:null},["self"],arguments,{},null,null),e.toLowerCase()},str.lstrip=function(e,t){var r=$B.args("lstrip",2,{self:null,chars:null},["self","chars"],arguments,{chars:_b_.None},null,null),n=(e=r.self,r.chars);if(n===_b_.None)return e.trimStart();for(;e.length>0;){var o=!1;for(var i of n)if(e.startsWith(i)){e=e.substr(i.length),o=!0;break}if(!o)return r.self.surrogates?$B.String(e):e}return""},str.maketrans=function(){var e=$B.args("maketrans",3,{x:null,y:null,z:null},["x","y","z"],arguments,{y:null,z:null},null,null),t=$B.empty_dict();if(null===e.y&&null===e.z){if(!_b_.isinstance(e.x,_b_.dict))throw _b_.TypeError.$factory("maketrans only argument must be a dict");for(var r=_b_.list.$factory(_b_.dict.items(e.x)),n=0,o=r.length;n<o;n++){var i=r[n][0],a=r[n][1];if(!_b_.isinstance(i,_b_.int)){if(!_b_.isinstance(i,_b_.str)||1!=i.length)throw _b_.TypeError.$factory("dictionary key "+i+" is not int or 1-char string");i=_b_.ord(i)}if(a!==_b_.None&&!_b_.isinstance(a,[_b_.int,_b_.str]))throw _b_.TypeError.$factory("dictionary value "+a+" is not None, integer or string");_b_.dict.$setitem(t,i,a)}return t}if(_b_.isinstance(e.x,_b_.str)&&_b_.isinstance(e.y,_b_.str)){if(e.x.length!==e.y.length)throw _b_.TypeError.$factory("maketrans arguments must be strings or same length");var s={};if(null!==e.z){if(!_b_.isinstance(e.z,_b_.str))throw _b_.TypeError.$factory("maketrans third argument must be a string");for(n=0,o=e.z.length;n<o;n++)s[_b_.ord(e.z.charAt(n))]=!0}for(n=0,o=e.x.length;n<o;n++){var l=_b_.ord(e.x.charAt(n)),_=e.y.charCodeAt(n);_b_.dict.$setitem(t,l,_)}for(var i in s)_b_.dict.$setitem(t,parseInt(i),_b_.None);return t}throw _b_.TypeError.$factory("maketrans arguments must be strings")},str.maketrans.$type="staticmethod",str.partition=function(){var e=$B.args("partition",2,{self:null,sep:null},["self","sep"],arguments,{},null,null);if(""==e.sep)throw _b_.ValueError.$factory("empty separator");check_str(e.sep);var t=to_chars(e.self),r=e.self.indexOf(e.sep);return-1==r?_b_.tuple.$factory([e.self,"",""]):_b_.tuple.$factory([t.slice(0,r).join(""),e.sep,t.slice(r+e.sep.length).join("")])},str.removeprefix=function(){var e=$B.args("removeprefix",2,{self:null,prefix:null},["self","prefix"],arguments,{},null,null);if(!_b_.isinstance(e.prefix,str))throw _b_.ValueError.$factory(`prefix should be str, not '${$B.class_name(e.prefix)}'`);return str.startswith(e.self,e.prefix)?e.self.substr(e.prefix.length):e.self.substr(0)},str.removesuffix=function(){var e=$B.args("removesuffix",2,{self:null,prefix:null},["self","suffix"],arguments,{},null,null);if(!_b_.isinstance(e.suffix,str))throw _b_.ValueError.$factory(`suffix should be str, not '${$B.class_name(e.prefix)}'`);return e.suffix.length>0&&str.endswith(e.self,e.suffix)?e.self.substr(0,e.self.length-e.suffix.length):e.self.substr(0)},str.replace=function(e,t,r,n){var o=$B.args("replace",4,{self:null,old:null,new:null,count:null},["self","old","new","count"],arguments,{count:-1},null,null);if(n=o.count,e=o.self,t=o.old,r=o.new,check_str(t,"replace() argument 1 "),check_str(r,"replace() argument 2 "),!_b_.isinstance(n,[_b_.int,_b_.float]))throw _b_.TypeError.$factory("'"+$B.class_name(n)+"' object cannot be interpreted as an integer");if(_b_.isinstance(n,_b_.float))throw _b_.TypeError.$factory("integer argument expected, got float");if(0==n)return e;if(n.__class__==$B.long_int&&(n=parseInt(n.value)),""==t){if(""==r)return e;if(""==e)return r;var i=e.split("");if(n>-1&&i.length>=n){var a=i.slice(n).join("");return r+i.slice(0,n).join(r)+a}return r+i.join(r)+r}i=str.split(e,t,n);var s=e,l=-1;if(0==t.length){s=r;for(var _=0;_<i.length;_++)s+=i[_]+r;return s+a}for(n<0&&(n=s.length);n>0&&!((l=s.indexOf(t,l))<0);)s=s.substr(0,l)+r+s.substr(l+t.length),l+=r.length,n--;return s},str.rfind=function(e,t){var r=$B.args("rfind",4,{self:null,sub:null,start:null,end:null},["self","sub","start","end"],arguments,{start:0,end:null},null,null);normalize_start_end(r),check_str(r.sub);var n=str.__len__(r.self),o=str.__len__(r.sub);if(0==o)return r.js_start>n?-1:str.__len__(r.self);var i=pypos2jspos(r.self,r.start),a=pypos2jspos(r.self,r.end),s=r.self.substring(i,a).lastIndexOf(r.sub);return-1==s?-1:jspos2pypos(r.self,i+s)-r.start},str.rindex=function(){var e=str.rfind.apply(null,arguments);if(-1==e)throw _b_.ValueError.$factory("substring not found");return e},str.rjust=function(e){var t=$B.args("rjust",3,{self:null,width:null,fillchar:null},["self","width","fillchar"],arguments,{fillchar:" "},null,null),r=str.__len__(e);return t.width<=r?e:$B.String(t.fillchar.repeat(t.width-r)+e)},str.rpartition=function(e,t){var r=$B.args("rpartition",2,{self:null,sep:null},["self","sep"],arguments,{},null,null);check_str(r.sep),e=reverse(r.self),t=reverse(r.sep);for(var n=str.partition(e,t).reverse(),o=0;o<n.length;o++)n[o]=n[o].split("").reverse().join("");return n},str.rsplit=function(e){var t=$B.args("rsplit",3,{self:null,sep:null,maxsplit:null},["self","sep","maxsplit"],arguments,{sep:_b_.None,maxsplit:-1},null,null),r=t.sep,n=reverse(t.self),o=r===_b_.None?r:reverse(t.sep),i=str.split(n,o,t.maxsplit);i.reverse();for(var a=0;a<i.length;a++)i[a]=reverse(i[a]);return i},str.rstrip=function(e,t){var r=$B.args("rstrip",2,{self:null,chars:null},["self","chars"],arguments,{chars:_b_.None},null,null),n=(e=r.self,r.chars);if(n===_b_.None)return e.trimEnd();for(;e.length>0;){var o=!1;for(var i of n)if(e.endsWith(i)){e=e.substr(0,e.length-i.length),o=!0;break}if(!o)return r.self.surrogates?$B.String(e):e}return""},str.split=function(){var e=$B.args("split",3,{self:null,sep:null,maxsplit:null},["self","sep","maxsplit"],arguments,{sep:_b_.None,maxsplit:-1},null,null),t=e.sep,r=e.maxsplit,n=e.self,o=0;if(r.__class__===$B.long_int&&(r=parseInt(r.value)),""==t)throw _b_.ValueError.$factory("empty separator");if(t===_b_.None){for(var i=[];o<n.length&&n.charAt(o).search(/\s/)>-1;)o++;if(o===n.length-1)return[n];for(var a="";;){if(-1==n.charAt(o).search(/\s/))""==a?a=n.charAt(o):a+=n.charAt(o);else if(""!==a){if(i.push(a),-1!==r&&i.length==r+1)return i.pop(),i.push(a+n.substr(o)),i;a=""}if(++o>n.length-1){a&&i.push(a);break}}return i.map($B.String)}i=[];var s="",l=t.length;if(0==r)return[n];for(;o<n.length;)if(n.substr(o,l)==t){if(i.push(s),o+=l,r>-1&&i.length>=r)return i.push(n.substr(o)),i.map($B.String);s=""}else s+=n.charAt(o),o++;return i.push(s),i.map($B.String)},str.splitlines=function(e){var t=$B.args("splitlines",2,{self:null,keepends:null},["self","keepends"],arguments,{keepends:!1},null,null);if(!_b_.isinstance(t.keepends,[_b_.bool,_b_.int]))throw _b_.TypeError("integer argument expected, got "+$B.get_class(t.keepends).__name);var r=_b_.int.$factory(t.keepends),n=[],o=0,i=0;if(!(e=t.self).length)return n;for(;i<e.length;)"\r\n"==e.substr(i,2)?(n.push(e.slice(o,r?i+2:i)),o=i+=2):"\r"==e[i]||"\n"==e[i]?(n.push(e.slice(o,r?i+1:i)),o=i+=1):i++;return o<e.length&&n.push(e.slice(o)),n.map($B.String)},str.startswith=function(){var e=$B.args("startswith",4,{self:null,prefix:null,start:null,end:null},["self","prefix","start","end"],arguments,{start:0,end:null},null,null);normalize_start_end(e);var t=e.prefix;_b_.isinstance(t,_b_.tuple)||(t=[t]);var r=e.self.substring(e.js_start,e.js_end);for(var n of t){if(!_b_.isinstance(n,str))throw _b_.TypeError.$factory("endswith first arg must be str or a tuple of str, not int");if(r.substr(0,n.length)==n)return!0}return!1},str.strip=function(){var e=$B.args("strip",2,{self:null,chars:null},["self","chars"],arguments,{chars:_b_.None},null,null);return e.chars===_b_.None?e.self.trim():str.rstrip(str.lstrip(e.self,e.chars),e.chars)},str.swapcase=function(e){$B.args("swapcase",1,{self:e},["self"],arguments,{},null,null);var t,r="";for(var n of to_chars(e))t=_b_.ord(n),unicode_tables.Ll[t]?r+=n.toUpperCase():unicode_tables.Lu[t]?r+=n.toLowerCase():r+=n;return r},str.title=function(e){$B.args("title",1,{self:e},["self"],arguments,{},null,null);var t,r,n="";for(var o of to_chars(e))r=_b_.ord(o),unicode_tables.Ll[r]?t?n+=o:(n+=o.toUpperCase(),t="word"):unicode_tables.Lu[r]||unicode_tables.Lt[r]?(n+=t?o.toLowerCase():o,t="word"):(t=null,n+=o);return n},str.translate=function(e,t){var r,n=[],o=$B.$getattr(t,"__getitem__");for(var i of to_chars(e)){r=_b_.ord(i);try{var a=o(r);a!==_b_.None&&("string"==typeof a?n.push(a):"number"==typeof a&&n.push(String.fromCharCode(a)))}catch(e){n.push(i)}}return n.join("")},str.upper=function(e){return $B.args("upper",1,{self:null},["self"],arguments,{},null,null),e.toUpperCase()},str.zfill=function(e,t){var r=$B.args("zfill",2,{self:null,width:null},["self","width"],arguments,{},null,null),n=str.__len__(e);if(r.width<=n)return e;switch(e.charAt(0)){case"+":case"-":return e.charAt(0)+"0".repeat(r.width-n)+e.substr(1);default:return"0".repeat(r.width-n)+e}},str.$factory=function(e,t,r){if(0==arguments.length)return"";if(void 0===e)return $B.UndefinedClass.__str__();if(null===e)return"<Javascript null>";if(void 0!==t){var n=$B.args("str",3,{arg:null,encoding:null,errors:null},["arg","encoding","errors"],arguments,{encoding:"utf-8",errors:"strict"},null,null);t=n.encoding,r=n.errors}if(("string"==typeof e||e instanceof String||"number"==typeof e)&&isFinite(e))return e.toString();try{if(e.$is_class||e.$factory){var o=$B.$getattr(e.__class__,"__str__");return o(e)}if(e.__class__&&e.__class__===_b_.bytes&&void 0!==t)return _b_.bytes.decode(e,n.encoding,n.errors);var i=e.__class__||$B.get_class(e);if(void 0===i)return $B.JSObj.__str__($B.JSObj.$factory(e));if(null===(a=$B.$getattr(i,"__str__",null))||e.__class__&&e.__class__!==_b_.object&&a===_b_.object.__str__)var a=$B.$getattr(i,"__repr__")}catch(t){throw console.log("no __str__ for",e),console.log("err ",t),$B.debug>1&&console.log(t),console.log("Warning - no method __str__ or __repr__, default to toString",e),t}return $B.$call(a)(e)},str.__new__=function(e){if(void 0===e)throw _b_.TypeError.$factory("str.__new__(): not enough arguments");return{__class__:e}},$B.set_func_names(str,"builtins");var StringSubclass=$B.StringSubclass={__class__:_b_.type,__mro__:[_b_.object],$infos:{__module__:"builtins",__name__:"str"},$is_class:!0};for(var $attr in str)"function"==typeof str[$attr]&&(StringSubclass[$attr]=function(e){return function(){var t=[],r=0;if(arguments.length>0){t=[arguments[0].valueOf()],r=1;for(var n=1,o=arguments.length;n<o;n++)t[r++]=arguments[n]}return str[e].apply(null,t)}}($attr));function fstring_expression(e){this.type="expression",this.start=e,this.expression="",this.conversion=null,this.fmt=null}function fstring_error(e,t){throw error=Error(e),error.position=t,error}StringSubclass.__new__=function(e){return{__class__:e}},$B.set_func_names(StringSubclass,"builtins"),_b_.str=str,$B.parse_format_spec=function(e){if(""==e)this.empty=!0;else{var t=0,r="<>=^",n="0123456789",o=r.indexOf(e.charAt(0));-1!=o?e.charAt(1)&&-1!=r.indexOf(e.charAt(1))?(this.fill=e.charAt(0),this.align=e.charAt(1),t=2):(this.align=r[o],this.fill=" ",t++):(o=r.indexOf(e.charAt(1)),e.charAt(1)&&-1!=o&&(this.align=r[o],this.fill=e.charAt(0),t=2));var i=e.charAt(t);for("+"!=i&&"-"!=i&&" "!=i||(this.sign=i,t++,i=e.charAt(t)),"#"==i&&(this.alternate=!0,t++,i=e.charAt(t)),"0"==i&&(this.fill="0",-1==o&&(this.align="="),t++,i=e.charAt(t));i&&n.indexOf(i)>-1;)void 0===this.width?this.width=i:this.width+=i,t++,i=e.charAt(t);if(void 0!==this.width&&(this.width=parseInt(this.width)),void 0===this.width&&"{"==i){var a=e.substr(t).search("}");this.width=e.substring(t,a),console.log("width","["+this.width+"]"),t+=a+1}if(","==i&&(this.comma=!0,t++,i=e.charAt(t)),"."==i){if(-1==n.indexOf(e.charAt(t+1)))throw _b_.ValueError.$factory("Missing precision in format spec");for(this.precision=e.charAt(t+1),t+=2,i=e.charAt(t);i&&n.indexOf(i)>-1;)this.precision+=i,t++,i=e.charAt(t);this.precision=parseInt(this.precision)}if(i&&"bcdeEfFgGnosxX%".indexOf(i)>-1&&(this.type=i,t++,i=e.charAt(t)),t!==e.length)throw _b_.ValueError.$factory("Invalid format specifier: "+e)}this.toString=function(){return(void 0===this.fill?"":_b_.str.$factory(this.fill))+(this.align||"")+(this.sign||"")+(this.alternate?"#":"")+(this.sign_aware?"0":"")+(this.width||"")+(this.comma?",":"")+(this.precision?"."+this.precision:"")+(this.type||"")}},$B.format_width=function(e,t){if(t.width&&e.length<t.width){var r=t.fill||" ",n=t.align||"<",o=t.width-e.length;switch(n){case"<":return e+r.repeat(o);case">":return r.repeat(o)+e;case"=":return"+-".indexOf(e.charAt(0))>-1?e.charAt(0)+r.repeat(o)+e.substr(1):r.repeat(o)+e;case"^":var i=parseInt(o/2);return r.repeat(i)+e+r.repeat(o-i)}}return e},$B.parse_fstring=function(e){for(var t,r,n=[],o=0,i="",a=null,s=0;o<e.length;)if(null===a)"{"==(r=e.charAt(o))?"{"==e.charAt(o+1)?(a="string",i="{",o+=2):(a="expression",t=o+1,s=1,o++):"}"==r?e.charAt(o+1)==r?(a="string",i="}",o+=2):fstring_error(" f-string: single '}' is not allowed",o):(a="string",i=r,o++);else if("string"==a){for(var l=o;l<e.length;)if("{"==(r=e.charAt(l))){if("{"!=e.charAt(l+1)){n.push(i),a="expression",t=l+1,o=l+1;break}i+="{",l+=2}else"}"==r?e.charAt(l+1)==r?(i+=r,l+=2):fstring_error(" f-string: single '}' is not allowed",o):(i+=r,l++);o=l+1}else if("debug"==a){for(;" "==e.charAt(l);)l++;"}"==e.charAt(l)&&(n.push(i),a=null,i="",o=l+1)}else{l=o,s=1;var _=0;for(i=new fstring_expression(t);l<e.length;)if("{"==(r=e.charAt(l))&&0==_)s++,i.expression+=r,l++;else if("}"==r&&0==_){if(0==(s-=1)){""==i.expression&&fstring_error("f-string: empty expression not allowed",o),n.push(i),a=null,i="",o=l+1;break}i.expression+=r,l++}else{if("\\"==r)throw Error("f-string expression part cannot include a backslash");if(0==_&&"!"==r&&null===i.fmt&&":}".indexOf(e.charAt(l+2))>-1){if(0==i.expression.length)throw Error("f-string: empty expression not allowed");if(-1=="ars".indexOf(e.charAt(l+1)))throw Error("f-string: invalid conversion character: expected 's', 'r', or 'a'");i.conversion=e.charAt(l+1),l+=2}else if("("==r||"["==r)_++,i.expression+=r,l++;else if(")"==r||"]"==r)_--,i.expression+=r,l++;else if('"'==r){var c;if('"""'==e.substr(l,3))if(-1==(c=e.indexOf('"""',l+3)))fstring_error("f-string: unterminated string",o);else{var u=e.substring(l,c+3);u=u.replace("\n","\\n\\"),i.expression+=u,l=c+3}else-1==(c=e.indexOf('"',l+1))?fstring_error("f-string: unterminated string",o):(i.expression+=e.substring(l,c+1),l=c+1)}else if(0==_&&":"==r){i.fmt=!0;for(var f=0,p=!1,d=l+1;d<e.length;d++)if("{"==e[d])"{"==e[d+1]?d+=2:f++;else if("}"==e[d])if("}"==e[d+1])d+=2;else{if(0==f){p=!0;var h=e.substring(l+1,d);i.format=$B.parse_fstring(h),l=d;break}f--}p||fstring_error("invalid format",o)}else if("="==r){var m=i.expression,g=m.charAt(m.length-1),$=("()".indexOf(g)>-1?"\\":"")+g;if(0==m.length||_>0||"="==e.charAt(l+1)||"=!<>:".search($)>-1)i.expression+=r,l+=1;else{for(tail=r;e.charAt(l+1).match(/\s/);)tail+=e.charAt(l+1),l++;for(n.push(i.expression+tail);m.match(/\s$/);)m=m.substr(0,m.length-1);i.expression=m,a="debug",l++}}else i.expression+=r,l++}s>0&&fstring_error("f-string: expected '}'",o)}for(var v of(i.length>0&&n.push(i),n))if("object"==typeof v&&void 0!==v.fmt_pos&&":"!=v.expression.charAt(v.fmt_pos))throw console.log("mauvais format",e,n),Error();return n};var _chr=$B.codepoint2jsstring=function(e){if(e>=65536&&e<=1114111){var t=e-65536;return String.fromCodePoint(55296|t>>10)+String.fromCodePoint(56320|1023&t)}return String.fromCodePoint(e)},_ord=$B.jsstring2codepoint=function(e){if(1==e.length)return e.charCodeAt(0);var t=65536;return(t+=(1023&e.charCodeAt(0))<<10)+(1023&e.charCodeAt(1))}}(__BRYTHON__),function($B){var _b_=$B.builtins;function $err(e,t){var r="unsupported operand type(s) for "+e+" : 'int' and '"+$B.class_name(t)+"'";throw _b_.TypeError.$factory(r)}function int_value(e){return"boolean"==typeof e?e?1:0:void 0!==e.$brython_value?e.$brython_value:e}var int={__class__:_b_.type,__dir__:_b_.object.__dir__,__mro__:[_b_.object],$infos:{__module__:"builtins",__name__:"int"},$is_class:!0,$native:!0,$descriptors:{numerator:!0,denominator:!0,imag:!0,real:!0}};function preformat(e,t){if(t.empty)return _b_.str.$factory(e);if(t.type&&-1=="bcdoxXn".indexOf(t.type))throw _b_.ValueError.$factory("Unknown format code '"+t.type+"' for object of type 'int'");var r;switch(t.type){case void 0:case"d":r=e.toString();break;case"b":r=(t.alternate?"0b":"")+e.toString(2);break;case"c":r=_b_.chr(e);break;case"o":r=(t.alternate?"0o":"")+e.toString(8);break;case"x":r=(t.alternate?"0x":"")+e.toString(16);break;case"X":r=(t.alternate?"0X":"")+e.toString(16).toUpperCase();break;case"n":return e}return void 0!==t.sign&&(" "==t.sign||"+"==t.sign)&&e>=0&&(r=t.sign+r),r}function extended_euclidean(e,t){var r,n,o;return 0==t?[e,1,0]:([r,n,o]=extended_euclidean(t,e%t),[r,o,n-Math.floor(e/t)*o])}function __newobj__(){var e=$B.args("__newobj__",0,{},[],arguments,{},"args",null),t=e.args,r=t.slice(1);return r.__class__=t[0],r}for(var attr of(int.as_integer_ratio=function(){var e=$B.args("as_integer_ratio",1,{self:null},["self"],arguments,{},null,null);return $B.$list([e.self,1])},int.from_bytes=function(){var e,t,r=$B.args("from_bytes",3,{bytes:null,byteorder:null,signed:null},["bytes","byteorder","signed"],arguments,{signed:!1},null,null),n=r.bytes,o=r.byteorder,i=r.signed;if(_b_.isinstance(n,[_b_.bytes,_b_.bytearray]))e=n.source,t=n.source.length;else{t=(e=_b_.list.$factory(n)).length;for(var a=0;a<t;a++)_b_.bytes.$factory([e[a]])}if("big"==o)e.reverse();else if("little"!=o)throw _b_.ValueError.$factory("byteorder must be either 'little' or 'big'");var s=e[0];i&&s>=128&&(s-=256);var l=256;for(a=1;a<t;a++)s=$B.add($B.mul(l,e[a]),s),l=$B.mul(l,256);return i?e[t-1]<128?s:$B.sub(s,l):s},int.to_bytes=function(){var e=$B.args("to_bytes",3,{self:null,len:null,byteorder:null,signed:null},["self","len","byteorder","*","signed"],arguments,{signed:!1},null,null),t=e.self,r=e.len,n=e.byteorder,o=e.signed;if(!_b_.isinstance(r,_b_.int))throw _b_.TypeError.$factory("integer argument expected, got "+$B.class_name(r));if(-1==["little","big"].indexOf(n))throw _b_.ValueError.$factory("byteorder must be either 'little' or 'big'");if(_b_.isinstance(t,$B.long_int))return $B.long_int.to_bytes(t,r,n,o);if(t<0){if(!o)throw _b_.OverflowError.$factory("can't convert negative int to unsigned");t=Math.pow(256,r)+t}for(var i=[],a=t;a>0;){var s=Math.floor(a/256),l=a-256*s;if(i.push(l),i.length>r)throw _b_.OverflowError.$factory("int too big to convert");a=s}for(;i.length<r;)i.push(0);return"big"==n&&i.reverse(),{__class__:_b_.bytes,source:i}},int.__abs__=function(e){return _b_.abs(e)},int.__add__=function(e,t){if(e=int_value(e),_b_.isinstance(t,int)){if(t.__class__==$B.long_int)return $B.long_int.__add__($B.long_int.$factory(e),$B.long_int.$factory(t));var r=e+(t=int_value(t));return r>$B.min_int&&r<$B.max_int?r:$B.long_int.__add__($B.long_int.$factory(e),$B.long_int.$factory(t))}return _b_.NotImplemented},int.__bool__=function(e){return 0!=int_value(e).valueOf()},int.__ceil__=function(e){return Math.ceil(int_value(e))},int.__divmod__=function(e,t){return _b_.isinstance(t,int)?$B.fast_tuple([int.__floordiv__(e,t),int.__mod__(e,t)]):_b_.NotImplemented},int.__eq__=function(e,t){return _b_.isinstance(t,int)?e.valueOf()==int_value(t).valueOf():_b_.isinstance(t,_b_.float)?e.valueOf()==t.valueOf():_b_.isinstance(t,_b_.complex)?0!=t.$imag?_b_.False:e.valueOf()==t.$real:_b_.NotImplemented},int.__float__=function(e){return new Number(e)},int.__format__=function(e,t){var r=new $B.parse_format_spec(t);if(r.type&&-1!="eEfFgG%".indexOf(r.type))return _b_.float.__format__(e,t);r.align=r.align||">";var n=preformat(e,r);if(r.comma){for(var o="-"==n[0]?"-":"",i=n.substr(o.length),a=i.length,s=Math.ceil(i.length/3),l=[],_=0;_<s;_++)l.push(i.substring(a-3*_-3,a-3*_));l.reverse(),n=o+l.join(",")}return $B.format_width(n,r)},int.__floordiv__=function(e,t){if(t.__class__===$B.long_int)return $B.long_int.__floordiv__($B.long_int.$factory(e),t);if(_b_.isinstance(t,int)){if(0==(t=int_value(t)))throw _b_.ZeroDivisionError.$factory("division by zero");return Math.floor(e/t)}return _b_.NotImplemented},int.__hash__=function(e){if(e.$brython_value){var t=$B.$getattr(e.__class__,"__hash__");return t===int.__hash__?"number"==typeof e.$brython_value?e.$brython_value:$B.long_int.__hash__(e.$brython_value):t(e)}return e.valueOf()},int.__index__=function(e){return int_value(e)},int.__init__=function(e,t){return void 0===t&&(t=0),e.toString=function(){return t},_b_.None},int.__int__=function(e){return e},int.__invert__=function(e){return~e},int.__lshift__=function(e,t){if(e=int_value(e),_b_.isinstance(t,int)){t=int_value(t);try{return int.$factory($B.long_int.__lshift__($B.long_int.$factory(e),$B.long_int.$factory(t)))}catch(r){throw console.log("err in lshift",e,t),r}}return _b_.NotImplemented},int.__mod__=function(e,t){if(_b_.isinstance(t,_b_.tuple)&&1==t.length&&(t=t[0]),t.__class__===$B.long_int)return $B.long_int.__mod__($B.long_int.$factory(e),t);if(_b_.isinstance(t,int)){if(!1===(t=int_value(t))?t=0:!0===t&&(t=1),0==t)throw _b_.ZeroDivisionError.$factory("integer division or modulo by zero");return(e%t+t)%t}return _b_.NotImplemented},int.__mul__=function(e,t){if(e=int_value(e),_b_.isinstance(t,int)){if(t.__class__==$B.long_int)return $B.long_int.__mul__($B.long_int.$factory(e),$B.long_int.$factory(t));var r=e*(t=int_value(t));return r>$B.min_int&&r<$B.max_int?r:int.$factory($B.long_int.__mul__($B.long_int.$factory(e),$B.long_int.$factory(t)))}return _b_.NotImplemented},int.__ne__=function(e,t){var r=int.__eq__(e,t);return r===_b_.NotImplemented?r:!r},int.__neg__=function(e){return-e},int.__new__=function(e,t){if(void 0===e)throw _b_.TypeError.$factory("int.__new__(): not enough arguments");if(!_b_.isinstance(e,_b_.type))throw _b_.TypeError.$factory("int.__new__(X): X is not a type object");return e===int?int.$factory(t):{__class__:e,__dict__:$B.empty_dict(),$brython_value:t||0}},int.__pos__=function(e){return e},int.__pow__=function(e,t,r){if(!_b_.isinstance(t,int))return _b_.NotImplemented;if("number"==typeof t||_b_.isinstance(t,int)){switch((t=int_value(t)).valueOf()){case 0:return int.$factory(1);case 1:return int.$factory(e.valueOf())}if(void 0!==r&&r!==_b_.None){if(1==r)return 0;var n=1,o=e%r,i=t,a=$B.long_int;if(i<0){var s,l,_;if([s,l,_]=extended_euclidean(e,r),1!==s)throw _b_.ValueError.$factory("not relative primes: "+e+" and "+r);return int.__pow__(l,-i,r)}for(;i>0;)i%2==1&&(n*o>$B.max_int?(n=a.__mul__(a.$factory(n),a.$factory(o)),n=a.__mod__(n,r)):n=n*o%r),i>>=1,o*o>$B.max_int?(o=a.__mul__(a.$factory(o),a.$factory(o)),o=a.__mod__(o,r)):o=o*o%r;return n}var c=Math.pow(e.valueOf(),t.valueOf());return c>$B.min_int&&c<$B.max_int?t>0?c:new Number(c):c===1/0||isFinite(c)?$B.BigInt?{__class__:$B.long_int,value:($B.BigInt(e)**$B.BigInt(t)).toString(),pos:!0}:$B.long_int.__pow__($B.long_int.$from_int(e),$B.long_int.$from_int(t)):c}if(_b_.isinstance(t,_b_.float))return t=_b_.float.numerator(t),e>=0?new Number(Math.pow(e,t)):_b_.complex.__pow__($B.make_complex(e,0),t);if(_b_.isinstance(t,_b_.complex)){var u=Math.pow(e,t.$real),f=Math.log(e);return $B.make_complex(u*Math.cos(f),u*Math.sin(f))}var p=$B.$getattr(t,"__rpow__",_b_.None);if(p!==_b_.None)return p(e);$err("**",t)},int.__reduce_ex__=function(e){return $B.fast_tuple([__newobj__,$B.fast_tuple([e.__class__||int,int_value(e)]),_b_.None,_b_.None,_b_.None])},int.__repr__=function(e){return $B.builtins_repr_check(int,arguments),int_value(e).toString()},int.__rshift__=function(e,t){return e=int_value(e),"number"==typeof t||_b_.isinstance(t,int)?(t=int_value(t),int.$factory($B.long_int.__rshift__($B.long_int.$factory(e),$B.long_int.$factory(t)))):_b_.NotImplemented},int.__setattr__=function(e,t,r){if("number"==typeof e||"boolean"==typeof e){var n=$B.class_name(e);throw _b_.dir(e).indexOf(t)>-1?_b_.AttributeError.$factory("attribute '"+t+`' of '${n}' objects is not writable`):_b_.AttributeError.$factory(`'${n}' object has no attribute '${t}'`)}return _b_.dict.$setitem(e.__dict__,t,r),_b_.None},int.__sub__=function(e,t){if(e=int_value(e),_b_.isinstance(t,int)){if(t.__class__==$B.long_int)return $B.long_int.__sub__($B.long_int.$factory(e),$B.long_int.$factory(t));var r=e-(t=int_value(t));return r>$B.min_int&&r<$B.max_int?r:$B.long_int.__sub__($B.long_int.$factory(e),$B.long_int.$factory(t))}return _b_.NotImplemented},int.__truediv__=function(e,t){if(_b_.isinstance(t,int)){if(0==(t=int_value(t)))throw _b_.ZeroDivisionError.$factory("division by zero");return t.__class__===$B.long_int?new Number(e/parseInt(t.value)):new Number(e/t)}return _b_.NotImplemented},int.bit_length=function(e){return s=_b_.bin(e),s=$B.$getattr(s,"lstrip")("-0b"),s.length},int.numerator=function(e){return int_value(e)},int.denominator=function(e){return int.$factory(1)},int.imag=function(e){return int.$factory(0)},int.real=function(e){return e},["numerator","denominator","imag","real"]))int[attr].setter=function(e){return function(t,r){throw _b_.AttributeError.$factory(`attribute '${e}' of '${$B.class_name(t)}' objects is not writable`)}}(attr);$B.max_int32=2147483647,$B.min_int32=-$B.max_int32;var $op_func=function(e,t){return e=int_value(e),"number"==typeof t||_b_.isinstance(t,int)?t.__class__===$B.long_int?$B.long_int.__sub__($B.long_int.$factory(e),$B.long_int.$factory(t)):(t=int_value(t),e>$B.max_int32||e<$B.min_int32||t>$B.max_int32||t<$B.min_int32?$B.long_int.__sub__($B.long_int.$factory(e),$B.long_int.$factory(t)):e-t):_b_.NotImplemented};$op_func+="";var $ops={"&":"and","|":"or","^":"xor"};for(var $op in $ops){var opf=$op_func.replace(/-/gm,$op);opf=opf.replace(new RegExp("sub","gm"),$ops[$op]),eval("int.__"+$ops[$op]+"__ = "+opf)}var $comp_func=function(e,t){return t.__class__===$B.long_int?$B.long_int.__lt__(t,$B.long_int.$factory(e)):_b_.isinstance(t,int)?(t=int_value(t),e.valueOf()>t.valueOf()):_b_.isinstance(t,_b_.float)?e.valueOf()>_b_.float.numerator(t):_b_.isinstance(t,_b_.bool)?e.valueOf()>_b_.bool.__hash__(t):_b_.hasattr(t,"__int__")||_b_.hasattr(t,"__index__")?int.__gt__(e,$B.$GetInt(t)):_b_.NotImplemented};for(var $op in $comp_func+="",$B.$comps)eval("int.__"+$B.$comps[$op]+"__ = "+$comp_func.replace(/>/gm,$op).replace(/__gt__/gm,"__"+$B.$comps[$op]+"__").replace(/__lt__/,"__"+$B.$inv_comps[$op]+"__"));var r_opnames=["add","sub","mul","truediv","floordiv","mod","pow","lshift","rshift","and","xor","or","divmod"];for(var r_opname of r_opnames)void 0===int["__r"+r_opname+"__"]&&int["__"+r_opname+"__"]&&(int["__r"+r_opname+"__"]=function(e){return function(t,r){return _b_.isinstance(r,int)?(r=int_value(r),int["__"+e+"__"](r,t)):_b_.NotImplemented}}(r_opname));var $valid_digits=function(e){var t="";if(0===e)return"0";if(e<10){for(var r=0;r<e;r++)t+=String.fromCharCode(r+48);return t}for(t="0123456789",r=10;r<e;r++)t+=String.fromCharCode(r+55);return t};int.$factory=function(e,t){if(void 0===e)return 0;if("number"==typeof e&&(void 0===t||10==t))return parseInt(e);if(_b_.isinstance(e,_b_.complex))throw _b_.TypeError.$factory("can't convert complex to int");var r=$B.args("int",2,{x:null,base:null},["x","base"],arguments,{base:10},null,null);if(e=r.x,t=r.base,_b_.isinstance(e,_b_.float)&&10==t)return(e=_b_.float.numerator(e))<$B.min_int||e>$B.max_int?$B.long_int.$from_float(e):e>0?Math.floor(e):Math.ceil(e);if(!(t>=2&&t<=36)&&0!=t)throw _b_.ValueError.$factory("invalid base");if("number"==typeof e){if(10==t)return e<$B.min_int||e>$B.max_int?$B.long_int.$factory(e):e;if(e.toString().search("e")>-1)throw _b_.OverflowError.$factory("can't convert to base "+t);var n=parseInt(e,t);return e<$B.min_int||e>$B.max_int?$B.long_int.$factory(e,t):n}if(!0===e)return Number(1);if(!1===e)return Number(0);if(e.__class__===$B.long_int){var o=parseInt(e.value);return o>$B.min_int&&o<$B.max_int?o:e}function i(e,t){throw _b_.ValueError.$factory("invalid literal for int() with base "+t+": '"+_b_.str.$factory(e)+"'")}if(t=$B.$GetInt(t),_b_.isinstance(e,_b_.str)&&(e=e.valueOf()),"string"==typeof e){var a=e.trim();if(2==a.length&&0==t&&("0b"==a||"0o"==a||"0x"==a))throw _b_.ValueError.$factory("invalid value");if(a.length>2){var s=a.substr(0,2).toUpperCase();if(0==t?("0B"==s&&(t=2),"0O"==s&&(t=8),"0X"==s&&(t=16)):("0X"==s&&16!=t||"0O"==s&&8!=t)&&i(a,t),"0B"==s&&2==t||"0O"==s||"0X"==s)for(a=a.substr(2);a.startsWith("_");)a=a.substr(1)}else 0==t&&(t=10);var l=$valid_digits(t),_=new RegExp("^[+-]?["+l+"]["+l+"_]*$","i"),c=_.exec(a);return null===c?i(e,t):e=a.replace(/_/g,""),t<=10&&!isFinite(e)&&i(a,t),(n=parseInt(e,t))<$B.min_int||n>$B.max_int?$B.long_int.$factory(e,t):n}if(_b_.isinstance(e,[_b_.bytes,_b_.bytearray]))return int.$factory($B.$getattr(e,"decode")("latin-1"),t);for(var u of["__int__","__index__","__trunc__"]){var f=$B.$getattr(e.__class__||$B.get_class(e),u,_b_.None);if(f!==_b_.None)return $B.$call(f)(e)}throw _b_.TypeError.$factory("int() argument must be a string, a bytes-like object or a number, not '"+$B.class_name(e)+"'")},$B.set_func_names(int,"builtins"),_b_.int=int,$B.$bool=function(e){if(null==e)return!1;switch(typeof e){case"boolean":return e;case"number":case"string":return!!e;default:if(e.$is_class)return!0;var t=e.__class__||$B.get_class(e),r={},n=$B.$getattr(t,"__bool__",r);if(n!==r){var o=$B.$call(n)(e);if(!0!==o&&!1!==o)throw _b_.TypeError.$factory("__bool__ should return bool, returned "+$B.class_name(o));return o}try{return _b_.len(e)>0}catch(e){return!0}}};var bool={__bases__:[int],__class__:_b_.type,__mro__:[int,_b_.object],$infos:{__name__:"bool",__module__:"builtins"},$is_class:!0,$native:!0,$descriptors:{numerator:!0,denominator:!0,imag:!0,real:!0},__and__:function(e,t){return _b_.isinstance(t,bool)?e&&t:_b_.isinstance(t,int)?int.__and__(bool.__index__(e),int.__index__(t)):_b_.NotImplemented},__float__:function(e){return new Number(e?1:0)}};bool.__hash__=bool.__index__=bool.__int__=function(e){return e.valueOf()?1:0},bool.__neg__=function(e){return-$B.int_or_bool(e)},bool.__or__=function(e,t){return _b_.isinstance(t,bool)?e||t:_b_.isinstance(t,int)?int.__or__(bool.__index__(e),int.__index__(t)):_b_.NotImplemented},bool.__pos__=$B.int_or_bool,bool.__repr__=function(e){return $B.builtins_repr_check(bool,arguments),e?"True":"False"},bool.__xor__=function(e,t){return _b_.isinstance(t,bool)?!!(e^t):_b_.isinstance(t,int)?int.__xor__(bool.__index__(e),int.__index__(t)):_b_.NotImplemented},bool.$factory=function(){var e=$B.args("bool",1,{x:null},["x"],arguments,{x:!1},null,null);return $B.$bool(e.x)},bool.numerator=int.numerator,bool.denominator=int.denominator,bool.real=int.real,bool.imag=int.imag,_b_.bool=bool,$B.set_func_names(bool,"builtins")}(__BRYTHON__),function($B){var _b_=$B.builtins;try{eval("window")}catch(e){window=self}var long_int={__class__:_b_.type,__mro__:[_b_.int,_b_.object],$infos:{__module__:"builtins",__name__:"int"},$is_class:!0,$native:!0,$descriptors:{numerator:!0,denominator:!0,imag:!0,real:!0}},max_safe_divider=$B.max_int/9;function add_pos(e,t){return{__class__:long_int,value:(BigInt(e)+BigInt(t)).toString(),pos:!0}}var len=(Math.pow(2,53)-1+"").length-1;function binary_pos(e){for(var t,r,n,o,i=Math.ceil(e.length/len),a=[],s=[],l=0;l<i;l++)n=(t=e.length-(l+1)*len)-(r=Math.max(0,t)),a.push(e.substr(r,len+n));(a=a.reverse()).forEach((function(e,t){a[t]=parseInt(e)}));for(var _=Math.pow(10,15);a[a.length-1]>0;)a.forEach((function(e,t){o=e%2,a[t]=Math.floor(e/2),o&&t<a.length-1&&(a[t+1]+=_)})),s.push(o),0==a[0]&&a.shift();return s.reverse().join("")}function binary(e){var t=binary_pos(e.value);if(e.pos)return t;for(var r="",n=0,o=t.length;n<o;n++)r+="0"==t.charAt(n)?"1":"0";var i=add_pos(r,"1").value;return r.substr(0,r.length-i.length)+i}function comp_pos(e,t){return e.length>t.length?1:e.length<t.length?-1:e>t?1:e<t?-1:0}function divmod_by_safe_int(e,t){if(1==t)return[e,0];var r=BigInt(e)/BigInt(t),n=BigInt(e)-r*BigInt(t);return console.log("divmod by safe int"),[from_BigInt(r),from_BigInt(n)]}function divmod_pos(e,t){return[{__class__:long_int,value:(BigInt(e)/BigInt(t)).toString(),pos:!0},{__class__:long_int,value:(BigInt(e)%BigInt(t)).toString(),pos:!0}]}function split_chunks(e,t){for(var r=Math.ceil(e.length/t),n=[],o=e.length,i=0;i<r;i++){var a=o-t*(i+1);a<0&&(t+=a,a=0),n.push(parseInt(e.substr(a,t)))}return n}function mul_pos(e,t){return long_int.$factory(from_BigInt(BigInt(e)*BigInt(t)))}function sub_pos(e,t){return{__class__:long_int,value:(BigInt(e)-BigInt(t)).toString(),pos:!0}}function to_BigInt(e){var t=$B.BigInt(e.value);return e.pos?t:-t}function to_int(e){return e.pos?parseInt(e.value):-parseInt(e.value)}function from_BigInt(e){var t=e>=0;return e=(e=(e=e.toString()).endsWith("n")?e.substr(0,e.length-1):e).startsWith("-")?e.substr(1):e,intOrLong({__class__:long_int,value:e,pos:t})}function preformat(e,t){if(t.empty)return _b_.str.$factory(e);if(t.type&&-1=="bcdoxXn".indexOf(t.type))throw _b_.ValueError.$factory("Unknown format code '"+t.type+"' for object of type 'int'");var r;switch(t.type){case void 0:case"d":r=e.toString();break;case"b":r=(t.alternate?"0b":"")+BigInt(e.value).toString(2);break;case"c":r=_b_.chr(e);break;case"o":r=(t.alternate?"0o":"")+BigInt(e.value).toString(8);break;case"x":r=(t.alternate?"0x":"")+BigInt(e.value).toString(16);break;case"X":r=(t.alternate?"0X":"")+BigInt(e.value).toString(16).toUpperCase();break;case"n":return e}return void 0!==t.sign&&(" "==t.sign||"+"==t.sign)&&e>=0&&(r=t.sign+r),r}function _infos(e){var t=$B.long_int.bit_length(e),r=2n**BigInt(t-1),n=BigInt(e.value)-r;return{nbits:t,pow2:r,rest:n,relative_rest:new Number(n)/new Number(r)}}function digits(e){for(var t={},r=0;r<e&&10!=r;r++)t[r]=!0;if(e>10)for(r=0;r<e-10;r++)t[String.fromCharCode(65+r)]=!0,t[String.fromCharCode(97+r)]=!0;return t}long_int.$from_float=function(e){var t=Math.abs(e).toString(),r=t;if(t.search("e")>-1){var n=/-?(\d)(\.\d+)?e([+-])(\d*)/.exec(t),o=n[1],i=n[2],a=n[3],s=n[4];"+"==a&&(r=void 0===i?o+"0".repeat(s-1):o+i+"0".repeat(s-1-i.length))}return{__class__:long_int,value:r,pos:e>=0}},long_int.__format__=function(e,t){var r=new $B.parse_format_spec(t);if(r.type&&-1!="eEfFgG%".indexOf(r.type))return _b_.float.__format__(e,t);r.align=r.align||">";var n=preformat(e,r);if(r.comma){for(var o="-"==n[0]?"-":"",i=n.substr(o.length),a=i.length,s=Math.ceil(i.length/3),l=[],_=0;_<s;_++)l.push(i.substring(a-3*_-3,a-3*_));l.reverse(),n=o+l.join(",")}return $B.format_width(n,r)},long_int.__abs__=function(e){return{__class__:long_int,value:e.value,pos:!0}},long_int.__add__=function(e,t){if(_b_.isinstance(t,_b_.float))return _b_.float.$factory(to_int(e)+t);if("number"==typeof t)t=long_int.$factory(_b_.str.$factory(t));else if(t.__class__!==long_int)if(_b_.isinstance(t,_b_.bool))t=long_int.$factory(t?1:0);else{if(!_b_.isinstance(t,_b_.int))return _b_.NotImplemented;t=long_int.$factory(_b_.str.$factory(_b_.int.__index__(t)))}return from_BigInt(to_BigInt(e)+to_BigInt(t))},long_int.__and__=function(e,t){return"number"==typeof t&&(t=long_int.$factory(_b_.str.$factory(t))),from_BigInt(to_BigInt(e)&to_BigInt(t))},long_int.__divmod__=function(e,t){"number"==typeof t&&(t=long_int.$factory(_b_.str.$factory(t)));var r,n=to_BigInt(e),o=to_BigInt(t),i=n-(r=n>=0&&o>0||n<=0&&o<0?n/o:n/o-BigInt(1))*o;return $B.fast_tuple([from_BigInt(r),from_BigInt(i)])},long_int.__eq__=function(e,t){return"number"==typeof t&&(t=long_int.$factory(_b_.str.$factory(t))),e.value==t.value&&e.pos==t.pos},long_int.__float__=function(e){if(!isFinite(parseFloat(e.value)))throw _b_.OverflowError.$factory("int too big to convert to float");return new Number((e.pos?1:-1)*parseFloat(e.value))},long_int.__floordiv__=function(e,t){if(_b_.isinstance(t,_b_.float))return _b_.float.$factory(to_int(e)/t);if("number"==typeof t&&Math.abs(t)<$B.max_safe_divider){var r=divmod_by_safe_int(e.value,t),n=t>0?e.pos:!e.pos;return{__class__:long_int,value:r[0],pos:n}}return intOrLong(long_int.__divmod__(e,t)[0])},long_int.__ge__=function(e,t){return"number"==typeof t&&(t=long_int.$factory(_b_.str.$factory(t))),e.pos!=t.pos?!t.pos:e.value.length>t.value.length?e.pos:e.value.length<t.value.length?!e.pos:e.pos?e.value>=t.value:e.value<=t.value},long_int.__gt__=function(e,t){return!long_int.__le__(e,t)},long_int.__hash__=function(e){var t=$B.fast_long_int("2305843009213693951",!0),r=$B.fast_long_int(e.value,!0),n=$B.long_int.__mod__(r,t);return"number"==typeof n?n=e.pos?n:-n:n.pos=e.pos,e.__hashvalue__=n},long_int.__index__=function(e){for(var t,r="",n=e.value;r=(t=divmod_pos(n,"2"))[1].value+r,"0"!=(n=t[0].value););if(e.pos)r="0"+r;else{for(var o="",i=!1,a=r.length-1;a>=0;a--)"0"==r.charAt(a)?o=i?"1"+o:"0"+o:i?o="0"+o:(i=!0,o="1"+o);r=o="1"+o}return intOrLong(r)},long_int.__invert__=function(e){return long_int.__sub__(long_int.$factory("-1"),e)},long_int.__le__=function(e,t){return"number"==typeof t&&(t=long_int.$factory(_b_.str.$factory(t))),e.pos!==t.pos||e.value.length>t.value.length?!e.pos:e.value.length<t.value.length?e.pos:e.pos?e.value<=t.value:e.value>=t.value},long_int.__lt__=function(e,t){return!long_int.__ge__(e,t)},long_int.__lshift__=function(e,t){return t.__class__==long_int&&(t=t.value),intOrLong({__class__:long_int,value:(BigInt(e.value)<<BigInt(t)).toString(),pos:e.pos})},long_int.__mod__=function(e,t){return intOrLong(long_int.__divmod__(e,t)[1])},long_int.__mro__=[_b_.int,_b_.object],long_int.__mul__=function(e,t){switch(e){case Number.NEGATIVE_INFINITY:case Number.POSITIVE_INFINITY:return $B.rich_comp("__eq__",t,0)?NaN:_b_.getattr(t,"__gt__")(0)?e:-e}if(_b_.isinstance(t,_b_.float))return _b_.float.$factory(to_int(e)*t);if("number"==typeof t&&(t=long_int.$factory(t)),other_value=t.value,other_pos=t.pos,t.__class__!==long_int&&_b_.isinstance(t,_b_.int)){var r=_b_.int.__index__(t);other_value=_b_.str.$factory(r),other_pos=r>0}return from_BigInt(to_BigInt(e)*to_BigInt(t))},long_int.__ne__=function(e,t){var r=long_int.__eq__(e,t);return r===_b_.NotImplemented?r:!r},long_int.__neg__=function(e){return{__class__:long_int,value:e.value,pos:!e.pos}},long_int.__or__=function(e,t){t=long_int.$factory(t);var r=long_int.__index__(e),n=long_int.__index__(t);if(r.length<n.length){var o=n;n=r,r=o}for(var i=r.length-n.length,a=r.substr(0,i),s=0;s<n.length;s++)"1"==r.charAt(i+s)||"1"==n.charAt(s)?a+="1":a+="0";return intOrLong(long_int.$factory(a,2))},long_int.__pos__=function(e){return e},long_int.__pow__=function(e,t,r){if("number"==typeof t)t=long_int.$from_int(t);else if(_b_.isinstance(t,_b_.int))t=long_int.$factory(_b_.str.$factory(_b_.int.__index__(t)));else if(!_b_.isinstance(t,long_int))throw _b_.TypeError.$factory("power must be an integer, not '"+$B.class_name(t)+"'");if(!t.pos)return"1"==e.value?e:long_int.$factory("0");if("0"==t.value)return long_int.$factory("1");var n=$B.BigInt(e.value),o=$B.BigInt(1),i=$B.BigInt(t.value);if(void 0===(r=void 0===r?r:"number"==typeof r?$B.BigInt(r):$B.BigInt(r.value)))return{__class__:long_int,value:(n**i).toString(),pos:!0};for(;i>0;)i%$B.BigInt(2)==1&&(o*=n),(i/=$B.BigInt(2))>0&&(n*=n),void 0!==r&&(o%=r);return{__class__:long_int,value:o.toString(),pos:!0}},long_int.__rshift__=function(e,t){return t.__class__===long_int&&(t=t.value),intOrLong({__class__:long_int,value:(BigInt(e.value)>>BigInt(t)).toString(),pos:e.pos})},long_int.__str__=long_int.__repr__=function(e){var t="";return e.pos||(t+="-"),t+e.value},long_int.__sub__=function(e,t){if(_b_.isinstance(t,_b_.float))return t=t instanceof Number?t:t.$brython_value,_b_.float.$factory(to_int(e)-t);var r;if("number"==typeof t&&(t=long_int.$factory(_b_.str.$factory(t))),$B.BigInt,e.pos&&t.pos){switch(comp_pos(e.value,t.value)){case 1:r=sub_pos(e.value,t.value);break;case 0:r={__class__:long_int,value:"0",pos:!0};break;case-1:(r=sub_pos(t.value,e.value)).pos=!1}return intOrLong(r)}if(e.pos||t.pos)return e.pos&&!t.pos?intOrLong(add_pos(e.value,t.value)):((r=add_pos(e.value,t.value)).pos=!1,intOrLong(r));switch(comp_pos(e.value,t.value)){case 1:(r=sub_pos(e.value,t.value)).pos=!1;break;case 0:r={__class__:long_int,value:"0",pos:!0};break;case-1:r=sub_pos(t.value,e.value)}return intOrLong(r)},long_int.__truediv__=function(e,t){if(_b_.isinstance(t,long_int))return _b_.float.$factory(to_int(e)/to_int(t));if(_b_.isinstance(t,_b_.int))return _b_.float.$factory(to_int(e)/t);if(_b_.isinstance(t,_b_.float))return _b_.float.$factory(to_int(e)/t);throw _b_.TypeError.$factory("unsupported operand type(s) for /: 'int' and '"+$B.class_name(t)+"'")},long_int.__xor__=function(e,t){t=long_int.$factory(t);var r=long_int.__index__(e),n=long_int.__index__(t);if(r.length<n.length){var o=n;n=r,r=o}for(var i=r.length-n.length,a=r.substr(0,i),s=0;s<n.length;s++)"1"==r.charAt(i+s)&&"0"==n.charAt(s)||"0"==r.charAt(i+s)&&"1"==n.charAt(s)?a+="1":a+="0";return intOrLong(long_int.$factory(a,2))},long_int.bit_length=function(e){return binary(e).length},long_int.$log2=function(e){if(!e.pos)throw _b_.ValueError.$factory("math domain error");var t=_infos(e);return _b_.float.$factory(t.nbits-1+Math.log(1+t.relative_rest/Math.LN2))},long_int.$log10=function(x){if(!x.pos)throw _b_.ValueError.$factory("math domain error");var exp=x.value.length-1,mant=eval(x.value[0]+"."+x.value.substr(1));return _b_.float.$factory(exp+Math.log10(mant))},long_int.numerator=function(e){return e},long_int.denominator=function(e){return _b_.int.$factory(1)},long_int.imag=function(e){return _b_.int.$factory(0)},long_int.real=function(e){return e},long_int.to_base=function(e,t){if(2==t)return binary_pos(e.value);for(var r="",n=e.value;n>0;){var o=divmod_pos(n,t.toString());if(r=parseInt(o[1].value).toString(t)+r,0==(n=o[0].value))break}return r},long_int.to_bytes=function(e,t,r,n){var o=[],i=e.value;if(!$B.$bool(n)&&!e.pos)throw _b_.OverflowError.$factory("can't convert negative int to unsigned");for(;i>0;){var a=divmod_pos(i,256);if(i=parseInt(a[0].value),o.push(parseInt(a[1].value)),o.length>t)throw _b_.OverflowError.$factory("int too big to convert")}for(;o.length<t;)o.push(0);return"big"==r&&o.reverse(),_b_.bytes.$factory(o)};var MAX_SAFE_INTEGER=Math.pow(2,53)-1,MIN_SAFE_INTEGER=-MAX_SAFE_INTEGER;function isSafeInteger(e){return"number"==typeof e&&Math.round(e)===e&&MIN_SAFE_INTEGER<=e&&e<=MAX_SAFE_INTEGER}function intOrLong(e){var t=parseInt(e.value)*(e.pos?1:-1);return t>MIN_SAFE_INTEGER&&t<MAX_SAFE_INTEGER?t:e}function extended_euclidean_algorithm(e,t){for(var r,n,o=0,i=1,a=1,s=0,l=t,_=e;$B.rich_comp("__ne__",l,0);)r=$B.rich_op("floordiv",_,l),n=$B.rich_op("sub",_,$B.rich_op("mul",r,l)),_=l,l=n,n=$B.rich_op("sub",i,$B.rich_op("mul",r,o)),i=o,o=n,n=$B.rich_op("sub",s,$B.rich_op("mul",r,a)),s=a,a=n;return[_,i,s]}function inverse_of(e,t){var r,n,o;if([r,n,o]=extended_euclidean_algorithm(e,t),$B.rich_comp("__ne__",r,1))throw Error(`${e} has no multiplicative inverse '\n            'modulo ${t}`);return $B.rich_op("mod",n,t)}long_int.$from_int=function(e){return{__class__:long_int,value:e.toString(),pos:e>0}},long_int.$factory=function(e,t){if(arguments.length>2)throw _b_.TypeError.$factory("long_int takes at most 2 arguments ("+arguments.length+" given)");if(void 0===t)t=10;else if(!_b_.isinstance(t,_b_.int))throw _b_.TypeError.$factory("'"+$B.class_name(t)+"' object cannot be interpreted as an integer");if(t<0||1==t||t>36)throw _b_.ValueError.$factory("long_int.$factory() base must be >= 2 and <= 36");if("number"==typeof e){var r=e>=0;if(isSafeInteger(e=Math.abs(e)))l=long_int.$from_int(e);else{if(e.constructor!=Number)throw _b_.ValueError.$factory("argument of long_int is not a safe integer");var n=e.toString(),o=n.search("e");if(o>-1){var i=n.substr(0,o),a=parseInt(n.substr(o+1));if((f=i.search(/\./))>-1){var s=i.substr(f+1).length;if(s>a){var l=i.substr(0,f)+i.substr(f+1).substr(0,a);l=long_int.$from_int(l)}else l=i.substr(0,f)+i.substr(f+1)+"0".repeat(a-s),l=long_int.$from_int(l)}else l=long_int.$from_int(i+"0".repeat(a))}else l=(f=n.search(/\./))>-1?long_int.$from_int(n.substr(0,f)):long_int.$from_int(n)}return l.pos=r,l}if(_b_.isinstance(e,_b_.float)){if(e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)return e;e=new Number(e>=0?Math.round(e.value):Math.ceil(e.value))}else{if(_b_.isinstance(e,_b_.bool))return e.valueOf()?_b_.int.$factory(1):_b_.int.$factory(0);if(e.__class__===long_int)return e;if(_b_.isinstance(e,_b_.int))e=e.$brython_value+"";else if(_b_.isinstance(e,_b_.bool))e=_b_.bool.__int__(e)+"";else if("string"!=typeof e)throw _b_.ValueError.$factory("argument of long_int must be a string, not "+$B.class_name(e))}for(var _=!1,c=(r=!0,0);" "==e.charAt(0)&&e.length;)e=e.substr(1);for(;" "==e.charAt(e.length-1)&&e.length;)e=e.substr(0,e.length-1);if("+"==e.charAt(0)?_=!0:"-"==e.charAt(0)&&(_=!0,r=!1),_){if(1==e.length)throw _b_.ValueError.$factory('long_int argument is not a valid number: "'+e+'"');e=e.substr(1)}for(;c<e.length-1&&"0"==e.charAt(c);)c++;e=e.substr(c);for(var u=digits(t),f=-1,p=0;p<e.length;p++)if("."==e.charAt(p)&&-1==f)f=p;else if(!u[e.charAt(p)])throw _b_.ValueError.$factory('long_int argument is not a valid number: "'+e+'"');if(-1!=f&&(e=e.substr(0,f)),10!=t){for(var d="1",h=long_int.$factory(0),m=e.length;m--;){var g=parseInt(e.charAt(m),t).toString(),$=mul_pos(d,g).value;h=add_pos(h.value,$),d=mul_pos(d,t.toString()).value}return h}return{__class__:long_int,value:e,pos:r}},$B.inverse_of=inverse_of,$B.set_func_names(long_int,"builtins"),$B.long_int=long_int,$B.fast_long_int=function(e,t){return{__class__:$B.long_int,value:e,pos:t}}}(__BRYTHON__),function($B){var _b_=$B.builtins,object=_b_.object;function $err(e,t){var r="unsupported operand type(s) for "+e+": 'float' and '"+$B.class_name(t)+"'";throw _b_.TypeError.$factory(r)}function float_value(e){return void 0!==e.$brython_value?e.$brython_value:e}var float={__class__:_b_.type,__dir__:object.__dir__,$infos:{__module__:"builtins",__name__:"float"},$is_class:!0,$native:!0,$descriptors:{numerator:!0,denominator:!0,imag:!0,real:!0}};function preformat(e,t){if(t.empty)return _b_.str.$factory(e);if(t.type&&-1=="eEfFgGn%".indexOf(t.type))throw _b_.ValueError.$factory("Unknown format code '"+t.type+"' for object of type 'float'");if(isNaN(e))return"f"==t.type||"g"==t.type?"nan":"NAN";if(e==Number.POSITIVE_INFINITY)return"f"==t.type||"g"==t.type?"inf":"INF";if(void 0===t.precision&&void 0!==t.type&&(t.precision=6),"%"==t.type&&(e*=100),"e"==t.type){var r=e.toExponential(t.precision),n=parseInt(r.substr(r.search("e")+1));return Math.abs(n)<10&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),r}if(void 0!==t.precision){var o=t.precision;if(0==o)return Math.round(e)+"";var i=(r=e.toFixed(o)).indexOf(".");if(void 0===t.type||"%"!=t.type&&"f"!=t.type.toLowerCase()){if(t.type&&"g"==t.type.toLowerCase()){var a=preformat(e,{type:"e"}).split("e"),s=(r=-4<=(n=parseInt(a[1]))&&n<t.precision?preformat(e,{type:"f",precision:t.precision-1-n}):preformat(e,{type:"e",precision:t.precision-1})).split("e");if(t.alternate)-1==s[0].search(/\./)&&(s[0]+=".");else if(s[1]){for(var l=s[0];l.endsWith("0");)l=l.substr(0,l.length-1);l.endsWith(".")&&(l=l.substr(0,l.length-1)),s[0]=l}return r=s.join("e"),"G"==t.type&&(r=r.toUpperCase()),r}if(void 0===t.type)t.type="g",r=preformat(e,t),t.type=void 0;else{var _=e.toExponential(t.precision-1);if((n=parseInt(_.substr(_.search("e")+1)))<-4||n>=t.precision-1){for(var c=_.split("e");c[0].endsWith("0");)c[0]=c[0].substr(0,c[0].length-1);r=c.join("e")}}}else if(-1==i)r+="."+"0".repeat(t.precision);else{var u=t.precision-r.length+i+1;u>0&&(r+="0".repeat(u))}}else r=_b_.str.$factory(e);if(void 0===t.type||-1!="gGn".indexOf(t.type)){if(-1==r.search("e"))for(;"0"==r.charAt(r.length-1);)r=r.substr(0,r.length-1);"."==r.charAt(r.length-1)&&(void 0===t.type?r+="0":r=r.substr(0,r.length-1))}return void 0!==t.sign&&(" "==t.sign||"+"==t.sign)&&e>0&&(r=t.sign+r),"%"==t.type&&(r+="%"),r}function __newobj__(){var e=$B.args("__newobj__",0,{},[],arguments,{},"args",null),t=e.args,r=t.slice(1);return r.__class__=t[0],r}float.numerator=function(e){return float_value(e)},float.denominator=function(e){return _b_.int.$factory(1)},float.imag=function(e){return _b_.int.$factory(0)},float.real=function(e){return float_value(e)},float.__float__=function(e){return float_value(e)},$B.shift1_cache={},float.as_integer_ratio=function(e){if((e=float_value(e)).valueOf()==Number.POSITIVE_INFINITY||e.valueOf()==Number.NEGATIVE_INFINITY)throw _b_.OverflowError.$factory("Cannot pass infinity to float.as_integer_ratio.");if(!Number.isFinite(e.valueOf()))throw _b_.ValueError.$factory("Cannot pass NaN to float.as_integer_ratio.");for(var t,r=_b_.$frexp(e.valueOf()),n=r[0],o=r[1],i=0;i<300&&n!=Math.floor(n);i++)n*=2,o--;return numerator=_b_.int.$factory(n),py_exponent=_b_.abs(o),denominator=1,void 0!==$B.shift1_cache[py_exponent]?t=$B.shift1_cache[py_exponent]:(t=$B.$getattr(1,"__lshift__")(py_exponent),$B.shift1_cache[py_exponent]=t),py_exponent=t,o>0?numerator=$B.rich_op("mul",numerator,py_exponent):denominator=py_exponent,$B.fast_tuple([_b_.int.$factory(numerator),_b_.int.$factory(denominator)])},float.__abs__=function(e){return new Number(Math.abs(float_value(e)))},float.__bool__=function(e){return e=float_value(e),_b_.bool.$factory(e.valueOf())},float.__divmod__=function(e,t){return _b_.isinstance(t,[_b_.int,float])?$B.fast_tuple([float.__floordiv__(e,t),float.__mod__(e,t)]):_b_.NotImplemented},float.__eq__=function(e,t){return e=float_value(e),t=float_value(t),(!isNaN(e)||!isNaN(t))&&(_b_.isinstance(t,_b_.int)?e==t:_b_.isinstance(t,float)?e.valueOf()==t.valueOf():_b_.isinstance(t,_b_.complex)?0==t.$imag&&e==t.$real:_b_.NotImplemented)},float.__floordiv__=function(e,t){if(e=float_value(e),t=float_value(t),_b_.isinstance(t,[_b_.int,float])){if(0==t.valueOf())throw _b_.ZeroDivisionError.$factory("division by zero");return float.$factory(Math.floor(e/t))}return _b_.NotImplemented},float.fromhex=function(e){if(!_b_.isinstance(e,_b_.str))throw _b_.ValueError.$factory("argument must be a string");var t=e.trim();switch(t.toLowerCase()){case"+inf":case"inf":case"+infinity":case"infinity":return $FloatClass(1/0);case"-inf":case"-infinity":return $FloatClass(-1/0);case"+nan":case"nan":return $FloatClass(Number.NaN);case"-nan":return $FloatClass(-Number.NaN);case"":throw _b_.ValueError.$factory("could not convert string to float")}var r=/^(\d*)(\.?)(\d*)$/.exec(t);if(null!==r){var n=parseFloat(r[1]),o=16;if(r[2])for(var i of r[3])n+=parseInt(i,16)/o,o*=16;return $FloatClass(n)}var a=/^(\+|-)?(0x)?([0-9A-F]+\.?)?(\.[0-9A-F]+)?(p(\+|-)?\d+)?$/i.exec(t);if(null==a)throw _b_.ValueError.$factory("invalid hexadecimal floating-point string");var s=a[1],l=parseInt(a[3]||"0",16),_=a[4]||".0",c=a[5]||"p0";s="-"==s?-1:1;for(var u=l,f=1,p=_.length;f<p;f++)u+=parseInt(_.charAt(f),16)/Math.pow(16,f);return new Number(s*u*Math.pow(2,parseInt(c.substring(1))))},float.__getformat__=function(e){if("double"==e||"float"==e)return"IEEE, little-endian";throw _b_.ValueError.$factory("__getformat__() argument 1 must be 'double' or 'float'")},float.__format__=function(e,t){e=float_value(e);var r=new $B.parse_format_spec(t);r.align=r.align||">";var n=preformat(e,r).split("."),o=n[0];if(r.comma){for(var i=o.length,a=Math.ceil(o.length/3),s=[],l=0;l<a;l++)s.push(o.substring(i-3*l-3,i-3*l));s.reverse(),n[0]=s.join(",")}return $B.format_width(n.join("."),r)},float.__hash__=function(e){if(void 0===e)return float.__hashvalue__||$B.$py_next_hash--;var t=e.valueOf();if(t===1/0)return 314159;if(t===-1/0)return-271828;if(isNaN(t))return 0;if(t==Math.round(t))return Math.round(t);var r=_b_.$frexp(t);r[0]*=Math.pow(2,31);var n=_b_.int.$factory(r[0]);return r[0]=(r[0]-n)*Math.pow(2,31),4294967295&n+_b_.int.$factory(r[0])+(r[1]<<15)},_b_.$isninf=function(e){var t=e;return _b_.isinstance(e,float)&&(t=float.numerator(e)),t==-1/0||t==Number.NEGATIVE_INFINITY},_b_.$isinf=function(e){var t=e;return!e instanceof Number&&_b_.isinstance(e,float)&&(t=float.numerator(e)),t==1/0||t==-1/0||t==Number.POSITIVE_INFINITY||t==Number.NEGATIVE_INFINITY},_b_.$isnan=function(e){var t=e;return _b_.isinstance(e,float)&&(t=float.numerator(e)),isNaN(t)},_b_.$fabs=function(e){return 0==e?new Number(0):e>0?float.$factory(e):float.$factory(-e)},_b_.$frexp=function(e){var t=e;if(_b_.isinstance(e,float)&&(t=e.valueOf()),isNaN(t)||_b_.$isinf(t))return[t,-1];if(0==t)return[0,0];var r=1,n=0,o=t;for(o<0&&(r=-r,o=-o);o<.5;)o*=2,n--;for(;o>=1;)o*=.5,n++;return[o*=r,n]},_b_.$ldexp=function(e,t){if(_b_.$isninf(e))return float.$factory("-inf");if(_b_.$isinf(e))return float.$factory("inf");var r=e;if(_b_.isinstance(e,float)&&(r=e.valueOf()),0==r)return r;var n=t;return _b_.isinstance(t,float)&&(n=t.valueOf()),r*Math.pow(2,n)},float.hex=function(e){switch((e=float_value(e)).valueOf()){case 1/0:case-1/0:case Number.NaN:case-Number.NaN:return e;case-0:return"-0x0.0p0";case 0:return"0x0.0p0"}var t=_b_.$frexp(_b_.$fabs(e.valueOf())),r=t[0],n=t[1],o=1-Math.max(-1021-n,0);r=_b_.$ldexp(r,o),n-=o;var i="0123456789ABCDEF".split(""),a=i[Math.floor(r)];a+=".",r-=Math.floor(r);for(var s=0;s<13;s++)r*=16,a+=i[Math.floor(r)],r-=Math.floor(r);var l="+";return n<0&&(l="-",n=-n),e.value<0?"-0x"+a+"p"+l+n:"0x"+a+"p"+l+n},float.__init__=function(e,t){return _b_.None},float.__int__=function(e){return parseInt(e)},float.is_integer=function(e){return _b_.int.$factory(e)==e},float.__mod__=function(e,t){if(e=float_value(e),0==(t=float_value(t)))throw _b_.ZeroDivisionError.$factory("float modulo");if(_b_.isinstance(t,_b_.int))return t=_b_.int.numerator(t),new Number((e%t+t)%t);if(_b_.isinstance(t,float)){var r=Math.floor(e/t);return new Number(e-t*r)}return _b_.NotImplemented},float.__mro__=[object],float.__mul__=function(e,t){return e=float_value(e),t=float_value(t),_b_.isinstance(t,_b_.int)?t.__class__==$B.long_int?new Number(e*parseFloat(t.value)):(t=_b_.int.numerator(t),new Number(e*t)):_b_.isinstance(t,float)?new Number(e*float_value(t)):_b_.NotImplemented},float.__ne__=function(e,t){var r=float.__eq__(e,t);return r===_b_.NotImplemented?r:!r},float.__neg__=function(e){return new Number(-float_value(e))},float.__new__=function(e,t){if(void 0===e)throw _b_.TypeError.$factory("float.__new__(): not enough arguments");if(!_b_.isinstance(e,_b_.type))throw _b_.TypeError.$factory("float.__new__(X): X is not a type object");return e===float?float.$factory(t):{__class__:e,__dict__:$B.empty_dict(),$brython_value:t||0}},float.__pos__=function(e){return float_value(e)},float.__pow__=function(e,t){if(e=float_value(e),t=float_value(t),_b_.isinstance(t,_b_.int)||_b_.isinstance(t,float)){if(1==e)return new Number(1);if(0==t)return new Number(1);if(!(-1!=e||isFinite(t)&&t.__class__!==$B.long_int&&$B.is_safe_int(t)||isNaN(t)))return new Number(1);if(0==e&&isFinite(t)&&t<0)throw _b_.ZeroDivisionError.$factory("0.0 cannot be raised to a negative power");return e!=Number.NEGATIVE_INFINITY||isNaN(t)?e!=Number.POSITIVE_INFINITY||isNaN(t)?t!=Number.NEGATIVE_INFINITY||isNaN(e)?t!=Number.POSITIVE_INFINITY||isNaN(e)?e<0&&!$B.$getattr(t,"__eq__")(_b_.int.$factory(t))?_b_.complex.__pow__($B.make_complex(e,0),t):float.$factory(Math.pow(e,t)):Math.abs(e)<1?new Number(0):Number.POSITIVE_INFINITY:Math.abs(e)<1?Number.POSITIVE_INFINITY:new Number(0):t>0?e:new Number(0):t<0&&t%2==1?new Number(-0):t<0?new Number(0):t>0&&t%2==1?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY}return _b_.NotImplemented},float.__reduce_ex__=function(e){return $B.fast_tuple([__newobj__,$B.fast_tuple([e.__class__||_b_.int,float_value(e)]),_b_.None,_b_.None,_b_.None])},float.__repr__=function(e){if($B.builtins_repr_check(float,arguments),(e=float_value(e).valueOf())==1/0)return"inf";if(e==-1/0)return"-inf";if(isNaN(e))return"nan";if(0===e)return 1/e==-1/0?"-0.0":"0.0";var t=e+"";-1==t.search(/[.eE]/)&&(t+=".0");var r,n,o=t.split(/e/i);if(2==o.length){var i=o[0];if((s=o[1]).startsWith("-"))return exp_str=parseInt(s.substr(1))+"",exp_str.length<2&&(exp_str="0"+exp_str),i+"e-"+exp_str}[r,n]=t.split(".");var a="";if("-"==r[0]&&(r=r.substr(1),a="-"),r.length>16){for(var s=r.length-1,l=r[0],_=r.substr(1)+n;_.endsWith("0");)_=_.substr(0,_.length-1);return i=l,_.length>0&&(i+="."+_),a+i+"e+"+s}if("0"==r){for(s=0;s<n.length&&"0"==n.charAt(s);)s++;if(s>3){var c=n.substr(s);for(s=(s+1).toString();c.endsWith("0");)c=c.substr(0,t.length-1);return i=c[0],c.length>1&&(i+="."+c.substr(1)),1==s.length&&(s="0"+s),a+i+"e-"+s}}return _b_.str.$factory(t)},float.__setattr__=function(e,t,r){if(e.constructor===Number)throw void 0===float[t]?_b_.AttributeError.$factory("'float' object has no attribute '"+t+"'"):_b_.AttributeError.$factory("'float' object attribute '"+t+"' is read-only");return e[t]=r,_b_.None},float.__truediv__=function(e,t){if(e=float_value(e),t=float_value(t),_b_.isinstance(t,[_b_.int,float])){if(0==t.valueOf())throw _b_.ZeroDivisionError.$factory("division by zero");return float.$factory(e/t)}return _b_.NotImplemented};var $op_func=function(e,t){return e=float_value(e),t=float_value(t),_b_.isinstance(t,_b_.int)?"boolean"==typeof t?t?e-1:e:t.__class__===$B.long_int?float.$factory(e-parseInt(t.value)):float.$factory(e-t):_b_.isinstance(t,float)?float.$factory(e-t):_b_.NotImplemented};$op_func+="";var $ops={"+":"add","-":"sub"};for(var $op in $ops){var $opf=$op_func.replace(/-/gm,$op);$opf=$opf.replace(/__rsub__/gm,"__r"+$ops[$op]+"__"),eval("float.__"+$ops[$op]+"__ = "+$opf)}var $comp_func=function(e,t){if(e=float_value(e),t=float_value(t),_b_.isinstance(t,_b_.int))return t.__class__===$B.long_int?e>parseInt(t.value):e>t.valueOf();if(_b_.isinstance(t,float))return e>t;if(_b_.isinstance(t,_b_.bool))return e.valueOf()>_b_.bool.__hash__(t);if(_b_.hasattr(t,"__int__")||_b_.hasattr(t,"__index__"))return _b_.int.__gt__(e,$B.$GetInt(t));var r=$B.$getattr(t,"__le__",_b_.None);if(r!==_b_.None)return r(e);throw _b_.TypeError.$factory("unorderable types: float() > "+$B.class_name(t)+"()")};for(var $op in $comp_func+="",$B.$comps)eval("float.__"+$B.$comps[$op]+"__ = "+$comp_func.replace(/>/gm,$op).replace(/__gt__/gm,"__"+$B.$comps[$op]+"__").replace(/__le__/,"__"+$B.$inv_comps[$op]+"__"));var r_opnames=["add","sub","mul","truediv","floordiv","mod","pow","lshift","rshift","and","xor","or","divmod"];for(var r_opname of r_opnames)void 0===float["__r"+r_opname+"__"]&&float["__"+r_opname+"__"]&&(float["__r"+r_opname+"__"]=function(e){return function(t,r){return _b_.isinstance(r,_b_.int)?(r=float_value(_b_.int.numerator(r)),float["__"+e+"__"](r,t)):_b_.isinstance(r,float)?(r=float_value(r),float["__"+e+"__"](r,t)):_b_.NotImplemented}}(r_opname));function $FloatClass(e){return new Number(e)}function to_digits(e){for(var t="",r=0;r<e.length;r++){var n="٠١٢٣٤٥٦٧٨٩".indexOf(e[r]);t+=n>-1?n:e[r]}return t}float.$factory=function(value){switch(value){case void 0:return $FloatClass(0);case Number.MAX_VALUE:return $FloatClass(1/0);case-Number.MAX_VALUE:return $FloatClass(-1/0);case!0:return new Number(1);case!1:return new Number(0)}if("number"==typeof value)return new Number(value);if(_b_.isinstance(value,float))return float_value(value);if(_b_.isinstance(value,_b_.bytes)){var s=$B.$getattr(value,"decode")("latin-1");return float.$factory($B.$getattr(value,"decode")("latin-1"))}if("string"==typeof value)switch(value=value.trim(),value.toLowerCase()){case"+inf":case"inf":case"+infinity":case"infinity":return Number.POSITIVE_INFINITY;case"-inf":case"-infinity":return Number.NEGATIVE_INFINITY;case"+nan":case"nan":return Number.NaN;case"-nan":return-Number.NaN;case"":throw _b_.ValueError.$factory("count not convert string to float");default:if(value=value.charAt(0)+value.substr(1).replace(/_/g,""),value=to_digits(value),isFinite(value))return $FloatClass(eval(value));throw _b_.str.encode(value,"latin-1"),_b_.ValueError.$factory("Could not convert to float(): '"+_b_.str.$factory(value)+"'")}var klass=value.__class__||$B.get_class(value),num_value=$B.to_num(value,["__float__","__index__"]);if(value!==Number.POSITIVE_INFINITY&&!isFinite(num_value))throw _b_.OverflowError.$factory("int too large to convert to float");if(null!==num_value)return num_value;throw _b_.TypeError.$factory("float() argument must be a string or a number, not '"+$B.class_name(value)+"'")},$B.$FloatClass=$FloatClass,$B.set_func_names(float,"builtins");var FloatSubclass=$B.FloatSubclass={__class__:_b_.type,__mro__:[object],$infos:{__module__:"builtins",__name__:"float"},$is_class:!0};for(var $attr in float)"function"==typeof float[$attr]&&(FloatSubclass[$attr]=function(e){return function(){var t=[],r=0;if(arguments.length>0){t=[arguments[0].valueOf()],r=1;for(var n=1,o=arguments.length;n<o;n++)t[r++]=arguments[n]}return float[e].apply(null,t)}}($attr));$B.set_func_names(FloatSubclass,"builtins"),_b_.float=float}(__BRYTHON__),function($B){var _b_=$B.builtins;function $UnsupportedOpType(e,t,r){throw _b_.TypeError.$factory("unsupported operand type(s) for "+e+": '"+t+"' and '"+r+"'")}var complex={__class__:_b_.type,__dir__:_b_.object.__dir__,$infos:{__module__:"builtins",__name__:"complex"},$is_class:!0,$native:!0,$descriptors:{real:!0,imag:!0}};function complex2expo(e){var t=Math.sqrt(e.$real*e.$real+e.$imag*e.$imag),r=e.$imag/t,n=e.$real/t;return{norm:t,angle:0==n?1==r?Math.PI/2:3*Math.PI/2:0==r?1==n?0:Math.PI:Math.atan(r/n)}}complex.__abs__=function(e){var t=isFinite(e.$real),r=isFinite(e.$imag);if(t&&isNaN(e.$imag)||r&&isNaN(e.$real)||isNaN(e.$imag)&&isNaN(e.$real))return NaN;if(!t||!r)return 1/0;var n=Math.sqrt(Math.pow(e.$real,2)+Math.pow(e.$imag,2));if(!isFinite(n)&&t&&r)throw _b_.OverflowError.$factory("absolute value too large");return n},complex.__add__=function(e,t){return _b_.isinstance(t,complex)?make_complex(e.$real+t.$real,e.$imag+t.$imag):_b_.isinstance(t,_b_.int)?(t=_b_.int.numerator(t),make_complex($B.add(e.$real,t.valueOf()),e.$imag)):_b_.isinstance(t,_b_.float)?make_complex(e.$real+t.valueOf(),e.$imag):_b_.NotImplemented},complex.__bool__=function(e){return 0!=e.$real||0!=e.$imag},complex.__complex__=function(e){return e},complex.__eq__=function(e,t){return _b_.isinstance(t,complex)?e.$real.valueOf()==t.$real.valueOf()&&e.$imag.valueOf()==t.$imag.valueOf():_b_.isinstance(t,_b_.int)||_b_.isinstance(t,_b_.float)?0==e.$imag&&e.$real==t.valueOf():_b_.NotImplemented},complex.__hash__=function(e){return 1000003*e.$imag+e.$real},complex.__init__=function(){return _b_.None},complex.__invert__=function(e){return~e},complex.__mro__=[_b_.object],complex.__mul__=function(e,t){return _b_.isinstance(t,complex)?make_complex(e.$real*t.$real-e.$imag*t.$imag,e.$imag*t.$real+e.$real*t.$imag):_b_.isinstance(t,_b_.int)?make_complex(e.$real*t.valueOf(),e.$imag*t.valueOf()):_b_.isinstance(t,_b_.float)?make_complex(e.$real*t,e.$imag*t):_b_.isinstance(t,_b_.bool)?t.valueOf()?e:make_complex(0,0):void $UnsupportedOpType("*",complex,t)},complex.__ne__=function(e,t){var r=complex.__eq__(e,t);return r===_b_.NotImplemented?r:!r},complex.__neg__=function(e){return make_complex(-e.$real,-e.$imag)},complex.__new__=function(e){if(void 0===e)throw _b_.TypeError.$factory("complex.__new__(): not enough arguments");var t={},r=$B.args("complex",3,{cls:null,real:null,imag:null},["cls","real","imag"],arguments,{real:0,imag:t},null,null),n=r.real,o=r.imag;if("string"==typeof n){if(o!==t)throw _b_.TypeError.$factory("complex() can't take second arg if first is a string");{var i=n;(n=n.trim()).startsWith("(")&&n.endsWith(")")&&(n=(n=n.substr(1)).substr(0,n.length-1));var a=/^\s*([\+\-]*[0-9_]*\.?[0-9_]*(e[\+\-]*[0-9_]*)?)([\+\-]?)([0-9_]*\.?[0-9_]*(e[\+\-]*[0-9_]*)?)(j?)\s*$/i,s=a.exec(n);function l(e){var t=parseFloat(e.charAt(0)+e.substr(1).replace(/_/g,""));if(isNaN(t))throw _b_.ValueError.$factory("could not convert string to complex: '"+i+"'");return t}if(null===s)throw _b_.ValueError.$factory("complex() arg is a malformed string");if("."==s[_real]||"."==s[_imag]||".e"==s[_real]||".e"==s[_imag]||"e"==s[_real]||"e"==s[_imag])throw _b_.ValueError.$factory("complex() arg is a malformed string");return""!=s[_j]?""==s[_sign]?(n=0,o="+"==s[_real]||""==s[_real]?1:"-"==s[_real]?-1:l(s[_real])):(n=l(s[_real]),o=""==s[_imag]?1:l(s[_imag]),o="-"==s[_sign]?-o:o):(n=l(s[_real]),o=0),{__class__:complex,$real:n||0,$imag:o||0}}}if(o=o===t?0:o,2==arguments.length&&n.__class__===complex&&0==o)return n;if(_b_.isinstance(n,[_b_.float,_b_.int])&&_b_.isinstance(o,[_b_.float,_b_.int]))return{__class__:complex,$real:n,$imag:o};var _=$B.to_num(n,["__complex__","__float__","__index__"]);if(null===_)throw _b_.TypeError.$factory("complex() first argument must be a  string or a number, not '"+$B.class_name(n)+"'");if(n=_,o=_convert(o),!_b_.isinstance(n,_b_.float)&&!_b_.isinstance(n,_b_.int)&&!_b_.isinstance(n,_b_.complex))throw _b_.TypeError.$factory("complex() argument must be a string or a number");if("string"==typeof o)throw _b_.TypeError.$factory("complex() second arg can't be a string");if(!_b_.isinstance(o,_b_.float)&&!_b_.isinstance(o,_b_.int)&&!_b_.isinstance(o,_b_.complex)&&o!==t)throw _b_.TypeError.$factory("complex() argument must be a string or a number");return o=complex.__mul__(complex.$factory("1j"),o),complex.__add__(o,n)},complex.__pos__=function(e){return e},complex.__pow__=function(e,t){if(1==t)return e;var r=complex2expo(e),n=r.angle,o=Math.pow(r.norm,t);if(_b_.isinstance(t,[_b_.int,_b_.float]))return make_complex(o*Math.cos(n*t),o*Math.sin(n*t));if(_b_.isinstance(t,complex)){var i=t.$real,a=t.$imag,s=Math.pow(r.norm,i)*Math.pow(Math.E,-a*n),l=a*Math.log(r.norm)-i*n;return make_complex(s*Math.cos(l),s*Math.sin(l))}throw _b_.TypeError.$factory("unsupported operand type(s) for ** or pow(): 'complex' and '"+$B.class_name(t)+"'")},complex.__radd__=function(e,t){return _b_.isinstance(t,_b_.bool)&&(t=t?1:0),_b_.isinstance(t,[_b_.int,_b_.float])?make_complex(t+e.$real,e.$imag):_b_.NotImplemented},complex.__repr__=function(e){$B.builtins_repr_check(complex,arguments);var t=_b_.str.$factory(e.$real),r=_b_.str.$factory(e.$imag);return e.$real instanceof Number&&e.$real==parseInt(e.$real)&&(t=_b_.str.$factory(parseInt(e.$real))),e.$imag instanceof Number&&e.$imag==parseInt(e.$imag)&&(r=_b_.str.$factory(parseInt(e.$imag)),0==e.$imag&&1/e.$imag==-1/0&&(r="-0")),0==e.$real?1/e.$real<0?r.startsWith("-")?"-0"+r+"j":"-0+"+r+"j":r+"j":e.$imag>0||isNaN(e.$imag)?"("+t+"+"+r+"j)":0==e.$imag?1/e.$imag<0?"("+t+"-0j)":"("+t+"+0j)":"("+t+"-"+_b_.str.$factory(-e.$imag)+"j)"},complex.__rmul__=function(e,t){return _b_.isinstance(t,_b_.bool)&&(t=t?1:0),_b_.isinstance(t,[_b_.int,_b_.float])?make_complex(t*e.$real,t*e.$imag):_b_.NotImplemented},complex.__sqrt__=function(e){if(0==e.$imag)return complex(Math.sqrt(e.$real));var t=e.$real,r=e.$imag,n=Math.sqrt((t+sqrt)/2),o=Number.sign(r)*Math.sqrt((-t+sqrt)/2);return make_complex(n,o)},complex.__sub__=function(e,t){return _b_.isinstance(t,complex)?make_complex(e.$real-t.$real,e.$imag-t.$imag):_b_.isinstance(t,_b_.int)?(t=_b_.int.numerator(t),make_complex($B.sub(e.$real,t.valueOf()),e.$imag)):_b_.isinstance(t,_b_.float)?make_complex(e.$real-t.valueOf(),e.$imag):_b_.NotImplemented},complex.__truediv__=function(e,t){if(_b_.isinstance(t,complex)){if(0==t.$real&&0==t.$imag)throw _b_.ZeroDivisionError.$factory("division by zero");var r=e.$real*t.$real+e.$imag*t.$imag,n=t.$real*t.$real+t.$imag*t.$imag,o=e.$imag*t.$real-e.$real*t.$imag;return make_complex(r/n,o/n)}if(_b_.isinstance(t,_b_.int)){if(!t.valueOf())throw _b_.ZeroDivisionError.$factory("division by zero");return complex.__truediv__(e,complex.$factory(t.valueOf()))}if(_b_.isinstance(t,_b_.float)){if(!t.valueOf())throw _b_.ZeroDivisionError.$factory("division by zero");return complex.__truediv__(e,complex.$factory(t.valueOf()))}$UnsupportedOpType("//","complex",t.__class__)},complex.conjugate=function(e){return make_complex(e.$real,-e.$imag)},complex.__ior__=complex.__or__;var r_opnames=["add","sub","mul","truediv","floordiv","mod","pow","lshift","rshift","and","xor","or"];for(var r_opname of r_opnames)void 0===complex["__r"+r_opname+"__"]&&complex["__"+r_opname+"__"]&&(complex["__r"+r_opname+"__"]=function(e){return function(t,r){return _b_.isinstance(r,[_b_.int,_b_.float])?(r=make_complex(r,0),complex["__"+e+"__"](r,t)):_b_.isinstance(r,complex)?complex["__"+e+"__"](r,t):_b_.NotImplemented}}(r_opname));var $comp_func=function(e,t){if(void 0===t||t==_b_.None)return _b_.NotImplemented;throw _b_.TypeError.$factory("no ordering relation is defined for complex numbers")};for(var $op in $comp_func+="",$B.$comps)eval("complex.__"+$B.$comps[$op]+"__ = "+$comp_func.replace(/>/gm,$op));complex.real=function(e){return new Number(e.$real)},complex.real.setter=function(){throw _b_.AttributeError.$factory("readonly attribute")},complex.imag=function(e){return new Number(e.$imag)},complex.imag.setter=function(){throw _b_.AttributeError.$factory("readonly attribute")};var _real=1,_real_mantissa=2,_sign=3,_imag=4,_imag_mantissa=5,_j=6,type_conversions=["__complex__","__float__","__index__"],_convert=function(e){for(var t=e.__class__||$B.get_class(e),r=0;r<type_conversions.length;r++){var n={},o=$B.$getattr(t,type_conversions[r],n);if(o!==n)return o(e)}return null},make_complex=$B.make_complex=function(e,t){return{__class__:complex,$real:e,$imag:t}};complex.$factory=function(){return complex.__new__(complex,...arguments)},$B.set_func_names(complex,"builtins"),_b_.complex=complex}(__BRYTHON__),function(e){var t=e.builtins,r=t.str.__hash__,n=t.None,o=["eq","le","lt","ge","gt","sub","rsub","and","or","xor"];function i(t,r){for(var n=0,o=t.length;n<o;n++){for(var i=t[n],a=!1,s=0,l=r.length;s<l;s++)if(e.rich_comp("__eq__",i,r[s])){r.splice(s,1),a=!0;break}if(!a)return!1}return!0}dict_view_op={__eq__:function(e,t){return e.length==t.length&&i(e,t)},__ne__:function(e,t){return!dict_view_op.__eq__(e,t)},__lt__:function(e,t){return e.length<t.length&&i(e,t)},__gt__:function(e,t){return dict_view_op.__lt__(t,e)},__le__:function(e,t){return e.length<=t.length&&i(e,t)},__ge__:function(e,t){return dict_view_op.__le__(t,e)},__and__:function(t,r){for(var n=[],o=0,i=t.length;o<i;o++){var a=t[o];flag=!1;for(var s=0,l=r.length;s<l;s++)if(e.rich_comp("__eq__",a,r[s])){r.splice(s,1),n.push(a);break}}return n},__or__:function(t,r){for(var n=t,o=0,i=r.length;o<i;o++){for(var a=r[o],s=!1,l=0,_=t.length;l<_;l++)if(e.rich_comp("__eq__",a,t[l])){r.splice(o,1),s=!0;break}s||n.push(a)}return n}},e.make_view=function(r){for(var n=e.make_class(r,(function(t,r,o){return{__class__:n,__dict__:e.empty_dict(),counter:-1,dict:t,items:r,len:r.length,set_like:o}})),i=0,a=o.length;i<a;i++){var s="__"+o[i]+"__";n[s]=function(e){return function(r,o){if(r.set_like)return t.set[e](t.set.$factory(r),t.set.$factory(o));if(o.__class__!==n)return!1;var i=t.list.$factory(o);return dict_view_op[e](r.items,i)}}(s)}return n.__iter__=function(e){var t=n.$iterator.$factory(e.items);return t.test_change=function(){return e.dict.$version!=e.dict_version},t},n.__len__=function(e){return e.len},n.__repr__=function(e){return n.$infos.__name__+"("+t.repr(e.items)+")"},e.set_func_names(n,"builtins"),n};var a={__class__:t.type,__mro__:[t.object],$infos:{__module__:"builtins",__name__:"dict"},$is_class:!0,$native:!0,$match_mapping_pattern:!0};function s(e,r){var o=[];if(e.$jsobj){for(var i in o=[],e.$jsobj)if(!(i.startsWith("$")||e.$exclude&&e.$exclude(i))){var a=e.$jsobj[i];void 0===a?a=t.NotImplemented:null===a&&(a=n),o.push([i,a])}}else if(t.isinstance(e,t.dict)){for(var s in e.$numeric_dict)o.push([parseFloat(s),e.$numeric_dict[s]]);for(var s in e.$string_dict)o.push([s,e.$string_dict[s]]);for(var s in e.$object_dict)e.$object_dict[s].forEach((function(e){o.push(e)}));o.sort((function(e,t){return e[1][1]-t[1][1]})),o=o.map((function(e){return[e[0],e[1][0]]}))}return void 0!==r?(res=o.map((function(e){return e[r]})),res):(o.__class__=t.tuple,o.map((function(e){return e.__class__=t.tuple,e})))}a.$to_obj=function(e){var t={};for(var r in e.$string_dict)t[r]=e.$string_dict[r][0];return t},e.dict_to_list=s;var l=function(e,r){var n=s(r),o=a.$setitem;r.$version=r.$version||0;for(var i=r.$version||0,l=0,_=n.length;l<_;l++)if(o(e,n[l][0],n[l][1]),r.$version!=i)throw t.RuntimeError.$factory("dict mutated during update")};function _(t,r,n){var o=t.$object_dict[r];if(void 0!==o)for(var i=0,a=o.length;i<a;i++)if(e.rich_comp("__eq__",n,o[i][0]))return i;return-1}function c(e,n){for(var o=-1,i=n.length-1,s=a.__setitem__;o++<i;){var l=n[o];if(2!=l.length)throw t.ValueError.$factory(`dictionary update sequence element #${o} has length 1; 2 is required`);switch(typeof l[0]){case"string":e.$string_dict[l[0]]=[l[1],e.$order++],e.$str_hash[r(l[0])]=l[0],e.$version++;break;case"number":if(0!=l[0]&&1!=l[0]){e.$numeric_dict[l[0]]=[l[1],e.$order++],e.$version++;break}default:s(e,l[0],l[1])}}}function u(){var t=e.args("__newobj__",0,{},[],arguments,{},"args",null),r=t.args,n=e.empty_dict();return n.__class__=r[0],n}a.__bool__=function(){var t=e.args("__bool__",1,{self:null},["self"],arguments,{},null,null);return a.__len__(t.self)>0},a.__class_getitem__=function(t,r){return Array.isArray(r)||(r=[r]),e.GenericAlias.$factory(t,r)},a.__contains__=function(){var r=e.args("__contains__",2,{self:null,key:null},["self","key"],arguments,{},null,null),n=r.self,o=r.key;if(n.$jsobj)return void 0!==n.$jsobj[o];switch(typeof o){case"string":return void 0!==n.$string_dict[o];case"number":return void 0!==n.$numeric_dict[o]}var i=t.hash(o);return!(void 0===n.$str_hash[i]||!e.rich_comp("__eq__",o,n.$str_hash[i]))||!(void 0===n.$numeric_dict[i]||!e.rich_comp("__eq__",o,i))||_(n,i,o)>-1},a.__delitem__=function(){var o=e.args("__eq__",2,{self:null,arg:null},["self","arg"],arguments,{},null,null),i=o.self,a=o.arg;if(i.$jsobj){if(void 0===i.$jsobj[a])throw t.KeyError.$factory(a);return delete i.$jsobj[a],n}switch(typeof a){case"string":if(void 0===i.$string_dict[a])throw t.KeyError.$factory(t.str.$factory(a));return delete i.$string_dict[a],delete i.$str_hash[r(a)],i.$version++,n;case"number":if(void 0===i.$numeric_dict[a])throw t.KeyError.$factory(t.str.$factory(a));return delete i.$numeric_dict[a],i.$version++,n}var s,l=t.hash(a);if(!((s=_(i,l,a))>-1))throw t.KeyError.$factory(t.str.$factory(a));return i.$object_dict[l].splice(s,1),i.$version++,n},a.__eq__=function(){var r=e.args("__eq__",2,{self:null,other:null},["self","other"],arguments,{},null,null),n=r.self,o=r.other;if(!t.isinstance(o,a))return!1;if(n.$jsobj&&(n=g(n.$jsobj)),o.$jsobj&&(o=g(o.$jsobj)),a.__len__(n)!=a.__len__(o))return!1;if(n.$string_dict.length!=o.$string_dict.length)return!1;for(var i in n.$numeric_dict)if(o.$numeric_dict.hasOwnProperty(i)){if(!e.rich_comp("__eq__",o.$numeric_dict[i][0],n.$numeric_dict[i][0]))return!1}else{if(!o.$object_dict.hasOwnProperty(i))return!1;for(var s=!1,l=0,_=(u=o.$object_dict[i]).length;l<_;l++)if(e.rich_comp("__eq__",i,u[l][0])&&e.rich_comp("__eq__",n.$numeric_dict[i],u[l][1])){s=!0;break}if(!s)return!1}for(var i in n.$string_dict)if(!o.$string_dict.hasOwnProperty(i)||!e.rich_comp("__eq__",o.$string_dict[i][0],n.$string_dict[i][0]))return!1;for(var c in n.$object_dict){var u=n.$object_dict[c],f=[];if(void 0!==o.$numeric_dict[c]&&f.push([c,o.$numeric_dict[c]]),void 0!==o.$object_dict[c]&&(f=f.concat(o.$object_dict[c])),0==f.length)return!1;l=0;for(var p=u.length;l<p;l++){s=!1;for(var d=u[l][0],h=u[l][1][0],m=0,$=f.length;m<$;m++)if(e.rich_comp("__eq__",d,f[m][0])&&e.rich_comp("__eq__",h,f[m][1][0])){s=!0;break}if(!s)return!1}}return!0},a.__getitem__=function(){var t=e.args("__getitem__",2,{self:null,arg:null},["self","arg"],arguments,{},null,null),r=t.self,n=t.arg;return a.$getitem(r,n)},a.$getitem=function(r,n,o){if(r.$jsobj){if(r.$exclude&&r.$exclude(n))throw t.KeyError.$factory(n);if(void 0===r.$jsobj[n]){if(r.$jsobj.hasOwnProperty&&r.$jsobj.hasOwnProperty(n))return e.Undefined;throw t.KeyError.$factory(n)}return r.$jsobj[n]}switch(typeof n){case"string":var i=r.$string_dict[n];if(void 0!==i)return i[0];break;case"number":if(void 0!==r.$numeric_dict[n])return r.$numeric_dict[n][0]}var s=t.hash(n),l=function(t){return e.rich_comp("__eq__",n,t)};"object"==typeof n&&(n.$hash=s);var c=r.$str_hash[s];if(void 0!==c&&l(c))return r.$string_dict[c][0];if(void 0!==r.$numeric_dict[s]&&l(s))return r.$numeric_dict[s][0];if(t.isinstance(n,t.str)){var u=r.$string_dict[n.valueOf()];if(void 0!==u)return u[0]}var f=_(r,s,n);if(f>-1)return r.$object_dict[s][f][1][0];if(!o&&r.__class__!==a&&!o){try{var p=e.$getattr(r.__class__,"__missing__",t.None)}catch(e){console.log(e)}if(p!==t.None)return p(r,n)}throw t.KeyError.$factory(n)},a.__hash__=t.None,a.__init__=function(o,i,s){if(void 0===i)return n;if(void 0===s){if("kw"!=i.$nat&&e.get_class(i)===e.JSObj){for(var _ in i)o.$string_dict[_]=[i[_],o.$order++];return t.None}if(i.$jsobj){for(var u in o.$jsobj={},i.$jsobj)o.$jsobj[u]=i.$jsobj[u];return n}if(Array.isArray(i))return c(o,i),n}var f=e.args("dict",1,{self:null},["self"],arguments,{},"first","second"),p=f.first;if(p.length>1)throw t.TypeError.$factory("dict expected at most 1 argument, got 2");if(1==p.length)if((p=p[0]).__class__===a)["$string_dict","$str_hash","$numeric_dict","$object_dict"].forEach((function(e){for(_ in p[e])o[e][_]=p[e][_]}));else if(t.isinstance(p,a))l(o,p);else{var d=e.$getattr(p,"keys",null);if(null!==d){var h=e.$getattr(p,"__getitem__",null);if(null!==h){h=e.$call(h);for(var m=t.iter(e.$call(d)());;)try{var g=h(_=t.next(m));a.__setitem__(o,_,g)}catch(e){if(e.__class__===t.StopIteration)break;throw e}return n}}Array.isArray(p)||(p=t.list.$factory(p)),c(o,p)}var $=f.second.$string_dict;for(var u in $)switch(typeof u){case"string":o.$string_dict[u]=[$[u][0],o.$order++],o.$str_hash[r(u)]=u;break;case"number":o.$numeric_dict[u]=[$[u][0],o.$order++];break;default:si(o,u,$[u][0])}return n},a.__iter__=function(e){return t.iter(a.keys(e))},a.__ior__=function(e,t){return a.update(e,t),e},a.__len__=function(e){var t=0;if(e.$jsobj){for(var r in e.$jsobj)"$"==r.charAt(0)||e.$exclude&&e.$exclude(r)||t++;return t}for(var n in e.$numeric_dict)t++;for(var n in e.$string_dict)t++;for(var o in e.$object_dict)t+=e.$object_dict[o].length;return t},a.__ne__=function(e,t){return!a.__eq__(e,t)},a.__new__=function(r){if(void 0===r)throw t.TypeError.$factory("int.__new__(): not enough arguments");var n={__class__:r,$numeric_dict:{},$object_dict:{},$string_dict:{},$str_hash:{},$version:0,$order:0};return r!==a&&(n.__dict__=e.empty_dict()),n},a.__or__=function(e,r){if(!t.isinstance(r,a))return t.NotImplemented;var n=a.copy(e);return a.update(n,r),n},a.__reduce_ex__=function(r,n){return e.fast_tuple([u,e.fast_tuple([r.__class__]),t.None,t.None,a.items(r)])},a.__repr__=function(r){if(e.builtins_repr_check(a,arguments),r.$jsobj)return a.__repr__(g(r.$jsobj,r.$exclude));if(e.repr.enter(r))return"{...}";var n=[],o=s(r);return o.forEach((function(e){try{n.push(t.repr(e[0])+": "+t.repr(e[1]))}catch(e){throw e}})),e.repr.leave(r),"{"+n.join(", ")+"}"},a.__ror__=function(e,r){if(!t.isinstance(r,a))return t.NotImplemented;var n=a.copy(r);return a.update(n,e),n},a.__setitem__=function(t,r,n){var o=e.args("__setitem__",3,{self:null,key:null,value:null},["self","key","value"],arguments,{},null,null);return a.$setitem(o.self,o.key,o.value)},a.$setitem=function(o,i,a,s){if(o.$jsobj)return o.$from_js&&(a=e.pyobj2jsobj(a)),o.$jsobj.__class__===t.type?(o.$jsobj[i]=a,"__init__"!=i&&"__new__"!=i||(o.$jsobj.$factory=e.$instance_creator(o.$jsobj))):o.$jsobj[i]=a,n;switch(i instanceof String&&(i=i.valueOf()),typeof i){case"string":return void 0===o.$string_dict&&console.log("pas de string dict",o,i,a),void 0!==o.$string_dict[i]?o.$string_dict[i][0]=a:(o.$string_dict[i]=[a,o.$order++],o.$str_hash[r(i)]=i,o.$version++),n;case"number":if(void 0!==o.$numeric_dict[i])o.$numeric_dict[i][0]=a;else{var l=!1;if((0==i||1==i)&&void 0!==o.$object_dict[i])for(const e of o.$object_dict[i])(0==i&&!1===e[0]||1==i&&!0===e[0])&&(e[1][0]=a,l=!0);l||(o.$numeric_dict[i]=[a,o.$order++]),o.$version++}return n;case"boolean":var c=i?1:0;if(void 0!==o.$numeric_dict[c]){var u=o.$numeric_dict[c][1];return void(o.$numeric_dict[c]=[a,u])}void 0!==o.$object_dict[c]?o.$object_dict[c].push([i,[a,o.$order++]]):o.$object_dict[c]=[[i,[a,o.$order++]]]}var f=void 0===s?t.hash(i):s,p=function(t){return e.rich_comp("__eq__",i,t)};if(void 0!==o.$numeric_dict[f]&&p(f))return o.$numeric_dict[f]=[a,o.$numeric_dict[f][1]],o.$version++,n;var d=o.$str_hash[f];if(void 0!==d&&p(d))return o.$string_dict[d]=[a,o.$string_dict[d][1]],o.$version++,n;if(s)return void 0!==o.$object_dict[s]?o.$object_dict[s].push([i,[a,o.$order++]]):o.$object_dict[s]=[[i,[a,o.$order++]]],o.$version++,n;var h=_(o,f,i);return h>-1?(o.$object_dict[f][h][1]=[a,o.$object_dict[f][h][1][1]],n):(o.$object_dict.hasOwnProperty(f)?o.$object_dict[f].push([i,[a,o.$order++]]):o.$object_dict[f]=[[i,[a,o.$order++]]],o.$version++,n)},e.make_rmethods(a),a.clear=function(){var t=e.args("clear",1,{self:null},["self"],arguments,{},null,null),r=t.self;if(r.$numeric_dict={},r.$string_dict={},r.$str_hash={},r.$object_dict={},r.$jsobj)for(var o in r.$jsobj)"$"!==o.charAt(0)&&"__class__"!==o&&delete r.$jsobj[o];return r.$version++,r.$order=0,n},a.copy=function(t){var r=e.args("copy",1,{self:null},["self"],arguments,{},null,null),n=(t=r.self,e.empty_dict());return l(n,t),n},a.fromkeys=function(){for(var r=e.args("fromkeys",3,{cls:null,keys:null,value:null},["cls","keys","value"],arguments,{value:t.None},null,null),n=r.keys,o=r.value,i=r.cls,s=e.$call(i)(),l=e.$iter(n);;)try{var _=t.next(l);i===a?a.$setitem(s,_,o):e.$getattr(s,"__setitem__")(_,o)}catch(r){if(e.is_exc(r,[t.StopIteration]))return s;throw r}},a.get=function(){var r=e.args("get",3,{self:null,key:null,_default:null},["self","key","_default"],arguments,{_default:n},null,null);try{return a.$getitem(r.self,r.key,!0)}catch(e){if(t.isinstance(e,t.KeyError))return r._default;throw e}};var f=e.make_view("dict_items",!0);f.$iterator=e.make_iterator_class("dict_itemiterator"),a.items=function(e){if(arguments.length>1){var r=arguments.length-1,n="items() takes no arguments ("+r+" given)";throw t.TypeError.$factory(n)}for(var o=s(e),i=!0,a=0,l=o.length;a<l;a++)try{t.hash(o[a][1])}catch(e){i=!1;break}var _=s(e),c=f.$factory(e,_,i);return c.dict_version=e.$version,c};var p=e.make_view("dict_keys");p.$iterator=e.make_iterator_class("dict_keyiterator"),a.keys=function(e){if(arguments.length>1){var r=arguments.length-1,n="keys() takes no arguments ("+r+" given)";throw t.TypeError.$factory(n)}var o=p.$factory(e,s(e,0),!0);return o.dict_version=e.$version,o},a.pop=function(){var r={},n=e.args("pop",3,{self:null,key:null,_default:null},["self","key","_default"],arguments,{_default:r},null,null),o=n.self,i=n.key,s=n._default;try{var l=a.__getitem__(o,i);return a.__delitem__(o,i),l}catch(e){if(e.__class__===t.KeyError){if(s!==r)return s;throw e}throw e}},a.popitem=function(e){try{var r=t.next(t.iter(a.items(e)));return a.__delitem__(e,r[0]),t.tuple.$factory(r)}catch(e){if(e.__class__==t.StopIteration)throw t.KeyError.$factory("'popitem(): dictionary is empty'")}},a.setdefault=function(){var r=e.args("setdefault",3,{self:null,key:null,_default:null},["self","key","_default"],arguments,{_default:n},null,null),o=r.self,i=r.key,s=r._default;try{return a.$getitem(o,i,!0)}catch(e){if(e.__class__!==t.KeyError)throw e;void 0===s&&(s=n);var l=i.$hash;return i.$hash=void 0,a.$setitem(o,i,s,l),s}},a.update=function(r){var o=e.args("update",1,{self:null},["self"],arguments,{},"args","kw"),i=(r=o.self,o.args),s=o.kw;if(i.length>0){var _=i[0];if(t.isinstance(_,a))_.$jsobj&&(_=g(_.$jsobj)),l(r,_);else if(t.hasattr(_,"keys"))for(var c=t.list.$factory(e.$call(e.$getattr(_,"keys"))()),u=0,f=c.length;u<f;u++){var p=e.$getattr(_,"__getitem__")(c[u]);a.$setitem(r,c[u],p)}else{var d=t.iter(_);for(u=0;;){try{var h=t.next(d)}catch(e){if(e.__class__===t.StopIteration)break;throw e}try{key_value=t.list.$factory(h)}catch(e){throw t.TypeError.$factory("cannot convert dictionary update sequence element #"+u+" to a sequence")}if(2!==key_value.length)throw t.ValueError.$factory("dictionary update sequence element #"+u+" has length "+key_value.length+"; 2 is required");a.$setitem(r,key_value[0],key_value[1]),u++}}}return l(r,s),r.$version++,n};var d=e.make_view("dict_values");d.$iterator=e.make_iterator_class("dict_valueiterator"),a.values=function(e){if(arguments.length>1){var r=arguments.length-1,n="values() takes no arguments ("+r+" given)";throw t.TypeError.$factory(n)}var o=s(e,1),i=d.$factory(e,o,!1);return i.dict_version=e.$version,i},a.$factory=function(){for(var e=a.__new__(a),t=[e],r=0,n=arguments.length;r<n;r++)t.push(arguments[r]);return a.__init__.apply(null,t),e},t.dict=a,e.set_func_names(a,"builtins"),a.__class_getitem__=t.classmethod.$factory(a.__class_getitem__),e.empty_dict=function(){return{__class__:a,$numeric_dict:{},$object_dict:{},$string_dict:{},$str_hash:{},$version:0,$order:0}},a.fromkeys=t.classmethod.$factory(a.fromkeys),e.getset_descriptor=e.make_class("getset_descriptor",(function(r,n){return{__class__:e.getset_descriptor,__doc__:t.None,cls:r,attr:n}})),e.getset_descriptor.__repr__=e.getset_descriptor.__str__=function(e){return`<attribute '${e.attr}' of '${e.cls.$infos.__name__}' objects>`},e.set_func_names(e.getset_descriptor,"builtins");var h=e.mappingproxy=e.make_class("mappingproxy",(function(r){if(t.isinstance(r,a))var n=e.obj_dict(a.$to_obj(r));else n=e.obj_dict(r);return n.__class__=h,n}));for(var m in h.$match_mapping_pattern=!0,h.__repr__=function(){return"<mappingproxy object>"},h.__setitem__=function(){throw t.TypeError.$factory("'mappingproxy' object does not support item assignment")},a)void 0!==h[m]||["__class__","__mro__","__new__","__init__","__delitem__","clear","fromkeys","pop","popitem","setdefault","update"].indexOf(m)>-1||("function"==typeof a[m]?h[m]=function(e){return function(){return a[e].apply(null,arguments)}}(m):h[m]=a[m]);function g(r,n){n=n||function(){return!1};var o=e.empty_dict();for(var i in r)if("$"!=i.charAt(0)&&!n(i))if(null===r[i])o.$string_dict[i]=[t.None,o.$order++];else{if(void 0===r[i])continue;r[i].$jsobj===r?o.$string_dict[i]=[o,o.$order++]:o.$string_dict[i]=[e.$JS2Py(r[i]),o.$order++]}return o}e.set_func_names(h,"builtins"),e.obj_dict=function(t,r){var n=t.__class__||e.get_class(t);if(void 0!==n&&n.$native)throw e.attr_error("__dict__",t);var o=e.empty_dict();return o.$jsobj=t,o.$exclude=r||function(){return!1},o};var $=e.jsobj_as_pydict=e.make_class("jsobj_as_pydict",(function(e,t){return{__class__:$,obj:e,exclude:t||function(){return!1},new_keys:[]}}));$.__contains__=function(e,t){return e.new_keys.indexOf(t)>-1||!(e.exclude(t)||void 0===e.obj[t])},$.__delitem__=function(e,t){$.__getitem__(e,t),delete e.obj[t];var r=e.new_keys.indexOf(t);r>-1&&e.new_keys.splice(r,1)},$.__eq__=function(r,n){if(n.__class__!==$)return t.NotImplemented;var o=e.empty_dict();return other1=e.empty_dict(),a.__init__(o,$.items(r)),a.__init__(other1,$.items(n)),a.__eq__(o,other1)},$.__getitem__=function(e,r){if($.__contains__(e,r))return e.obj[r];throw t.KeyError.$factory(r)},$.__iter__=function(e){return t.iter($.keys(e))},$.__len__=function(e){var t=0;for(var r in e.obj)e.exclude(r)||t++;return t+e.new_keys.length},$.__repr__=function(r){if(e.repr.enter(r))return"{...}";var n=[],o=t.list.$factory($.items(r));for(var i of o)n.push(t.repr(i[0])+": "+t.repr(i[1]));return e.repr.leave(r),"{"+n.join(", ")+"}"},$.__setitem__=function(e,t,r){e.exclude(t)&&-1==e.new_keys.indexOf(t)&&e.new_keys.push(t),e.obj[t]=r},$.get=function(e,r,n){return n=void 0===n?t.None:n,e.exclude(r)||void 0===e.obj[r]?n:e.obj[r]},$.items=function(r){var n=[];for(var o in r.obj)r.exclude(o)&&-1==r.new_keys.indexOf(o)||n.push(e.fast_tuple([o,r.obj[o]]));var i=!0;for(var a of n)try{t.hash(a[1])}catch(e){i=!1;break}var s=f.$factory(r,n,i);return s.dict_version=r.$version,s},$.keys=function(e){var t=[];for(var r in e.obj)e.exclude(r)&&-1==e.new_keys.indexOf(r)||t.push(r);var n=p.$factory(e,t,!0);return n.dict_version=e.$version,n},$.values=function(e){var t=[];for(var r in e.obj)e.exclude(r)&&-1==e.new_keys.indexOf(r)||t.push(e.obj[r]);var n=d.$factory(e,t,!1);return n.dict_version=e.$version,n},e.set_func_names($,"builtins")}(__BRYTHON__),function(e){var t=e.builtins,r=t.object,n=(e.$getattr,t.isinstance),o=t.None;function i(t,r){if(t.__class__===h)throw e.attr_error(r,t)}var a={__class__:t.type,__mro__:[r],$infos:{__module__:"builtins",__name__:"list"},$is_class:!0,$native:!0,$match_sequence_pattern:!0,__dir__:r.__dir__,__add__:function(r,o){if(e.get_class(r)!==e.get_class(o)){var i=e.class_name(r);if(null===e.$getattr(o,"__radd__",null))throw t.TypeError.$factory("can only concatenate "+i+' (not "'+e.class_name(o)+'") to '+i);return t.NotImplemented}var a=r.slice(),s="js"==o.$brython_class;for(const t of o)a.push(s?e.$JS2Py(t):t);return a.__brython__=!0,n(r,h)&&(a=h.$factory(a)),a},__class_getitem__:function(t,r){return Array.isArray(r)||(r=[r]),e.GenericAlias.$factory(t,r)},__contains__:function(t,r){for(var n=e.args("__contains__",2,{self:null,item:null},["self","item"],arguments,{},null,null),o=(t=n.self,r=n.item,function(t){return e.rich_comp("__eq__",r,t)}),i=0;i<t.length;){if(o(t[i]))return!0;i++}return!1},__delitem__:function(r,i){if(n(i,t.int)){var s=i;if(i<0&&(s=r.length+s),s>=0&&s<r.length)return r.splice(s,1),o;throw t.IndexError.$factory(e.class_name(r)+" index out of range")}if(n(i,t.slice)){var l=i.step;l===o&&(l=1);var _=i.start;_===o&&(_=l>0?0:r.length);var c=i.stop;c===o&&(c=l>0?r.length:0),_<0&&(_=r.length+_),c<0&&(c=r.length+c);var u=[],f=null;if(s=0,l>0){if(c>_)for(f=_;f<c;f+=l)void 0!==r[f]&&(u[s++]=f)}else if(c<_){for(f=_;f>c;f+=l)void 0!==r[f]&&(u[s++]=f);u.reverse()}for(f=u.length;f--;)r.splice(u[f],1);return o}if(t.hasattr(i,"__int__")||t.hasattr(i,"__index__"))return a.__delitem__(r,t.int.$factory(i)),o;throw t.TypeError.$factory(e.class_name(r)+" indices must be integer, not "+e.class_name(i))},__eq__:function(r,o){if(n(r,a))var i=a;else i=h;if(n(o,i)&&o.length==r.length){for(var s=r.length;s--;)if(!e.rich_comp("__eq__",r[s],o[s]))return!1;return!0}return t.NotImplemented},__getitem__:function(t,r){return e.check_no_kw("__getitem__",t,r),e.check_nb_args("__getitem__",2,arguments),a.$getitem(t,r)},$getitem:function(r,o){var i,a=r.__class__||e.get_class(r),s=function(e){return e.__class__=a,e};try{i=e.PyNumber_Index(o)}catch(e){}if(void 0!==i){var l=r.valueOf(),_=i;if(i<0&&(_=l.length+_),_>=0&&_<l.length)return l[_];throw t.IndexError.$factory(e.class_name(r)+" index out of range")}if(o.__class__===t.slice||n(o,t.slice)){if(o.start===t.None&&o.stop===t.None&&o.step===t.None)return r.slice();var c=t.slice.$conv_for_seq(o,r.length),u=[],f=null,p=(l=r.valueOf(),_=0,c.start),d=c.stop,h=c.step;if(h>0){if(d<=p)return s(u);for(f=p;f<d;f+=h)u[_++]=l[f];return s(u)}if(d>p)return s(u);for(f=p;f>d;f+=h)u[_++]=l[f];return s(u)}throw t.TypeError.$factory(e.class_name(r)+" indices must be integer, not "+e.class_name(o))},__ge__:function(r,o){if(!n(o,[a,t.tuple]))return t.NotImplemented;for(var i=0;i<r.length;){if(i>=o.length)return!0;if(!e.rich_comp("__eq__",r[i],o[i])){if(res=e.$getattr(r[i],"__ge__")(o[i]),res===t.NotImplemented)throw t.TypeError.$factory("unorderable types: "+e.class_name(r[i])+"() >= "+e.class_name(o[i])+"()");return res}i++}return o.length==r.length},__gt__:function(r,o){if(!n(o,[a,t.tuple]))return t.NotImplemented;for(var i=0;i<r.length;){if(i>=o.length)return!0;if(!e.rich_comp("__eq__",r[i],o[i])){if(res=e.$getattr(r[i],"__gt__")(o[i]),res===t.NotImplemented)throw t.TypeError.$factory("unorderable types: "+e.class_name(r[i])+"() > "+e.class_name(o[i])+"()");return res}i++}return!1}};a.__hash__=o,a.__iadd__=function(){for(var t=e.args("__iadd__",2,{self:null,x:null},["self","x"],arguments,{},null,null),r=a.$factory(e.$iter(t.x)),n=0;n<r.length;n++)t.self.push(r[n]);return t.self},a.__imul__=function(){var t=e.args("__imul__",2,{self:null,x:null},["self","x"],arguments,{},null,null),r=e.$GetInt(t.x),n=t.self.length,o=n;if(0==r)return a.clear(t.self),t.self;for(var i=1;i<r;i++)for(j=0;j<n;j++)t.self[o++]=t.self[j];return t.self},a.__init__=function(r,n){var i=e.args("__init__",1,{self:null},["self"],arguments,{},"args",null),a=(r=i.self,i.args);if(a.length>1)throw t.TypeError.$factory("expected at most 1 argument, got "+a.length);n=a[0];var s=e.$call(e.$getattr(r,"__len__")),l=e.$getattr(r,"pop",o);if(l!==o)for(l=e.$call(l);s();)l();if(void 0===n)return o;n=e.$iter(n);for(var _=e.$call(e.$getattr(n,"__next__")),c=s();;)try{var u=_();r[c++]=u}catch(e){if(e.__class__===t.StopIteration)break;throw e}return o};var l=e.make_iterator_class("list_iterator");function _(){var t=e.args("__newobj__",0,{},[],arguments,{},"args",null),r=t.args,n=r.slice(1);return n.__class__=r[0],n}function c(r){if(e.repr.enter(r))return"[...]";for(var n,o=[],i=0;i<r.length;i++)o.push(t.repr(r[i]));return n=t.isinstance(r,h)?1==r.length?"("+o[0]+",)":"("+o.join(", ")+")":"["+o.join(", ")+"]",e.repr.leave(r),n}function u(t){if(0==t.length)return null;for(var r=e.get_class(t[0]),n=t.length;n--;)if(e.get_class(t[n])!==r)return!1;return r}l.__reduce__=l.__reduce_ex__=function(r){return e.fast_tuple([t.iter,e.fast_tuple([a.$factory(r)]),0])},a.__iter__=function(e){return l.$factory(e)},a.__le__=function(e,r){var n=a.__ge__(e,r);return n===t.NotImplemented?n:!n},a.__len__=function(e){return e.length},a.__lt__=function(r,o){if(!n(o,[a,t.tuple]))return t.NotImplemented;for(var i=0;i<r.length;){if(i>=o.length)return!1;if(!e.rich_comp("__eq__",r[i],o[i])){if(res=e.$getattr(r[i],"__lt__")(o[i]),res===t.NotImplemented)throw t.TypeError.$factory("unorderable types: "+e.class_name(r[i])+"() >= "+e.class_name(o[i])+"()");return res}i++}return o.length>r.length},a.__mul__=function(r,o){if(n(o,t.int)){o=t.int.numerator(o);for(var i=[],s=r.slice(),l=s.length,_=0;_<o;_++)for(var c=0;c<l;c++)i.push(s[c]);return i.__class__=r.__class__,i}if(t.hasattr(o,"__int__")||t.hasattr(o,"__index__"))return a.__mul__(r,t.int.$factory(o));if(null===e.$getattr(o,"__rmul__",null))throw t.TypeError.$factory(`can't multiply sequence by non-int of type '${e.class_name(o)}'`);return t.NotImplemented},a.__new__=function(r,...n){if(void 0===r)throw t.TypeError.$factory("list.__new__(): not enough arguments");var o=[];return o.__class__=r,o.__brython__=!0,o.__dict__=e.empty_dict(),o},a.__reduce_ex__=function(r){return e.fast_tuple([_,e.fast_tuple([r.__class__]),t.None,t.iter(r)])},a.__repr__=function(t){return e.builtins_repr_check(a,arguments),c(t)},a.__rmul__=function(e,t){return a.__mul__(e,t)},a.__setattr__=function(r,n,i){if(r.__class__===a||r.__class__===h){var s=e.class_name(r);throw a.hasOwnProperty(n)?t.AttributeError.$factory("'"+s+"' object attribute '"+n+"' is read-only"):t.AttributeError.$factory("'"+s+" object has no attribute '"+n+"'")}return t.dict.$setitem(r.__dict__,n,i),o},a.__setitem__=function(){var t=e.args("__setitem__",3,{self:null,key:null,value:null},["self","key","value"],arguments,{},null,null),r=t.self,n=t.key,o=t.value;a.$setitem(r,n,o)},a.$setitem=function(r,i,s){if("number"==typeof i||n(i,t.int)){var l=i;if(i<0&&(l=r.length+l),!(l>=0&&l<r.length))throw t.IndexError.$factory("list index out of range");return r[l]=s,o}if(n(i,t.slice)){var _=t.slice.$conv_for_seq(i,r.length);return null===i.step?e.set_list_slice(r,_.start,_.stop,s):e.set_list_slice_step(r,_.start,_.stop,_.step,s),o}if(t.hasattr(i,"__int__")||t.hasattr(i,"__index__"))return a.__setitem__(r,t.int.$factory(i),s),o;throw t.TypeError.$factory("list indices must be integer, not "+e.class_name(i))},a.append=function(t,r){return e.check_no_kw("append",t,r),e.check_nb_args("append",2,arguments),t.push(r),o},a.clear=function(){for(var t=e.args("clear",1,{self:null},["self"],arguments,{},null,null);t.self.length;)t.self.pop();return o},a.copy=function(){var t=e.args("copy",1,{self:null},["self"],arguments,{},null,null);return t.self.slice()},a.count=function(){for(var t=e.args("count",2,{self:null,x:null},["self","x"],arguments,{},null,null),r=0,n=function(r){return e.rich_comp("__eq__",t.x,r)},o=t.self.length;o--;)n(t.self[o])&&r++;return r},a.extend=function(){for(var t=e.args("extend",2,{self:null,t:null},["self","t"],arguments,{},null,null),r=a.$factory(e.$iter(t.t)),n=0;n<r.length;n++)t.self.push(r[n]);return o},a.index=function(){var r={},n=e.args("index",4,{self:null,x:null,start:null,stop:null},["self","x","start","stop"],arguments,{start:0,stop:r},null,null),o=n.self,i=n.start,a=n.stop,s=function(t){return e.rich_comp("__eq__",n.x,t)};i.__class__===e.long_int&&(i=parseInt(i.value)*(i.pos?1:-1)),i<0&&(i=Math.max(0,i+o.length)),a===r?a=o.length:(a.__class__===e.long_int&&(a=parseInt(a.value)*(a.pos?1:-1)),a<0&&(a=Math.min(o.length,a+o.length)),a=Math.min(a,o.length));for(var l=i;l<a;l++)if(s(o[l]))return l;throw t.ValueError.$factory(t.repr(n.x)+" is not in "+e.class_name(o))},a.insert=function(){var t=e.args("insert",3,{self:null,i:null,item:null},["self","i","item"],arguments,{},null,null);return t.self.splice(t.i,0,t.item),o},a.pop=function(){var r={},n=e.args("pop",2,{self:null,pos:null},["self","pos"],arguments,{pos:r},null,null),o=n.self,a=n.pos;i(o,"pop"),a===r&&(a=o.length-1),(a=e.$GetInt(a))<0&&(a+=o.length);var s=o[a];if(void 0===s)throw t.IndexError.$factory("pop index out of range");return o.splice(a,1),s},a.remove=function(){for(var r=e.args("remove",2,{self:null,x:null},["self","x"],arguments,{},null,null),n=0,i=r.self.length;n<i;n++)if(e.rich_comp("__eq__",r.self[n],r.x))return r.self.splice(n,1),o;throw t.ValueError.$factory(t.str.$factory(r.x)+" is not in list")},a.reverse=function(t){for(var r=e.args("reverse",1,{self:null},["self"],arguments,{},null,null),n=r.self.length-1,i=parseInt(r.self.length/2);i--;){var a=r.self[i];r.self[i]=r.self[n-i],r.self[n-i]=a}return o},a.sort=function(r){var n=e.args("sort",1,{self:null},["self"],arguments,{},null,"kw");i(r,"sort");for(var a=o,s=!1,l=n.kw,_=t.list.$factory(t.dict.keys(l)),c=0;c<_.length;c++)if("key"==_[c])a=l.$string_dict[_[c]][0];else{if("reverse"!=_[c])throw t.TypeError.$factory("'"+_[c]+"' is an invalid keyword argument for this function");s=l.$string_dict[_[c]][0]}if(0!=r.length){a!==o&&(a=e.$call(a)),r.$cl=u(r);var f=null;return f=a===o&&r.$cl===t.str?s?function(t,r){return e.$AlphabeticalCompare(r,t)}:function(t,r){return e.$AlphabeticalCompare(t,r)}:a===o&&r.$cl===t.int?s?function(e,t){return t-e}:function(e,t){return e-t}:a===o?s?function(r,n){if(res=e.$getattr(n,"__lt__")(r),res===t.NotImplemented)throw t.TypeError.$factory("unorderable types: "+e.class_name(r)+"() < "+e.class_name(n)+"()");return res?n==r?0:-1:1}:function(r,n){if(res=e.$getattr(r,"__lt__")(n),res===t.NotImplemented)throw t.TypeError.$factory("unorderable types: "+e.class_name(r)+"() < "+e.class_name(n)+"()");return res?r==n?0:-1:1}:s?function(r,n){var o=a(n),i=a(r);if(res=e.$getattr(o,"__lt__")(i),res===t.NotImplemented)throw t.TypeError.$factory("unorderable types: "+e.class_name(r)+"() < "+e.class_name(n)+"()");return res?o==i?0:-1:1}:function(r,n){var o=a(r),i=a(n);if(res=e.$getattr(o,"__lt__")(i),res===t.NotImplemented)throw t.TypeError.$factory("unorderable types: "+e.class_name(r)+"() < "+e.class_name(n)+"()");return res?o==i?0:-1:1},e.$TimSort(r,f),r.__brython__?o:r}},e.$list=function(e){return e.__brython__=!0,e.__class__=t.list,e},a.$factory=function(){if(0==arguments.length)return[];var r=e.args("list",1,{obj:null},["obj"],arguments,{},null,null),o=r.obj;if(Array.isArray(o))return(o=o.slice()).__brython__=!0,o.__class__==h?((i=o.slice()).__class__=a,i):o;for(var i=[],s=0,l=e.$iter(o),_=e.$call(e.$getattr(l,"__next__"));;)try{i[s++]=_()}catch(e){if(!n(e,t.StopIteration))throw e;break}return i.__brython__=!0,i},e.set_func_names(a,"builtins"),a.__class_getitem__=t.classmethod.$factory(a.__class_getitem__);var f=e.JSArray=e.make_class("JSArray",(function(e){return{__class__:f,js:e}}));function p(e){for(var t=[e[0].js],r=1,n=e.length;r<n;r++)t.push(e[r]);return t}for(var d in f.__repr__=f.__str__=function(){return"<JSArray object>"},a)void 0===e.JSArray[d]&&"function"==typeof a[d]&&(e.JSArray[d]=function(t){return function(){return e.$JS2Py(a[t].apply(null,p(arguments)))}}(d));e.set_func_names(e.JSArray,"builtins");var h={__class__:t.type,__mro__:[r],$infos:{__module__:"builtins",__name__:"tuple"},$is_class:!0,$native:!0,$match_sequence_pattern:!0},m=e.make_iterator_class("tuple_iterator");for(var d in h.__iter__=function(e){return m.$factory(e)},h.$factory=function(){var e=a.$factory(...arguments);return e.__class__=h,e},e.fast_tuple=function(t){return t.__class__=h,t.__brython__=!0,t.__dict__=e.empty_dict(),t},a)switch(d){case"__delitem__":case"__iadd__":case"__imul__":case"__setitem__":case"append":case"extend":case"insert":case"remove":case"reverse":break;default:void 0===h[d]&&"function"==typeof a[d]&&(h[d]=function(e){return function(){return a[e].apply(null,arguments)}}(d))}h.__eq__=function(e,t){return void 0===t?e===h:a.__eq__(e,t)},h.__hash__=function(e){for(var r,n=54880137,o=0,i=e.length;o<i;o++){var a=t.hash(e[o]);r=n,s=(parseInt(1000003)*r&4294967295).toString(16),n=parseInt(s.substr(0,s.length-1),16)^4294967295&a}return n},h.__init__=function(){return o},h.__new__=function(r,...n){if(void 0===r)throw t.TypeError.$factory("list.__new__(): not enough arguments");var o=[];o.__class__=r,o.__brython__=!0,o.__dict__=e.empty_dict();for(var i=e.$iter(n[0]),a=e.$call(e.$getattr(i,"__next__"));;)try{var s=a();o.push(s)}catch(e){if(e.__class__===t.StopIteration)break;throw e}return o},h.__reduce_ex__=function(r){return e.fast_tuple([_,e.fast_tuple([r.__class__].concat(r.slice())),t.None,t.None])},h.__repr__=function(t){return e.builtins_repr_check(h,arguments),c(t)},e.set_func_names(h,"builtins"),t.list=a,t.tuple=h,t.object.__bases__=h.$factory(),t.type.__bases__=e.fast_tuple([t.object])}(__BRYTHON__),function(e){var t=e.builtins,r={};e.generator_return=function(e){return{__class__:r,value:e}},e.generator=e.make_class("generator",(function(t,r){var n=function(){var n=t.apply(null,arguments);return n.$name=r||"generator",n.$func=t,n.$has_run=!1,{__class__:e.generator,js_gen:n}};return n.$infos=t.$infos,n.$is_genfunc=!0,n.$name=r,n})),e.generator.__iter__=function(e){return e},e.generator.__next__=function(r){return e.generator.send(r,t.None)},e.generator.__str__=function(e){return"<"+e.$name+" object>"},e.generator.close=function(r){try{e.generator.throw(r,t.GeneratorExit.$factory())}catch(r){if(!e.is_exc(r,[t.GeneratorExit,t.StopIteration]))throw t.RuntimeError.$factory("generator ignored GeneratorExit")}},e.generator.send=function(e,n){var o=e.js_gen;if(o.$has_run=!0,o.$finished)throw t.StopIteration.$factory(n);if(!0===o.gi_running)throw t.ValueError.$factory("generator already executing");o.gi_running=!0;try{var i=o.next(n)}catch(e){throw o.$finished=!0,e}if(i.value&&i.value.__class__===r)throw o.$finished=!0,t.StopIteration.$factory(i.value.value);if(o.gi_running=!1,i.done)throw t.StopIteration.$factory(i.value);return i.value},e.generator.throw=function(r,n,o,i){var a=r.js_gen,s=n;if(s.$is_class){if(!t.issubclass(n,t.BaseException))throw t.TypeError.$factory("exception value must be an instance of BaseException");void 0===o?s=e.$call(s)():t.isinstance(o,n)&&(s=o)}else void 0===o?o=s:s=e.$call(s)(o);void 0!==i&&(s.$traceback=i);var l=a.throw(s);if(l.done)throw t.StopIteration.$factory("StopIteration");return l.value},e.set_func_names(e.generator,"builtins"),e.async_generator=e.make_class("async_generator",(function(t){return function(){var r=t.apply(null,arguments),n=Object.create(null);return n.__class__=e.async_generator,n.js_gen=r,n}})),e.async_generator.__aiter__=function(e){return e},e.async_generator.__anext__=function(r){return e.async_generator.asend(r,t.None)},e.async_generator.aclose=function(e){return e.js_gen.$finished=!0,t.None},e.async_generator.asend=async function(e,n){var o=e.js_gen;if(o.$finished)throw t.StopAsyncIteration.$factory(n);if(!0===o.ag_running)throw t.ValueError.$factory("generator already executing");o.ag_running=!0;try{var i=await o.next(n)}catch(e){throw o.$finished=!0,e}if(i.done)throw t.StopAsyncIteration.$factory(n);if(i.value.__class__===r)throw o.$finished=!0,t.StopAsyncIteration.$factory(i.value.value);return o.ag_running=!1,i.value},e.async_generator.athrow=async function(r,n,o,i){var a=r.js_gen,s=n;if(s.$is_class){if(!t.issubclass(n,t.BaseException))throw t.TypeError.$factory("exception value must be an instance of BaseException");void 0===o&&(o=e.$call(s)())}else void 0===o?o=s:s=e.$call(s)(o);void 0!==i&&(s.$traceback=i),await a.throw(o)},e.set_func_names(e.async_generator,"builtins")}(__BRYTHON__),function(e){var t=e.builtins,r=t.object,n=self;function o(e){var t=0,r=0,n=e.width||e.offsetWidth,i=e.height||e.offsetHeight;for(document.scrollingElement.scrollTop;e.offsetParent;)t+=e.offsetLeft,r+=e.offsetTop,e=e.offsetParent;if(t+=e.offsetLeft||0,r+=e.offsetTop||0,e.parentElement){var a=o(e.parentElement);t+=a.left,r+=a.top}return{left:t,top:r,width:n,height:i}}function i(e){if(e.type.startsWith("touch"))return(r={}).x=t.int.$factory(e.touches[0].screenX),r.y=t.int.$factory(e.touches[0].screenY),r.__getattr__=function(e){return this[e]},r.__class__="MouseCoords",r;var r,o=0,i=0;return e||(e=n.event),e.pageX||e.pageY?(o=e.pageX,i=e.pageY):(e.clientX||e.clientY)&&(o=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,i=e.clientY+document.body.scrollTop+document.documentElement.scrollTop),(r={}).x=t.int.$factory(o),r.y=t.int.$factory(i),r.__getattr__=function(e){return this[e]},r.__class__="MouseCoords",r}e.$isNode=function(e){return"object"==typeof Node?e instanceof Node:e&&"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},e.$isNodeList=function(e){try{var t=Object.prototype.toString.call(e),r=new RegExp("^\\[object (HTMLCollection|NodeList)\\]$");return"object"==typeof e&&null!==r.exec(t)&&void 0!==e.length&&(0==e.length||"object"==typeof e[0]&&e[0].nodeType>0)}catch(e){return!1}};var a=["NONE","CAPTURING_PHASE","AT_TARGET","BUBBLING_PHASE","type","target","currentTarget","eventPhase","bubbles","cancelable","timeStamp","stopPropagation","preventDefault","initEvent"],s=["altKey","altLeft","button","cancelBubble","clientX","clientY","contentOverflow","ctrlKey","ctrlLeft","data","dataFld","dataTransfer","fromElement","keyCode","nextPage","offsetX","offsetY","origin","propertyName","reason","recordset","repeat","screenX","screenY","shiftKey","shiftLeft","source","srcElement","srcFilter","srcUrn","toElement","type","url","wheelDelta","x","y"];e.$isEvent=function(e){for(var t=!0,r=0;r<a.length;r++)if(void 0===e[a[r]]){t=!1;break}if(t)return!0;for(r=0;r<s.length;r++)if(void 0===e[s[r]])return!1;return!0};var l={1:"ELEMENT",2:"ATTRIBUTE",3:"TEXT",4:"CDATA_SECTION",5:"ENTITY_REFERENCE",6:"ENTITY",7:"PROCESSING_INSTRUCTION",8:"COMMENT",9:"DOCUMENT",10:"DOCUMENT_TYPE",11:"DOCUMENT_FRAGMENT",12:"NOTATION"},_=e.make_class("Attributes",(function(e){return{__class__:_,elt:e}}));_.__contains__=function(){var t=e.args("__getitem__",2,{self:null,key:null},["self","key"],arguments,{},null,null);return t.self.elt instanceof SVGElement?t.self.elt.hasAttributeNS(null,t.key):"function"==typeof t.self.elt.hasAttribute&&t.self.elt.hasAttribute(t.key)},_.__delitem__=function(){var r=e.args("__getitem__",2,{self:null,key:null},["self","key"],arguments,{},null,null);if(!_.__contains__(r.self,r.key))throw t.KeyError.$factory(r.key);return r.self.elt instanceof SVGElement?(r.self.elt.removeAttributeNS(null,r.key),t.None):"function"==typeof r.self.elt.hasAttribute?(r.self.elt.removeAttribute(r.key),t.None):void 0},_.__getitem__=function(){var r=e.args("__getitem__",2,{self:null,key:null},["self","key"],arguments,{},null,null);if(r.self.elt instanceof SVGElement&&r.self.elt.hasAttributeNS(null,r.key))return r.self.elt.getAttributeNS(null,r.key);if("function"==typeof r.self.elt.hasAttribute&&r.self.elt.hasAttribute(r.key))return r.self.elt.getAttribute(r.key);throw t.KeyError.$factory(r.key)},_.__iter__=function(e){e.$counter=0;for(var t=e.elt.attributes,r=[],n=0;n<t.length;n++)r.push(t[n].name);return e.$items=r,e},_.__next__=function(){var r=e.args("__next__",1,{self:null},["self"],arguments,{},null,null);if(r.self.$counter<r.self.$items.length){var n=r.self.$items[r.self.$counter];return r.self.$counter++,n}throw t.StopIteration.$factory("")},_.__setitem__=function(){var r=e.args("__setitem__",3,{self:null,key:null,value:null},["self","key","value"],arguments,{},null,null);if(r.self.elt instanceof SVGElement&&"function"==typeof r.self.elt.setAttributeNS)return r.self.elt.setAttributeNS(null,r.key,r.value),t.None;if("function"==typeof r.self.elt.setAttribute)return r.self.elt.setAttribute(r.key,r.value),t.None;throw t.TypeError.$factory("Can't set attributes on element")},_.__repr__=_.__str__=function(e){for(var t=e.elt.attributes,r=[],n=0;n<t.length;n++)r.push(t[n].name+': "'+e.elt.getAttributeNS(null,t[n].name)+'"');return"{"+r.join(", ")+"}"},_.get=function(){var r=e.args("get",3,{self:null,key:null,deflt:null},["self","key","deflt"],arguments,{deflt:t.None},null,null);try{return _.__getitem__(r.self,r.key)}catch(e){if(e.__class__===t.KeyError)return r.deflt;throw e}},_.keys=function(){return _.__iter__.apply(null,arguments)},_.items=function(){for(var r=e.args("values",1,{self:null},["self"],arguments,{},null,null),n=r.self.elt.attributes,o=[],i=0;i<n.length;i++)o.push([n[i].name,n[i].value]);return t.list.__iter__(o)},_.values=function(){for(var r=e.args("values",1,{self:null},["self"],arguments,{},null,null),n=r.self.elt.attributes,o=[],i=0;i<n.length;i++)o.push(n[i].value);return t.list.__iter__(o)},e.set_func_names(_,"<dom>");var c=e.DOMEvent={__class__:t.type,__mro__:[r],$infos:{__name__:"DOMEvent"}};function u(e,t){var r=e.createSVGPoint();return r.x=t.x,r.y=t.y,r.matrixTransform(e.getScreenCTM().inverse())}c.__new__=function(e,t){var r=new Event(t);return r.__class__=c,void 0===r.preventDefault&&(r.preventDefault=function(){r.returnValue=!1}),void 0===r.stopPropagation&&(r.stopPropagation=function(){r.cancelBubble=!0}),r},c.__getattribute__=function(r,n){switch(n){case"__repr__":case"__str__":return function(){return"<DOMEvent object>"};case"x":return i(r).x;case"y":return i(r).y;case"data":return null!==r.dataTransfer?p.$factory(r.dataTransfer):e.$JS2Py(r.data);case"target":if(void 0!==r.target)return g.$factory(r.target);case"char":return String.fromCharCode(r.which);case"svgX":if(r.target instanceof SVGSVGElement)return Math.floor(u(r.target,i(r)).x);throw t.AttributeError.$factory("event target is not an SVG element");case"svgY":if(r.target instanceof SVGSVGElement)return Math.floor(u(r.target,i(r)).y);throw t.AttributeError.$factory("event target is not an SVG element")}var o=r[n];if(void 0!==o){if("function"==typeof o){var a=function(){for(var t=[],n=0;n<arguments.length;n++)t.push(e.pyobj2jsobj(arguments[n]));return o.apply(r,arguments)};return a.$infos={__name__:o.name,__qualname__:o.name},a}return e.$JS2Py(o)}throw e.attr_error(n,r)},c.$factory=function(e){return c.__new__(c,e)};var f=e.$DOMEvent=function(e){return e.__class__=c,e.$no_dict=!0,void 0===e.preventDefault&&(e.preventDefault=function(){e.returnValue=!1}),void 0===e.stopPropagation&&(e.stopPropagation=function(){e.cancelBubble=!0}),e};e.set_func_names(c,"browser");var p={__class__:t.type,$infos:{__module__:"browser",__name__:"Clipboard"},__getitem__:function(e,t){return e.data.getData(t)}};p.__mro__=[r],p.__setitem__=function(e,t,r){e.data.setData(t,r)},p.$factory=function(t){return{__class__:p,__dict__:e.empty_dict(),data:t}},e.set_func_names(p,"<dom>");var d=e.OpenFile={__class__:t.type,__mro__:[r],$infos:{__module__:"<pydom>",__name__:"OpenFile"}};d.$factory=function(e,t,r){var n={__class__:$OpenFileDict,file:e,reader:new FileReader};return"r"===t?n.reader.readAsText(e,r):"rb"===t&&n.reader.readAsBinaryString(e),n},d.__getattr__=function(e,t){return void 0!==e["get_"+t]?e["get_"+t]:e.reader[t]},d.__setattr__=function(e,r,n){var o=e.reader;if("on"==r.substr(0,2))o.addEventListener(r.substr(2),(function(e){return n(f(e))}));else{if("set_"+r in o)return o["set_"+r](n);r in o?o[r]=n:t.setattr(o,r,n)}},e.set_func_names(d,"<dom>");var h={File:function(){},FileReader:function(){}};h.File.__class__=t.type,h.File.__str__=function(){return"<class 'File'>"},h.FileReader.__class__=t.type,h.FileReader.__str__=function(){return"<class 'FileReader'>"};var m={__class__:t.type,__delitem__:function(r,n){if((n=e.PyNumber_Index(n))<0&&(n+=r.parent.options.length),!r.parent.options[n])throw t.KeyError.$factory(n);r.parent.options.remove(n)},__getitem__:function(r,n){if((n=e.PyNumber_Index(n))<0&&(n+=r.parent.options.length),!r.parent.options[n])throw t.KeyError.$factory(n);return g.$factory(r.parent.options[n])},__len__:function(e){return e.parent.options.length},__mro__:[r],__setattr__:function(e,t,r){e.parent.options[t]=r},__setitem__:function(t,r,n){t.parent.options[r]=e.$JS2Py(n)},__str__:function(e){return"<object Options wraps "+e.parent.options+">"},append:function(e,t){e.parent.options.add(t)},insert:function(e,t,r){void 0===t?e.parent.options.add(r):e.parent.options.add(r,t)},item:function(e,t){return e.parent.options.item(t)},namedItem:function(e,t){return e.parent.options.namedItem(t)},remove:function(e,t){e.parent.options.remove(t.index)},$infos:{__module__:"<pydom>",__name__:"Options"},$factory:function(e){return{__class__:m,parent:e}}};e.set_func_names(m,"<dom>");var g={__class__:t.type,__mro__:[r],$infos:{__module__:"browser",__name__:"DOMNode"}};function $(e){for(var t=[],r=0;r<e.length;r++)t.push(g.$factory(e[r]));return t}g.$factory=function(e){return e},g.__add__=function(r,n){var o=y.$factory();if(o.children=[r],pos=1,t.isinstance(n,y))o.children=o.children.concat(n.children);else if(t.isinstance(n,[t.str,t.int,t.float,t.list,t.dict,t.set,t.tuple]))o.children[pos++]=g.$factory(document.createTextNode(t.str.$factory(n)));else if(t.isinstance(n,g))o.children[pos++]=n;else try{o.children=o.children.concat(t.list.$factory(n))}catch(r){throw t.TypeError.$factory("can't add '"+e.class_name(n)+"' object to DOMNode instance")}return o},g.__bool__=function(e){return!0},g.__contains__=function(e,t){if(9==e.nodeType&&"string"==typeof t)return null!==document.getElementById(t);if(void 0!==e.length&&"function"==typeof e.item)for(var r=0,n=e.length;r<n;r++)if(e.item(r)===t)return!0;return!1},g.__del__=function(e){if(!e.parentNode)throw t.ValueError.$factory("can't delete "+t.str.$factory(e));e.parentNode.removeChild(e)},g.__delattr__=function(e,r){if(void 0===e[r])throw t.AttributeError.$factory(`cannot delete DOMNode attribute '${r}'`);return delete e[r],t.None},g.__delitem__=function(e,r){if(9==e.nodeType){var n=e.getElementById(r);if(!n)throw t.KeyError.$factory(r);n.parentNode.removeChild(n)}else e.parentNode.removeChild(e)},g.__dir__=function(e){var t=[];for(var r in e)"$"!=r.charAt(0)&&t.push(r);return t.sort(),t},g.__eq__=function(e,t){return e==t},g.__getattribute__=function(n,i){switch(i){case"attrs":return _.$factory(n);case"children":case"child_nodes":case"class_name":case"html":case"parent":case"text":return g[i](n);case"height":case"left":case"top":case"width":if("CANVAS"==n.tagName&&n[i])return n[i];if(n instanceof SVGElement)return n[i].baseVal.value;var a=window.getComputedStyle(n).getPropertyValue(i);if(void 0!==a){var s=Math.floor(parseFloat(a)+.5);return isNaN(s)?a:s}if(n.style[i])return parseInt(n.style[i]);throw t.AttributeError.$factory("style."+i+" is not set for "+t.str.$factory(n));case"x":case"y":if(!(n instanceof SVGElement)){var l=o(n);return"x"==i?l.left:l.top}case"clear":case"closest":return function(){return g[i].call(null,n,...arguments)};case"headers":if(9==n.nodeType){var c=new XMLHttpRequest;c.open("GET",document.location,!1),c.send(null);var u=c.getAllResponseHeaders();u=u.split("\r\n");for(var f=e.empty_dict(),p=0;p<u.length;p++){var d=u[p];0!=d.strip().length&&(l=d.search(":"),f.__setitem__(d.substr(0,l),d.substr(l+1).lstrip()))}return f}break;case"location":i="location"}if("select"==i&&1==n.nodeType&&["INPUT","TEXTAREA"].indexOf(n.tagName.toUpperCase())>-1)return function(e){return void 0===e?(n.select(),t.None):g.select(n,e)};if("query"==i&&9==n.nodeType){f={__class__:v,_keys:[],_values:{}};var h=location.search.substr(1).split("&");if(""!=location.search)for(p=0;p<h.length;p++){l=h[p].search("=");var $=[h[p].substr(0,l),h[p].substr(l+1)],b=decodeURIComponent($[0]),y=decodeURIComponent($[1]);f._keys.indexOf(b)>-1?f._values[b].push(y):(f._keys.push(b),f._values[b]=[y])}return f}var x=n[i];if(void 0!==x&&n.__class__&&"browser.html"!=n.__class__.__module__&&"browser.svg"!=n.__class__.__module__){var w=n.__class__.__bases__,B=!0;for(var k of w)if("browser.html"==k.__module__){B=!1;break}if(B&&e.$getattr(n.__class__,i,t.None)!==t.None){var C=e.last(e.frames_stack)[1].$line_info.split(",")[0];console.info("Warning: line "+C+", "+n.tagName+" element has instance attribute '"+i+"' set. Attribute of class "+e.class_name(n)+" is ignored.")}}if(void 0===x){if(n.tagName){var S=customElements.get(n.tagName.toLowerCase());if(void 0!==S&&void 0!==S.$cls){var E=n.__class__;n.__class__=S.$cls;try{f=t.object.__getattribute__(n,i);return n.__class__=E,f}catch(r){if(n.__class__=E,!e.is_exc(r,[t.AttributeError]))throw r}}}return r.__getattribute__(n,i)}if(void 0!==(f=x)){if(null===f)return t.None;if("function"==typeof f){var N=function(r,n){return function(){for(var o=[],i=0,a=0;a<arguments.length;a++){var s=arguments[a];if("function"==typeof s){if(s.$cache)var l=s.$cache;else l=function(t){return function(){try{return t.apply(null,arguments)}catch(t){e.handle_error(t)}}}(s),s.$cache=l;o[i++]=l}else t.isinstance(s,g)?o[i++]=s:s===t.None?o[i++]=null:s.__class__==t.dict?o[i++]=t.dict.$to_obj(s):o[i++]=s}var _=r.apply(n,o);return e.$JS2Py(_)}}(f,n);return N.$infos={__name__:i,__qualname__:i},N.$is_func=!0,N}return"options"==i?m.$factory(n):"style"==i?e.JSObj.$factory(n[i]):Array.isArray(f)?f:e.$JS2Py(f)}return r.__getattribute__(n,i)},g.__getitem__=function(e,r){if(9==e.nodeType){if("string"==typeof r.valueOf()){if(o=e.getElementById(r))return g.$factory(o);throw t.KeyError.$factory(r)}try{for(var n=e.getElementsByTagName(r.$infos.__name__),o=[],i=0;i<n.length;i++)o.push(g.$factory(n[i]));return o}catch(e){throw t.KeyError.$factory(t.str.$factory(r))}}else{if(("number"==typeof r||"boolean"==typeof r)&&"function"==typeof e.item){var a=t.int.$factory(r);if(a<0&&(a+=e.length),void 0===(o=g.$factory(e.item(a))))throw t.KeyError.$factory(r);return o}if("string"==typeof r&&e.attributes&&"function"==typeof e.attributes.getNamedItem){var s=e.attributes.getNamedItem(r);if(s)return s.value;throw t.KeyError.$factory(r)}}},g.__hash__=function(t){return void 0===t.__hashvalue__?t.__hashvalue__=e.$py_next_hash--:t.__hashvalue__},g.__iter__=function(t){if(void 0!==t.length&&"function"==typeof t.item)for(var r=[],n=0,o=t.length;n<o;n++)r.push(g.$factory(t.item(n)));else if(void 0!==t.childNodes)for(r=[],n=0,o=t.childNodes.length;n<o;n++)r.push(g.$factory(t.childNodes[n]));return e.$iter(r)},g.__le__=function(r,n){if(9==r.nodeType&&(r=r.body),t.isinstance(n,y))for(var o=0;o<n.children.length;o++)r.appendChild(n.children[o]);else if("string"==typeof n||"number"==typeof n){var i=document.createTextNode(n.toString());r.appendChild(i)}else if(n instanceof Node)r.appendChild(n);else try{t.list.$factory(n).forEach((function(e){g.__le__(r,e)}))}catch(r){throw t.TypeError.$factory("can't add '"+e.class_name(n)+"' object to DOMNode instance")}return r},g.__len__=function(e){return e.length},g.__mul__=function(e,r){if(t.isinstance(r,t.int)&&r.valueOf()>0){for(var n=y.$factory(),o=n.children.length,i=0;i<r.valueOf();i++)n.children[o++]=g.clone(e)();return n}throw t.ValueError.$factory("can't multiply "+e.__class__+"by "+r)},g.__ne__=function(e,t){return!g.__eq__(e,t)},g.__next__=function(e){if(e.$counter++,e.$counter<e.childNodes.length)return g.$factory(e.childNodes[e.$counter]);throw t.StopIteration.$factory("StopIteration")},g.__radd__=function(e,t){var r=y.$factory(),n=g.$factory(document.createTextNode(t));return r.children=[n,e],r},g.__str__=g.__repr__=function(e){var t=e.attributes,r=[];if(void 0!==t){r=[];for(var n=0;n<t.length;n++)r.push(t[n].name+'="'+e.getAttributeNS(null,t[n].name)+'"')}var o=Object.getPrototypeOf(e);if(o){var i=o.constructor.name;if(void 0===i){var a=o.constructor.toString();i=a.substring(8,a.length-1)}return r.splice(0,0,i),"<"+r.join(" ")+">"}return"<DOMNode object type '"+l[e.nodeType]+"' name '"+e.nodeName+"'>"},g.__setattr__=function(r,n,o){if(!("on"==n.substr(0,2)&&n.length>2)){switch(n){case"left":case"top":case"width":case"height":if(t.isinstance(o,t.int)&&1==r.nodeType)return r.style[n]=o+"px",t.None;throw t.ValueError.$factory(n+" value should be an integer, not "+e.class_name(o))}if(void 0!==g["set_"+n])return g["set_"+n](r,o);function i(t){console.log(t);var r=e.last(e.frames_stack);if(e.debug>0){var n=r[1].$line_info.split(",");if(console.log("module",n[1],"line",n[0]),e.$py_src.hasOwnProperty(n[1])){var o=e.$py_src[n[1]];console.log(o.split("\n")[parseInt(n[0])-1])}}else console.log("module",r[2])}for(var a=Object.getPrototypeOf(r),s=0;a&&a!==Object.prototype&&s++<10;){var l=Object.getOwnPropertyDescriptors(a);if(!l||"function"!=typeof l.hasOwnProperty)break;if(l.hasOwnProperty(n)){l[n].writable||void 0!==l[n].set||i("Warning: property '"+n+"' is not writable. Use element.attrs['"+n+"'] instead.");break}a=Object.getPrototypeOf(a)}return r.style&&void 0!==r.style[n]&&i("Warning: '"+n+"' is a property of element.style"),r[n]=o,t.None}e.$bool(o)?g.bind(r,n.substr(2),o):g.unbind(r,n.substr(2))},g.__setitem__=function(e,t,r){"number"==typeof t?e.childNodes[t]=r:"string"==typeof t&&e.attributes&&(e instanceof SVGElement?e.setAttributeNS(null,t,r):"function"==typeof e.setAttribute&&e.setAttribute(t,r))},g.abs_left={__get__:function(e){return o(e).left},__set__:function(){throw t.AttributeError.$factory("'DOMNode' objectattribute 'abs_left' is read-only")}},g.abs_top={__get__:function(e){return o(e).top},__set__:function(){throw t.AttributeError.$factory("'DOMNode' objectattribute 'abs_top' is read-only")}},g.attach=g.__le__,g.bind=function(r,n){var o=e.args("bind",4,{self:null,event:null,func:null,options:null},["self","event","func","options"],arguments,{func:t.None,options:t.None},null,null),i=(r=o.self,n=o.event,o.func),a=o.options;if(i===t.None)return function(e){return g.bind(r,n,e)};var s,l=(s=i,function(t){try{return s(f(t))}catch(t){if(void 0!==t.__class__)e.handle_error(t);else try{e.$getattr(e.stderr,"write")(t)}catch(e){console.log(t)}}});return l.$infos=i.$infos,l.$attrs=i.$attrs||{},l.$func=i,"boolean"==typeof a?r.addEventListener(n,l,a):a.__class__===t.dict?r.addEventListener(n,l,t.dict.$to_obj(a)):a===t.None&&r.addEventListener(n,l,!1),r.$events=r.$events||{},r.$events[n]=r.$events[n]||[],r.$events[n].push([i,l]),r},g.children=function(e){var t=[];for(var r of(9==e.nodeType&&(e=e.body),e.children))t.push(g.$factory(r));return t},g.child_nodes=function(e){var t=[];for(child of(9==e.nodeType&&(e=e.body),e.childNodes))t.push(g.$factory(child));return t},g.clear=function(t){for(e.args("clear",1,{self:null},["self"],arguments,{},null,null),9==t.nodeType&&(t=t.body);t.firstChild;)t.removeChild(t.firstChild)},g.Class=function(e){return void 0!==e.className?e.className:t.None},g.class_name=function(e){return g.Class(e)},g.clone=function(e){var t=g.$factory(e.cloneNode(!0)),r=e.$events||{};for(var n in r)r[n].forEach((function(e){var r=e[0];g.bind(t,n,r)}));return t},g.closest=function(r,n){e.args("closest",2,{self:null,selector:null},["self","selector"],arguments,{},null,null);var o=r.closest(n);if(null===o)throw t.KeyError.$factory("no parent with selector "+n);return g.$factory(o)},g.bindings=function(r){var n=e.empty_dict();for(var o in r.$events)t.dict.$setitem(n,o,r.$events[o].map((e=>e[1])));return n},g.events=function(e,t){e.$events=e.$events||{};var r=e.$events[t]=e.$events[t]||[],n=[];return r.forEach((function(e){n.push(e[1])})),n},g.get=function(r){for(var n=[],o=1;o<arguments.length;o++)n.push(arguments[o]);var i=e.args("get",0,{},[],n,{},null,"kw"),a={},s=t.list.$factory(t.dict.items(i.kw));if(s.forEach((function(e){a[e[0]]=e[1]})),void 0!==a.name){if(void 0===r.getElementsByName)throw t.TypeError.$factory("DOMNode object doesn't support selection by name");return $(r.getElementsByName(a.name))}if(void 0!==a.tag){if(void 0===r.getElementsByTagName)throw t.TypeError.$factory("DOMNode object doesn't support selection by tag name");return $(r.getElementsByTagName(a.tag))}if(void 0!==a.classname){if(void 0===r.getElementsByClassName)throw t.TypeError.$factory("DOMNode object doesn't support selection by class name");return $(r.getElementsByClassName(a.classname))}if(void 0!==a.id){if(void 0===r.getElementById)throw t.TypeError.$factory("DOMNode object doesn't support selection by id");var l=document.getElementById(a.id);return l?[g.$factory(l)]:[]}if(void 0!==a.selector){if(void 0===r.querySelectorAll)throw t.TypeError.$factory("DOMNode object doesn't support selection by selector");return $(r.querySelectorAll(a.selector))}return res},g.getContext=function(r){if(!("getContext"in r))throw t.AttributeError.$factory("object has no attribute 'getContext'");return function(t){return e.JSObj.$factory(r.getContext(t))}},g.getSelectionRange=function(e){if(void 0!==e.getSelectionRange)return e.getSelectionRange.apply(null,arguments)},g.html=function(e){var r=e.innerHTML;return void 0===r&&(r=9==e.nodeType&&e.body?e.body.innerHTML:t.None),r},g.index=function(e,t){var r;r=void 0===t?e.parentElement.childNodes:e.parentElement.querySelectorAll(t);for(var n=-1,o=0;o<r.length;o++)if(r[o]===e){n=o;break}return n},g.inside=function(e,t){for(var r=e;;){if(t===r)return!0;if(!(r=r.parentNode))return!1}},g.options=function(e){return new $OptionsClass(e)},g.parent=function(e){return e.parentElement?g.$factory(e.parentElement):t.None},g.reset=function(e){return function(){e.reset()}},g.scrolled_left={__get__:function(e){return o(e).left-document.scrollingElement.scrollLeft},__set__:function(){throw t.AttributeError.$factory("'DOMNode' objectattribute 'scrolled_left' is read-only")}},g.scrolled_top={__get__:function(e){return o(e).top-document.scrollingElement.scrollTop},__set__:function(){throw t.AttributeError.$factory("'DOMNode' objectattribute 'scrolled_top' is read-only")}},g.select=function(e,r){if(void 0===e.querySelectorAll)throw t.TypeError.$factory("DOMNode object doesn't support selection by selector");return $(e.querySelectorAll(r))},g.select_one=function(e,r){if(void 0===e.querySelector)throw t.TypeError.$factory("DOMNode object doesn't support selection by selector");var n=e.querySelector(r);return null===n?t.None:g.$factory(n)},g.setSelectionRange=function(e){return void 0!==this.setSelectionRange?(t=this,function(){return t.setSelectionRange.apply(t,arguments)}):void 0!==this.createTextRange?function(e){return function(t,r){null==r&&(r=t);var n=e.createTextRange();n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",r),n.select()}}(this):void 0;var t},g.set_class_name=function(e,t){e.setAttribute("class",t)},g.set_html=function(e,r){9==e.nodeType&&(e=e.body),e.innerHTML=t.str.$factory(r)},g.set_style=function(r,n){if("string"==typeof n)r.style=n;else if(!t.isinstance(n,t.dict))throw t.TypeError.$factory("style must be str or dict, not "+e.class_name(n));for(var o=t.list.$factory(t.dict.items(n)),i=0;i<o.length;i++){var a=o[i][0],s=o[i][1];if("float"==a.toLowerCase())r.style.cssFloat=s,r.style.styleFloat=s;else{switch(a){case"top":case"left":case"width":case"height":case"borderWidth":t.isinstance(s,t.int)&&(s+="px")}r.style[a]=s}}},g.set_text=function(e,r){9==e.nodeType&&(e=e.body),e.innerText=t.str.$factory(r),e.textContent=t.str.$factory(r)},g.set_value=function(e,r){e.value=t.str.$factory(r)},g.submit=function(e){return function(){e.submit()}},g.text=function(e){9==e.nodeType&&(e=e.body);var r=e.innerText||e.textContent;return null===r&&(r=t.None),r},g.toString=function(e){return void 0===e?"DOMNode":e.nodeName},g.trigger=function(e,t){if(e.fireEvent)e.fireEvent("on"+t);else{var r=document.createEvent("Events");r.initEvent(t,!0,!1),e.dispatchEvent(r)}},g.unbind=function(r,n){if(r.$events=r.$events||{},r.$events==={})return t.None;if(void 0===n){for(var n in r.$events)g.unbind(r,n);return t.None}if(void 0===r.$events[n]||0==r.$events[n].length)return t.None;var o=r.$events[n];if(2==arguments.length){for(var i=0;i<o.length;i++){var a=o[i][1];r.removeEventListener(n,a,!1)}return r.$events[n]=[],t.None}for(i=2;i<arguments.length;i++){var s=!1;if(void 0===(c=(a=arguments[i]).$func)){for(var l=!1,_=0;_<o.length;_++)if(o[_][0]===a){var c=a;l=!0;break}if(!l)throw t.TypeError.$factory("function is not an event callback")}for(_=0;_<o.length;_++)if(e.$getattr(c,"__eq__")(o[_][0])){a=o[_][1],r.removeEventListener(n,a,!1),o.splice(_,1),s=!0;break}if(!s)throw t.KeyError.$factory("missing callback for event "+n)}},e.set_func_names(g,"browser");var v={__class__:t.type,__mro__:[t.object],$infos:{__name__:"query"},__contains__:function(e,t){return e._keys.indexOf(t)>-1},__getitem__:function(e,r){var n=e._values[r];if(void 0===n)throw t.KeyError.$factory(r);return 1==n.length?n[0]:n}},b=e.make_iterator_class("query string iterator");v.__iter__=function(e){return b.$factory(e._keys)},v.__setitem__=function(e,r,n){return e._values[r]=[n],t.None},v.__str__=v.__repr__=function(e){var t=[];for(var r in e._values)for(const n of e._values[r])t.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return 0==t.length?"":"?"+t.join("&")},v.getfirst=function(e,r,n){var o=e._values[r];return void 0===o?void 0===n?t.None:n:o[0]},v.getlist=function(e,t){var r=e._values[t];return void 0===r?[]:r},v.getvalue=function(e,r,n){try{return v.__getitem__(e,r)}catch(e){return void 0===n?t.None:n}},v.keys=function(e){return e._keys},e.set_func_names(v,"<dom>");var y={__class__:t.type,__mro__:[r],$infos:{__module__:"<pydom>",__name__:"TagSum"},appendChild:function(e,t){e.children.push(t)},__add__:function(r,n){return e.get_class(n)===y?r.children=r.children.concat(n.children):t.isinstance(n,[t.str,t.int,t.float,t.dict,t.set,t.list])?r.children=r.children.concat(g.$factory(document.createTextNode(n))):r.children.push(n),r},__radd__:function(e,t){var r=y.$factory();return r.children=e.children.concat(g.$factory(document.createTextNode(t))),r},__repr__:function(e){for(var t="<object TagSum> ",r=0;r<e.children.length;r++)t+=e.children[r],"[object Text]"==e.children[r].toString()&&(t+=" ["+e.children[r].textContent+"]\n");return t}};y.__str__=y.toString=y.__repr__,y.clone=function(e){for(var t=y.$factory(),r=0;r<e.children.length;r++)t.children.push(e.children[r].cloneNode(!0));return t},y.$factory=function(){return{__class__:y,children:[],toString:function(){return"(TagSum)"}}},e.set_func_names(y,"<dom>"),e.TagSum=y;var x=e.JSObj.$factory(n);x.get_postMessage=function(e,r){if(t.isinstance(e,dict)){var o={__class__:"dict"};t.list.$factory(t.dict.items(e)).forEach((function(e){o[e[0]]=e[1]})),e=o}return n.postMessage(e,r)},e.DOMNode=g,e.win=x}(__BRYTHON__),$B.pattern_match=function(e,t){var r=$B.builtins,n=$B.last($B.frames_stack)[1];function o(e,t){e.alias&&(n[e.alias]=t)}if(t.sequence){if(r.isinstance(e,[r.str,r.bytes,r.bytearray]))return!1;var i,a;$B.imported["collections.abc"]&&(i=$B.imported["collections.abc"].Sequence),$B.imported.collections&&(a=$B.imported.collections.deque);var s=!1,l=e.__class__||$B.get_class(e);for(var _ of[l].concat(l.__bases__||[])){if(_.$match_sequence_pattern){s=!0;break}if(_===i||_==a){s=!0;break}}if(!s&&i&&(s=r.issubclass(l,i)),!s)return!1;if(1==t.sequence.length&&"_"==t.sequence[0].capture_starred)return!0;var c=r.len(e),u=0;for(var f of t.sequence)f.capture_starred||u++;if(c<u)return!1;if(0==c&&0==t.sequence.length)return!0;for(var p=r.iter(e),d=$B.$getattr(p,"__next__"),h=[],m=0,g=0,$=t.sequence.length;g<$;g++)if(t.sequence[g].capture_starred){if("_"==t.sequence[g].capture_starred&&g==$-1)return o(t,e),!0;for(var v=c-m-$+g+1,b=0;b<v;b++)h.push(d());n[t.sequence[g].capture_starred]=h,m+=v}else{var y=d();if(!$B.pattern_match(y,t.sequence[g]))return!1;m++}return m==c&&(o(t,e),!0)}if(t.group){if(1!=t.group.length)return t.sequence=t.group,$B.pattern_match(e,t);if($B.pattern_match(e,t.group[0]))return o(t,e),!0}if(t.or){for(var f of t.or)if($B.pattern_match(e,f))return o(t,e),!0;return!1}if(t.mapping){var x;for(var _ of(s=!1,$B.imported["collections.abc"]&&(x=$B.imported["collections.abc"].Mapping),[l=e.__class__||$B.get_class(e)].concat(l.__bases__||[])))if(_.$match_mapping_pattern||_===x){s=!0;break}if(!s&&x&&(s=r.issubclass(l,x)),!s)return!1;var w=[],B=[];for(var f of t.mapping){var k=f[0],C=f[1];if(k.hasOwnProperty("literal"))var S=k.literal;else k.hasOwnProperty("value")&&(S=k.value);if(r.list.__contains__(B,S))throw r.ValueError.$factory("mapping pattern checks duplicate key ("+r.str.$factory(S)+")");B.push(S);var E=$B.make_class("missing",(function(){return{__class__:E}}));try{if((I=$B.$call($B.$getattr(e,"get"))(S,E))===E)return!1;if(!$B.pattern_match(I,C))return!1;w.push(S)}catch(e){if($B.is_exc(e,[r.KeyError]))return!1;throw e}}if(t.rest){var N=$B.empty_dict();for(p=r.iter(e);;){try{var j=r.next(p)}catch(e){if($B.is_exc(e,[r.StopIteration]))return n[t.rest]=N,!0;throw e}r.list.__contains__(w,j)||r.dict.__setitem__(N,j,$B.$getitem(e,j))}}return!0}if(t.class){if(l=t.class,!r.isinstance(l,r.type))throw r.TypeError.$factory("called match pattern must be a type");if(!r.isinstance(e,l))return!1;if(t.args.length>0){if([r.bool,r.bytearray,r.bytes,r.dict,r.float,r.frozenset,r.int,r.list,r.set,r.str,r.tuple].indexOf(l)>-1){if(t.args.length>1)throw r.TypeError.$factory("for builtin type "+$B.class_name(e)+", a single positional subpattern is accepted");return $B.pattern_match(e,t.args[0])}var T=$B.$getattr(l,"__match_args__",$B.fast_tuple([]));if(!r.isinstance(T,r.tuple))throw r.TypeError.$factory("__match_args__() did not return a tuple");if(t.args.length>T.length)throw r.TypeError.$factory("__match_args__() returns "+T.length+" names but "+t.args.length+" positional arguments were passed");for(g=0,$=t.args.length;g<$;g++){var O=t.args[g],A=T[g];if("string"!=typeof A)throw r.TypeError.$factory("item in __match_args__ is not a string: "+A);if(t.keywords.hasOwnProperty(A))throw r.TypeError.$factory("__match_arg__ item "+A+" was passed as keyword pattern");t.keywords[A]=O}}for(var S in t.keywords){var I;if(null===(I=$B.$getattr(e,S,null)))return!1;if(!$B.pattern_match(I,t.keywords[S]))return!1}return o(t,e),!0}if(t.capture)return"_"!=t.capture&&(n[t.capture]=e),o(t,e),!0;if(t.capture_starred)return n[t.capture_starred]=$B.$list(e),!0;if(t.hasOwnProperty("literal")){var M=t.literal;return M===r.None||M===r.True||M===r.False?$B.$is(e,M):!!$B.rich_comp("__eq__",e,M)&&(o(t,e),!0)}if(t.hasOwnProperty("value")){if($B.rich_comp("__eq__",e,t.value))return o(t,e),!0}else if(e==t)return!0;return!1},function($B){var _b_=$B.builtins,update=$B.update_obj=function(e,t){for(attr in t)e[attr]=t[attr]},_window=self,modules={},browser={$package:!0,$is_package:!0,__initialized__:!0,__package__:"browser",__file__:$B.brython_path.replace(/\/*$/g,"")+"/Lib/browser/__init__.py",bind:function(){var e=$B.args("bind",3,{elt:null,evt:null,options:null},["elt","evt","options"],arguments,{options:_b_.None},null,null),t=e.options;return"boolean"==typeof t||t.__class__===_b_.dict&&(t=t.$string_dict),function(r){if($B.get_class(e.elt)===$B.JSObj)return e.elt.addEventListener(e.evt,(function(e){try{return r($B.JSObj.$factory(e))}catch(e){$B.handle_error(e)}}),t),r;if(_b_.isinstance(e.elt,$B.DOMNode))return $B.DOMNode.bind(e.elt,e.evt,r,t),r;if(_b_.isinstance(e.elt,_b_.str)){for(var n=document.querySelectorAll(e.elt),o=0;o<n.length;o++)$B.DOMNode.bind($B.DOMNode.$factory(n[o]),e.evt,r,t);return r}try{for(var i=$B.$iter(e.elt);;)try{var a=_b_.next(i);$B.DOMNode.bind(a,e.evt,r)}catch(e){if(_b_.isinstance(e,_b_.StopIteration))break;throw e}}catch(t){throw _b_.isinstance(t,_b_.AttributeError)&&$B.DOMNode.bind(e.elt,e.evt,r),t}return r}},console:self.console&&$B.JSObj.$factory(self.console),self:$B.win,win:$B.win,window:$B.win};browser.__path__=browser.__file__,$B.isNode?(delete browser.window,delete browser.win):$B.isWebWorker?(browser.is_webworker=!0,delete browser.window,delete browser.win,browser.self.send=self.postMessage):(browser.is_webworker=!1,update(browser,{alert:function(e){window.alert($B.builtins.str.$factory(e||""))},confirm:$B.JSObj.$factory(window.confirm),document:$B.DOMNode.$factory(document),doc:$B.DOMNode.$factory(document),DOMEvent:$B.DOMEvent,DOMNode:$B.DOMNode,load:function(script_url){var file_obj=$B.builtins.open(script_url),content=$B.$getattr(file_obj,"read")();eval(content)},mouseCoords:function(e){return $B.JSObj.$factory($mouseCoords(e))},prompt:function(e,t){return $B.JSObj.$factory(window.prompt(e,t||""))},reload:function(){var e=document.getElementsByTagName("script"),t=[];for(var r in e.forEach((function(e){void 0!==e.type&&"text/javascript"!=e.type||(t.push(e),e.src&&console.log(e.src))})),console.log(t),$B.imported)$B.imported[r].$last_modified?console.log("check",r,$B.imported[r].__file__,$B.imported[r].$last_modified):console.log("no date for mod",r)},run_script:function(){var e=$B.args("run_script",2,{src:null,name:null},["src","name"],arguments,{name:"script_"+$B.UUID()},null,null);$B.run_script(e.src,e.name,$B.script_path,!0)},URLParameter:function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search);return t=null===t?"":decodeURIComponent(t[1].replace(/\+/g," ")),$B.builtins.str.$factory(t)}}),modules["browser.html"]=function($B){var _b_=$B.builtins,TagSum=$B.TagSum;function makeTagDict(tagName){var dict={__class__:_b_.type,$infos:{__name__:tagName,__module__:"browser.html",__qualname__:tagName},__init__:function(){var $ns=$B.args("pow",1,{self:null},["self"],arguments,{},"args","kw"),self=$ns.self,args=$ns.args;if(1==args.length){var first=args[0];if(_b_.isinstance(first,[_b_.str,_b_.int,_b_.float]))self.innerHTML=_b_.str.$factory(first);else if(first.__class__===TagSum)for(var i=0,len=first.children.length;i<len;i++)self.appendChild(first.children[i]);else if(_b_.isinstance(first,$B.DOMNode))self.appendChild(first);else try{var items=_b_.list.$factory(first);items.forEach((function(e){$B.DOMNode.__le__(self,e)}))}catch(e){throw $B.debug>1&&(console.log(e,e.__class__,e.args),console.log("first",first),console.log(arguments)),e}}for(var items=_b_.list.$factory(_b_.dict.items($ns.kw)),i=0,len=items.length;i<len;i++){var arg=items[i][0],value=items[i][1];if("on"==arg.toLowerCase().substr(0,2)){var js='$B.DOMNode.bind(self,"'+arg.toLowerCase().substr(2);eval(js+'",function(){'+value+"})")}else if("style"==arg.toLowerCase())$B.DOMNode.set_style(self,value);else if(!1!==value)try{arg=$B.imported["browser.html"].attribute_mapper(arg),self.setAttribute(arg,value)}catch(e){throw _b_.ValueError.$factory("can't set attribute "+arg)}}}};return dict.__mro__=[$B.DOMNode,$B.builtins.object],dict.__new__=function(e){var t=document.createElement(tagName);return e!==html[tagName]&&(t.__class__=e),t},$B.set_func_names(dict,"browser.html"),dict}function makeFactory(e){return function(){if("SVG"==e.$infos.__name__)var t=$B.DOMNode.$factory(document.createElementNS("http://www.w3.org/2000/svg","svg"),!0);else t=document.createElement(e.$infos.__name__);var r=$B.$getattr(e,"__init__",null);return null!==r&&r(t,...arguments),t}}var tags=["A","ABBR","ACRONYM","ADDRESS","APPLET","AREA","B","BASE","BASEFONT","BDO","BIG","BLOCKQUOTE","BODY","BR","BUTTON","CAPTION","CENTER","CITE","CODE","COL","COLGROUP","DD","DEL","DFN","DIR","DIV","DL","DT","EM","FIELDSET","FONT","FORM","FRAME","FRAMESET","H1","H2","H3","H4","H5","H6","HEAD","HR","HTML","I","IFRAME","IMG","INPUT","INS","ISINDEX","KBD","LABEL","LEGEND","LI","LINK","MAP","MENU","META","NOFRAMES","NOSCRIPT","OBJECT","OL","OPTGROUP","OPTION","P","PARAM","PRE","Q","S","SAMP","SCRIPT","SELECT","SMALL","SPAN","STRIKE","STRONG","STYLE","SUB","SUP","SVG","TABLE","TBODY","TD","TEXTAREA","TFOOT","TH","THEAD","TITLE","TR","TT","U","UL","VAR","ARTICLE","ASIDE","AUDIO","BDI","CANVAS","COMMAND","DATA","DATALIST","EMBED","FIGCAPTION","FIGURE","FOOTER","HEADER","KEYGEN","MAIN","MARK","MATH","METER","NAV","OUTPUT","PROGRESS","RB","RP","RT","RTC","RUBY","SECTION","SOURCE","TEMPLATE","TIME","TRACK","VIDEO","WBR","DETAILS","DIALOG","MENUITEM","PICTURE","SUMMARY"],html={};function maketag(e){if("string"!=typeof e)throw _b_.TypeError.$factory("html.maketag expects a string as argument");if(void 0!==html[e])throw _b_.ValueError.$factory("cannot reset class for "+e);var t=makeTagDict(e);return t.$factory=makeFactory(t),html[e]=t,t}for(var tagName of(html.tags=$B.jsobj_as_pydict.$factory(html,(function(e){return-1==tags.indexOf(e)})),tags))maketag(tagName);return html.maketag=maketag,html.attribute_mapper=function(e){return e.replace(/_/g,"-")},html}(__BRYTHON__)),modules.browser=browser,$B.UndefinedClass=$B.make_class("Undefined",(function(){return $B.Undefined})),$B.UndefinedClass.__mro__=[_b_.object],$B.UndefinedClass.__bool__=function(e){return!1},$B.UndefinedClass.__repr__=$B.UndefinedClass.__str__=function(e){return"<Javascript undefined>"},$B.Undefined={__class__:$B.UndefinedClass},$B.set_func_names($B.UndefinedClass,"javascript");var super_class=$B.make_class("JavascriptSuper",(function(){var e=_b_.super.$factory().__self_class__,t=Object.getPrototypeOf(e).constructor.$parent;return{__class__:super_class,__init__:function(){var r,n=t.bind(e);for(key in r=t.toString().startsWith("class")?new n(...arguments):n(...arguments))e[key]=r[key];return r},__self_class__:e}}));super_class.__getattribute__=function(e,t){return"__init__"==t||"__call__"==t?e.__init__:$B.$getattr(e.__self_class__,t)},$B.set_func_names(super_class,"javascript"),modules.javascript={this:function(){return void 0===$B.js_this?$B.builtins.None:$B.JSObj.$factory($B.js_this)},Date:self.Date&&$B.JSObj.$factory(self.Date),extends:function(e){return function(t){if(t.$is_class){var r=function(){var e=$B.$getattr(t,"__init__",_b_.None);return e!==_b_.None&&e.bind(this,this).apply(this,arguments),this};for(var n in(r.prototype=Object.create(e.prototype)).constructor=r,r.$parent=e.$js_func,r.$is_class=!0,r.$infos=t.$infos,t)"function"==typeof t[n]&&(r.prototype[n]=function(e){return function(){return t[e].bind(this,this).apply(this,arguments)}}(n));return r}}},JSON:{__class__:$B.make_class("JSON"),parse:function(){return $B.structuredclone2pyobj(JSON.parse.apply(this,arguments))},stringify:function(e,t,r){return JSON.stringify($B.pyobj2structuredclone(e,!1),$B.JSObj.$factory(t),r)}},jsobj2pyobj:function(e){return $B.jsobj2pyobj(e)},load:function(script_url){console.log('"javascript.load" is deprecrated. Use browser.load instead.');var file_obj=$B.builtins.open(script_url),content=$B.$getattr(file_obj,"read")();eval(content)},Math:self.Math&&$B.JSObj.$factory(self.Math),NULL:null,Number:self.Number&&$B.JSObj.$factory(self.Number),py2js:function(e,t){void 0===t&&(t="__main__"+$B.UUID());var r=$B.py2js(e,t,t,$B.builtins_scope).to_js();return $B.format_indent(r,0)},pyobj2jsobj:function(e){return $B.pyobj2jsobj(e)},RegExp:self.RegExp&&$B.JSObj.$factory(self.RegExp),String:self.String&&$B.JSObj.$factory(self.String),super:super_class,UNDEFINED:$B.Undefined,UndefinedType:$B.UndefinedClass};var arraybuffers=["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];arraybuffers.forEach((function(e){void 0!==self[e]&&(modules.javascript[e]=$B.JSObj.$factory(self[e]))}));var _b_=$B.builtins;modules._sys={Getframe:function(){var e=$B.args("_getframe",1,{depth:null},["depth"],arguments,{depth:0},null,null),t=e.depth;return $B._frame.$factory($B.frames_stack,$B.frames_stack.length-t-1)},breakpointhook:function(){var e,t,r,n,o=$B.$options.breakpoint;void 0===o&&(o="pdb.set_trace"),[e,t,r]=_b_.str.rpartition(o,"."),""==t&&(e="builtins");try{$B.$import(e),n=$B.$getattr($B.imported[e],r)}catch(e){return console.warn("cannot import breakpoint",o),_b_.None}return $B.$call(n).apply(null,arguments)},exc_info:function(){for(var e=$B.frames_stack.length-1;e>=0;e--){var t=$B.frames_stack[e][1].$current_exception;if(t)return _b_.tuple.$factory([t.__class__,t,$B.$getattr(t,"__traceback__")])}return _b_.tuple.$factory([_b_.None,_b_.None,_b_.None])},excepthook:function(e,t,r){$B.handle_error(t)},gettrace:function(){return $B.tracefunc||_b_.None},max_string_length:$B.max_string_length,modules:_b_.property.$factory((function(){return $B.obj_dict($B.imported)}),(function(e,t){throw _b_.TypeError.$factory("Read only property 'sys.modules'")})),path:_b_.property.$factory((function(){return $B.path}),(function(e,t){$B.path=t})),meta_path:_b_.property.$factory((function(){return $B.meta_path}),(function(e,t){$B.meta_path=t})),path_hooks:_b_.property.$factory((function(){return $B.path_hooks}),(function(e,t){$B.path_hooks=t})),path_importer_cache:_b_.property.$factory((function(){return _b_.dict.$factory($B.JSObj.$factory($B.path_importer_cache))}),(function(e,t){throw _b_.TypeError.$factory("Read only property 'sys.path_importer_cache'")})),settrace:function(){var e=$B.args("settrace",1,{tracefunc:null},["tracefunc"],arguments,{},null,null);return $B.tracefunc=e.tracefunc,$B.last($B.frames_stack)[1].$f_trace=$B.tracefunc,$B.tracefunc.$current_frame_id=$B.last($B.frames_stack)[0],_b_.None},stderr:_b_.property.$factory((function(){return $B.stderr}),(function(e,t){$B.stderr=t})),stdout:_b_.property.$factory((function(){return $B.stdout}),(function(e,t){$B.stdout=t})),stdin:_b_.property.$factory((function(){return $B.stdin}),(function(e,t){$B.stdin=t})),vfs:_b_.property.$factory((function(){return $B.hasOwnProperty("VFS")?$B.obj_dict($B.VFS):_b_.None}),(function(){throw _b_.TypeError.$factory("Read only property 'sys.vfs'")}))},modules._sys.__breakpointhook__=modules._sys.breakpointhook;var WarningMessage=$B.make_class("WarningMessage",(function(){var e=$B.make_args("WarningMessage",8,{message:null,category:null,filename:null,lineno:null,file:null,line:null,source:null},["message","category","filename","lineno","file","line","source"],arguments,{file:_b_.None,line:_b_.None,source:_b_.None},null,null);return{__class__:WarningMessage,message:e.message,category:e.category,filename:e.filename,lineno:e.lineno,file:e.file,line:e.line,source:e.source,_category_name:_b_.bool.$factory(e.category)?$B.$getattr(e.category,"__name__"):_b_.None}}));function load(e,t){for(var r in t.__class__=$B.module,t.__name__=e,$B.imported[e]=t,t)"function"==typeof t[r]&&(t[r].$infos={__module__:e,__name__:r,__qualname__:e+"."+r})}for(var attr in modules._warnings={_defaultaction:"default",_filters_mutated:function(){},_onceregistry:$B.empty_dict(),filters:[$B.fast_tuple(["default",_b_.None,_b_.DeprecationWarning,"__main__",0]),$B.fast_tuple(["ignore",_b_.None,_b_.DeprecationWarning,_b_.None,0]),$B.fast_tuple(["ignore",_b_.None,_b_.PendingDeprecationWarning,_b_.None,0]),$B.fast_tuple(["ignore",_b_.None,_b_.ImportWarning,_b_.None,0]),$B.fast_tuple(["ignore",_b_.None,_b_.ResourceWarning,_b_.None,0])],warn:function(e){if("error"==($B.imported.warnings?$B.imported.warnings.filters:modules._warnings.filters)[0][0]){var t=_b_.SyntaxError.$factory(e.args[0]);throw t.args[1]=[e.filename,e.lineno,e.offset,e.line],t.filename=e.filename,t.lineno=e.lineno,t.offset=e.offset,t.line=e.line,t}var r=$B.imported._sys.Getframe();if(warning_message={__class__:WarningMessage,message:e,category:e.__class__,filename:e.filename||r.f_code.co_filename,lineno:e.lineno||r.f_lineno,file:_b_.None,line:_b_.None,source:_b_.None,_category_name:e.__class__.__name__},$B.imported.warnings)$B.imported.warnings._showwarnmsg_impl(warning_message);else{var n=$B.class_name(e)+": "+e.args[0];$B.$getattr($B.stderr,"write")(n+"\n");var o=$B.$getattr($B.stderr,"flush",_b_.None);o!==_b_.None&&o()}},warn_explicit:function(){console.log("warn_explicit",arguments)}},modules)load(attr,modules[attr]);$B.isWebWorker||$B.isNode||(modules.browser.html=modules["browser.html"]);var _b_=$B.builtins;for(var attr in _b_.__builtins__=$B.module.$factory("__builtins__","Python builtins"),_b_)_b_.__builtins__[attr]=_b_[attr],$B.builtins_scope.binding[attr]=!0,_b_[attr].$is_class&&(_b_[attr].__bases__?_b_[attr].__bases__.__class__=_b_.tuple:_b_[attr].__bases__=$B.fast_tuple([_b_.object]));for(var name in _b_.__builtins__.__setattr__=function(e,t){_b_[e]=t},$B.method_descriptor.__getattribute__=$B.Function.__getattribute__,$B.wrapper_descriptor.__getattribute__=$B.Function.__getattribute__,_b_)if(_b_[name].__class__===_b_.type)for(var key in $B.builtin_classes.push(_b_[name]),_b_[name]){var value=_b_[name][key];void 0!==value&&(value.__class__||"function"==typeof value&&("__new__"==key?value.__class__=$B.builtin_function:key.startsWith("__")?value.__class__=$B.wrapper_descriptor:value.__class__=$B.method_descriptor,value.__objclass__=_b_[name]))}for(var attr in $B)Array.isArray($B[attr])&&($B[attr].__class__=_b_.list);$B.cell=$B.make_class("cell",(function(e){return{__class__:$B.cell,$cell_contents:e}})),$B.cell.cell_contents=$B.$call(_b_.property)((function(e){if(null===e.$cell_contents)throw _b_.ValueError.$factory("empty cell");return e.$cell_contents}),(function(e,t){e.$cell_contents=t}));var $comps=Object.values($B.$comps).concat(["eq","ne"]);$comps.forEach((function(e){var t="__"+e+"__";$B.cell[t]=function(e){return function(t,r){return _b_.isinstance(r,$B.cell)?null===t.$cell_contents?null===r.$cell_contents?"__eq__"==e:["__ne__","__lt__","__le__"].indexOf(e)>-1:null===r.$cell_contents?["__ne__","__gt__","__ge__"].indexOf(e)>-1:$B.rich_comp(e,t.$cell_contents,r.$cell_contents):_b_.NotImplemented}}(t)})),$B.set_func_names($B.cell,"builtins"),$B.AST={__class__:_b_.type,__getattr__:function(e,t){var r=e.js_node[t];if(void 0===r)throw $B.attr_error(t,e);return $B.AST.$convert(r)},__mro__:[_b_.object],$infos:{__qualname__:"AST",__name__:"AST"},$is_class:!0,$convert:function(e){if(void 0===e)return _b_.None;var t=e.constructor;if(t&&t.$name)return $B.python_ast_classes[t.$name].$factory(e);if(Array.isArray(e))return e.map($B.AST.$convert);if(!e.type)return["string","number"].indexOf(typeof e)>-1?e:e.$name?e.$name+"()":([_b_.None,_b_.True,_b_.False].indexOf(e)>-1||e.__class__||console.log("cannot handle",e),e);switch(e.type){case"int":var r=parseInt(e.value[1],e.value[0]);return r<$B.min_int||r>$B.max_int?$B.long_int.$factory(e.value[1],e.value[0]):r;case"float":return new Number(e.value);case"imaginary":return $B.make_complex(0,$B.AST.$convert(e.value));case"ellipsis":return _b_.Ellipsis}}}}(__BRYTHON__),function(e){e.builtins;var t=e.coroutine=e.make_class("coroutine");t.close=function(e){},t.send=function(e){return e.$func.apply(null,e.$args)},t.__repr__=t.__str__=function(e){return e.$func.$infos?"<coroutine "+e.$func.$infos.__name__+">":"<coroutine object>"},e.set_func_names(t,"builtins"),e.make_async=r=>{if(r.$is_genfunc)return r;var n=function(){var n=arguments,o=e.deep_copy(e.frames_stack);return{__class__:t,$args:n,$func:r,$stack:o}};return n.$infos=r.$infos,n},e.promise=function(e){return e.__class__===t?t.send(e):"function"==typeof e?e():e}}(__BRYTHON__)},4504:(e,t,r)=>{!function(e){"use strict";var t={},r=/[^\s\u00a0]/,n=e.Pos,o=e.cmpPos;function i(e){var t=e.search(r);return-1==t?0:t}function a(e,t){var r=e.getMode();return!1!==r.useInnerComments&&r.innerMode?e.getModeAt(t):r}e.commands.toggleComment=function(e){e.toggleComment()},e.defineExtension("toggleComment",(function(e){e||(e=t);for(var r=this,o=1/0,i=this.listSelections(),a=null,s=i.length-1;s>=0;s--){var l=i[s].from(),_=i[s].to();l.line>=o||(_.line>=o&&(_=n(o,0)),o=l.line,null==a?r.uncomment(l,_,e)?a="un":(r.lineComment(l,_,e),a="line"):"un"==a?r.uncomment(l,_,e):r.lineComment(l,_,e))}})),e.defineExtension("lineComment",(function(e,o,s){s||(s=t);var l=this,_=a(l,e),c=l.getLine(e.line);if(null!=c&&!function(e,t,r){return/\bstring\b/.test(e.getTokenTypeAt(n(t.line,0)))&&!/^[\'\"\`]/.test(r)}(l,e,c)){var u=s.lineComment||_.lineComment;if(u){var f=Math.min(0!=o.ch||o.line==e.line?o.line+1:o.line,l.lastLine()+1),p=null==s.padding?" ":s.padding,d=s.commentBlankLines||e.line==o.line;l.operation((function(){if(s.indent){for(var t=null,o=e.line;o<f;++o){var a=(_=l.getLine(o)).slice(0,i(_));(null==t||t.length>a.length)&&(t=a)}for(o=e.line;o<f;++o){var _=l.getLine(o),c=t.length;(d||r.test(_))&&(_.slice(0,c)!=t&&(c=i(_)),l.replaceRange(t+u+p,n(o,0),n(o,c)))}}else for(o=e.line;o<f;++o)(d||r.test(l.getLine(o)))&&l.replaceRange(u+p,n(o,0))}))}else(s.blockCommentStart||_.blockCommentStart)&&(s.fullLines=!0,l.blockComment(e,o,s))}})),e.defineExtension("blockComment",(function(e,i,s){s||(s=t);var l=this,_=a(l,e),c=s.blockCommentStart||_.blockCommentStart,u=s.blockCommentEnd||_.blockCommentEnd;if(c&&u){if(!/\bcomment\b/.test(l.getTokenTypeAt(n(e.line,0)))){var f=Math.min(i.line,l.lastLine());f!=e.line&&0==i.ch&&r.test(l.getLine(f))&&--f;var p=null==s.padding?" ":s.padding;e.line>f||l.operation((function(){if(0!=s.fullLines){var t=r.test(l.getLine(f));l.replaceRange(p+u,n(f)),l.replaceRange(c+p,n(e.line,0));var a=s.blockCommentLead||_.blockCommentLead;if(null!=a)for(var d=e.line+1;d<=f;++d)(d!=f||t)&&l.replaceRange(a+p,n(d,0))}else{var h=0==o(l.getCursor("to"),i),m=!l.somethingSelected();l.replaceRange(u,i),h&&l.setSelection(m?i:l.getCursor("from"),i),l.replaceRange(c,e)}}))}}else(s.lineComment||_.lineComment)&&0!=s.fullLines&&l.lineComment(e,i,s)})),e.defineExtension("uncomment",(function(e,o,i){i||(i=t);var s,l=this,_=a(l,e),c=Math.min(0!=o.ch||o.line==e.line?o.line:o.line-1,l.lastLine()),u=Math.min(e.line,c),f=i.lineComment||_.lineComment,p=[],d=null==i.padding?" ":i.padding;e:if(f){for(var h=u;h<=c;++h){var m=l.getLine(h),g=m.indexOf(f);if(g>-1&&!/comment/.test(l.getTokenTypeAt(n(h,g+1)))&&(g=-1),-1==g&&r.test(m))break e;if(g>-1&&r.test(m.slice(0,g)))break e;p.push(m)}if(l.operation((function(){for(var e=u;e<=c;++e){var t=p[e-u],r=t.indexOf(f),o=r+f.length;r<0||(t.slice(o,o+d.length)==d&&(o+=d.length),s=!0,l.replaceRange("",n(e,r),n(e,o)))}})),s)return!0}var $=i.blockCommentStart||_.blockCommentStart,v=i.blockCommentEnd||_.blockCommentEnd;if(!$||!v)return!1;var b=i.blockCommentLead||_.blockCommentLead,y=l.getLine(u),x=y.indexOf($);if(-1==x)return!1;var w=c==u?y:l.getLine(c),B=w.indexOf(v,c==u?x+$.length:0),k=n(u,x+1),C=n(c,B+1);if(-1==B||!/comment/.test(l.getTokenTypeAt(k))||!/comment/.test(l.getTokenTypeAt(C))||l.getRange(k,C,"\n").indexOf(v)>-1)return!1;var S=y.lastIndexOf($,e.ch),E=-1==S?-1:y.slice(0,e.ch).indexOf(v,S+$.length);if(-1!=S&&-1!=E&&E+v.length!=e.ch)return!1;E=w.indexOf(v,o.ch);var N=w.slice(o.ch).lastIndexOf($,E-o.ch);return S=-1==E||-1==N?-1:o.ch+N,(-1==E||-1==S||S==o.ch)&&(l.operation((function(){l.replaceRange("",n(c,B-(d&&w.slice(B-d.length,B)==d?d.length:0)),n(c,B+v.length));var e=x+$.length;if(d&&y.slice(e,e+d.length)==d&&(e+=d.length),l.replaceRange("",n(u,x),n(u,e)),b)for(var t=u+1;t<=c;++t){var o=l.getLine(t),i=o.indexOf(b);if(-1!=i&&!r.test(o.slice(0,i))){var a=i+b.length;d&&o.slice(a,a+d.length)==d&&(a+=d.length),l.replaceRange("",n(t,i),n(t,a))}}})),!0)}))}(r(4631))},790:(e,t,r)=>{!function(e){"use strict";function t(e,t){if(!e.hasOwnProperty(t))throw new Error("Undefined state "+t+" in simple mode")}function r(e,t){if(!e)return/(?:)/;var r="";return e instanceof RegExp?(e.ignoreCase&&(r="i"),e.unicode&&(r+="u"),e=e.source):e=String(e),new RegExp((!1===t?"":"^")+"(?:"+e+")",r)}function n(e,n){(e.next||e.push)&&t(n,e.next||e.push),this.regex=r(e.regex),this.token=function(e){if(!e)return null;if(e.apply)return e;if("string"==typeof e)return e.replace(/\./g," ");for(var t=[],r=0;r<e.length;r++)t.push(e[r]&&e[r].replace(/\./g," "));return t}(e.token),this.data=e}function o(e,t){return function(r,n){if(n.pending){var o=n.pending.shift();return 0==n.pending.length&&(n.pending=null),r.pos+=o.text.length,o.token}if(n.local){if(n.local.end&&r.match(n.local.end)){var i=n.local.endToken||null;return n.local=n.localState=null,i}var s;return i=n.local.mode.token(r,n.localState),n.local.endScan&&(s=n.local.endScan.exec(r.current()))&&(r.pos=r.start+s.index),i}for(var l=e[n.state],_=0;_<l.length;_++){var c=l[_],u=(!c.data.sol||r.sol())&&r.match(c.regex);if(u){c.data.next?n.state=c.data.next:c.data.push?((n.stack||(n.stack=[])).push(n.state),n.state=c.data.push):c.data.pop&&n.stack&&n.stack.length&&(n.state=n.stack.pop()),c.data.mode&&a(t,n,c.data.mode,c.token),c.data.indent&&n.indent.push(r.indentation()+t.indentUnit),c.data.dedent&&n.indent.pop();var f=c.token;if(f&&f.apply&&(f=f(u)),u.length>2&&c.token&&"string"!=typeof c.token){for(var p=2;p<u.length;p++)u[p]&&(n.pending||(n.pending=[])).push({text:u[p],token:c.token[p-1]});return r.backUp(u[0].length-(u[1]?u[1].length:0)),f[0]}return f&&f.join?f[0]:f}}return r.next(),null}}function i(e,t){if(e===t)return!0;if(!e||"object"!=typeof e||!t||"object"!=typeof t)return!1;var r=0;for(var n in e)if(e.hasOwnProperty(n)){if(!t.hasOwnProperty(n)||!i(e[n],t[n]))return!1;r++}for(var n in t)t.hasOwnProperty(n)&&r--;return 0==r}function a(t,n,o,a){var s;if(o.persistent)for(var l=n.persistentStates;l&&!s;l=l.next)(o.spec?i(o.spec,l.spec):o.mode==l.mode)&&(s=l);var _=s?s.mode:o.mode||e.getMode(t,o.spec),c=s?s.state:e.startState(_);o.persistent&&!s&&(n.persistentStates={mode:_,spec:o.spec,state:c,next:n.persistentStates}),n.localState=c,n.local={mode:_,end:o.end&&r(o.end),endScan:o.end&&!1!==o.forceEnd&&r(o.end,!1),endToken:a&&a.join?a[a.length-1]:a}}function s(t,r){return function(n,o,i){if(n.local&&n.local.mode.indent)return n.local.mode.indent(n.localState,o,i);if(null==n.indent||n.local||r.dontIndentStates&&function(e,t){for(var r=0;r<t.length;r++)if(t[r]===e)return!0}(n.state,r.dontIndentStates)>-1)return e.Pass;var a=n.indent.length-1,s=t[n.state];e:for(;;){for(var l=0;l<s.length;l++){var _=s[l];if(_.data.dedent&&!1!==_.data.dedentIfLineStart){var c=_.regex.exec(o);if(c&&c[0]){a--,(_.next||_.push)&&(s=t[_.next||_.push]),o=o.slice(c[0].length);continue e}}}break}return a<0?0:n.indent[a]}}e.defineSimpleMode=function(t,r){e.defineMode(t,(function(t){return e.simpleMode(t,r)}))},e.simpleMode=function(r,i){t(i,"start");var a={},l=i.meta||{},_=!1;for(var c in i)if(c!=l&&i.hasOwnProperty(c))for(var u=a[c]=[],f=i[c],p=0;p<f.length;p++){var d=f[p];u.push(new n(d,i)),(d.indent||d.dedent)&&(_=!0)}var h={startState:function(){return{state:"start",pending:null,local:null,localState:null,indent:_?[]:null}},copyState:function(t){var r={state:t.state,pending:t.pending,local:t.local,localState:null,indent:t.indent&&t.indent.slice(0)};t.localState&&(r.localState=e.copyState(t.local.mode,t.localState)),t.stack&&(r.stack=t.stack.slice(0));for(var n=t.persistentStates;n;n=n.next)r.persistentStates={mode:n.mode,spec:n.spec,state:n.state==t.localState?r.localState:e.copyState(n.mode,n.state),next:r.persistentStates};return r},token:o(a,r),innerMode:function(e){return e.local&&{mode:e.local.mode,state:e.localState}},indent:s(a,l)};if(l)for(var m in l)l.hasOwnProperty(m)&&(h[m]=l[m]);return h}}(r(4631))},4631:function(e){e.exports=function(){"use strict";var e=navigator.userAgent,t=navigator.platform,r=/gecko\/\d/i.test(e),n=/MSIE \d/.test(e),o=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(e),i=/Edge\/(\d+)/.exec(e),a=n||o||i,s=a&&(n?document.documentMode||6:+(i||o)[1]),l=!i&&/WebKit\//.test(e),_=l&&/Qt\/\d+\.\d+/.test(e),c=!i&&/Chrome\//.test(e),u=/Opera\//.test(e),f=/Apple Computer/.test(navigator.vendor),p=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(e),d=/PhantomJS/.test(e),h=f&&(/Mobile\/\w+/.test(e)||navigator.maxTouchPoints>2),m=/Android/.test(e),g=h||m||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),$=h||/Mac/.test(t),v=/\bCrOS\b/.test(e),b=/win/i.test(t),y=u&&e.match(/Version\/(\d*\.\d*)/);y&&(y=Number(y[1])),y&&y>=15&&(u=!1,l=!0);var x=$&&(_||u&&(null==y||y<12.11)),w=r||a&&s>=9;function B(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var k,C=function(e,t){var r=e.className,n=B(t).exec(r);if(n){var o=r.slice(n.index+n[0].length);e.className=r.slice(0,n.index)+(o?n[1]+o:"")}};function S(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function E(e,t){return S(e).appendChild(t)}function N(e,t,r,n){var o=document.createElement(e);if(r&&(o.className=r),n&&(o.style.cssText=n),"string"==typeof t)o.appendChild(document.createTextNode(t));else if(t)for(var i=0;i<t.length;++i)o.appendChild(t[i]);return o}function j(e,t,r,n){var o=N(e,t,r,n);return o.setAttribute("role","presentation"),o}function T(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function O(){var e;try{e=document.activeElement}catch(t){e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function A(e,t){var r=e.className;B(t).test(r)||(e.className+=(r?" ":"")+t)}function I(e,t){for(var r=e.split(" "),n=0;n<r.length;n++)r[n]&&!B(r[n]).test(t)&&(t+=" "+r[n]);return t}k=document.createRange?function(e,t,r,n){var o=document.createRange();return o.setEnd(n||e,r),o.setStart(e,t),o}:function(e,t,r){var n=document.body.createTextRange();try{n.moveToElementText(e.parentNode)}catch(e){return n}return n.collapse(!0),n.moveEnd("character",r),n.moveStart("character",t),n};var M=function(e){e.select()};function L(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function F(e,t,r){for(var n in t||(t={}),e)!e.hasOwnProperty(n)||!1===r&&t.hasOwnProperty(n)||(t[n]=e[n]);return t}function P(e,t,r,n,o){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var i=n||0,a=o||0;;){var s=e.indexOf("\t",i);if(s<0||s>=t)return a+(t-i);a+=s-i,a+=r-a%r,i=s+1}}h?M=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:a&&(M=function(e){try{e.select()}catch(e){}});var D=function(){this.id=null,this.f=null,this.time=0,this.handler=L(this.onTimeout,this)};function R(e,t){for(var r=0;r<e.length;++r)if(e[r]==t)return r;return-1}D.prototype.onTimeout=function(e){e.id=0,e.time<=+new Date?e.f():setTimeout(e.handler,e.time-+new Date)},D.prototype.set=function(e,t){this.f=t;var r=+new Date+e;(!this.id||r<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,e),this.time=r)};var W={toString:function(){return"CodeMirror.Pass"}},z={scroll:!1},V={origin:"*mouse"},q={origin:"+move"};function J(e,t,r){for(var n=0,o=0;;){var i=e.indexOf("\t",n);-1==i&&(i=e.length);var a=i-n;if(i==e.length||o+a>=t)return n+Math.min(a,t-o);if(o+=i-n,n=i+1,(o+=r-o%r)>=t)return n}}var U=[""];function H(e){for(;U.length<=e;)U.push(G(U)+" ");return U[e]}function G(e){return e[e.length-1]}function Y(e,t){for(var r=[],n=0;n<e.length;n++)r[n]=t(e[n],n);return r}function K(){}function X(e,t){var r;return Object.create?r=Object.create(e):(K.prototype=e,r=new K),t&&F(t,r),r}var Z=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function Q(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||Z.test(e))}function ee(e,t){return t?!!(t.source.indexOf("\\w")>-1&&Q(e))||t.test(e):Q(e)}function te(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var re=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function ne(e){return e.charCodeAt(0)>=768&&re.test(e)}function oe(e,t,r){for(;(r<0?t>0:t<e.length)&&ne(e.charAt(t));)t+=r;return t}function ie(e,t,r){for(var n=t>r?-1:1;;){if(t==r)return t;var o=(t+r)/2,i=n<0?Math.ceil(o):Math.floor(o);if(i==t)return e(i)?t:r;e(i)?r=i:t=i+n}}var ae=null;function se(e,t,r){var n;ae=null;for(var o=0;o<e.length;++o){var i=e[o];if(i.from<t&&i.to>t)return o;i.to==t&&(i.from!=i.to&&"before"==r?n=o:ae=o),i.from==t&&(i.from!=i.to&&"before"!=r?n=o:ae=o)}return null!=n?n:ae}var le=function(){function e(e){return e<=247?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(e):1424<=e&&e<=1524?"R":1536<=e&&e<=1785?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(e-1536):1774<=e&&e<=2220?"r":8192<=e&&e<=8203?"w":8204==e?"b":"L"}var t=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,r=/[stwN]/,n=/[LRr]/,o=/[Lb1n]/,i=/[1n]/;function a(e,t,r){this.level=e,this.from=t,this.to=r}return function(s,l){var _="ltr"==l?"L":"R";if(0==s.length||"ltr"==l&&!t.test(s))return!1;for(var c=s.length,u=[],f=0;f<c;++f)u.push(e(s.charCodeAt(f)));for(var p=0,d=_;p<c;++p){var h=u[p];"m"==h?u[p]=d:d=h}for(var m=0,g=_;m<c;++m){var $=u[m];"1"==$&&"r"==g?u[m]="n":n.test($)&&(g=$,"r"==$&&(u[m]="R"))}for(var v=1,b=u[0];v<c-1;++v){var y=u[v];"+"==y&&"1"==b&&"1"==u[v+1]?u[v]="1":","!=y||b!=u[v+1]||"1"!=b&&"n"!=b||(u[v]=b),b=y}for(var x=0;x<c;++x){var w=u[x];if(","==w)u[x]="N";else if("%"==w){var B=void 0;for(B=x+1;B<c&&"%"==u[B];++B);for(var k=x&&"!"==u[x-1]||B<c&&"1"==u[B]?"1":"N",C=x;C<B;++C)u[C]=k;x=B-1}}for(var S=0,E=_;S<c;++S){var N=u[S];"L"==E&&"1"==N?u[S]="L":n.test(N)&&(E=N)}for(var j=0;j<c;++j)if(r.test(u[j])){var T=void 0;for(T=j+1;T<c&&r.test(u[T]);++T);for(var O="L"==(j?u[j-1]:_),A=O==("L"==(T<c?u[T]:_))?O?"L":"R":_,I=j;I<T;++I)u[I]=A;j=T-1}for(var M,L=[],F=0;F<c;)if(o.test(u[F])){var P=F;for(++F;F<c&&o.test(u[F]);++F);L.push(new a(0,P,F))}else{var D=F,R=L.length,W="rtl"==l?1:0;for(++F;F<c&&"L"!=u[F];++F);for(var z=D;z<F;)if(i.test(u[z])){D<z&&(L.splice(R,0,new a(1,D,z)),R+=W);var V=z;for(++z;z<F&&i.test(u[z]);++z);L.splice(R,0,new a(2,V,z)),R+=W,D=z}else++z;D<F&&L.splice(R,0,new a(1,D,F))}return"ltr"==l&&(1==L[0].level&&(M=s.match(/^\s+/))&&(L[0].from=M[0].length,L.unshift(new a(0,0,M[0].length))),1==G(L).level&&(M=s.match(/\s+$/))&&(G(L).to-=M[0].length,L.push(new a(0,c-M[0].length,c)))),"rtl"==l?L.reverse():L}}();function _e(e,t){var r=e.order;return null==r&&(r=e.order=le(e.text,t)),r}var ce=[],ue=function(e,t,r){if(e.addEventListener)e.addEventListener(t,r,!1);else if(e.attachEvent)e.attachEvent("on"+t,r);else{var n=e._handlers||(e._handlers={});n[t]=(n[t]||ce).concat(r)}};function fe(e,t){return e._handlers&&e._handlers[t]||ce}function pe(e,t,r){if(e.removeEventListener)e.removeEventListener(t,r,!1);else if(e.detachEvent)e.detachEvent("on"+t,r);else{var n=e._handlers,o=n&&n[t];if(o){var i=R(o,r);i>-1&&(n[t]=o.slice(0,i).concat(o.slice(i+1)))}}}function de(e,t){var r=fe(e,t);if(r.length)for(var n=Array.prototype.slice.call(arguments,2),o=0;o<r.length;++o)r[o].apply(null,n)}function he(e,t,r){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),de(e,r||t.type,e,t),ye(t)||t.codemirrorIgnore}function me(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var r=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),n=0;n<t.length;++n)-1==R(r,t[n])&&r.push(t[n])}function ge(e,t){return fe(e,t).length>0}function $e(e){e.prototype.on=function(e,t){ue(this,e,t)},e.prototype.off=function(e,t){pe(this,e,t)}}function ve(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function be(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function ye(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function xe(e){ve(e),be(e)}function we(e){return e.target||e.srcElement}function Be(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),$&&e.ctrlKey&&1==t&&(t=3),t}var ke,Ce,Se=function(){if(a&&s<9)return!1;var e=N("div");return"draggable"in e||"dragDrop"in e}();function Ee(e){if(null==ke){var t=N("span","​");E(e,N("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(ke=t.offsetWidth<=1&&t.offsetHeight>2&&!(a&&s<8))}var r=ke?N("span","​"):N("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return r.setAttribute("cm-text",""),r}function Ne(e){if(null!=Ce)return Ce;var t=E(e,document.createTextNode("AخA")),r=k(t,0,1).getBoundingClientRect(),n=k(t,1,2).getBoundingClientRect();return S(e),!(!r||r.left==r.right)&&(Ce=n.right-r.right<3)}var je,Te=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,r=[],n=e.length;t<=n;){var o=e.indexOf("\n",t);-1==o&&(o=e.length);var i=e.slice(t,"\r"==e.charAt(o-1)?o-1:o),a=i.indexOf("\r");-1!=a?(r.push(i.slice(0,a)),t+=a+1):(r.push(i),t=o+1)}return r}:function(e){return e.split(/\r\n?|\n/)},Oe=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},Ae="oncopy"in(je=N("div"))||(je.setAttribute("oncopy","return;"),"function"==typeof je.oncopy),Ie=null;var Me={},Le={};function Fe(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),Me[e]=t}function Pe(e){if("string"==typeof e&&Le.hasOwnProperty(e))e=Le[e];else if(e&&"string"==typeof e.name&&Le.hasOwnProperty(e.name)){var t=Le[e.name];"string"==typeof t&&(t={name:t}),(e=X(t,e)).name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return Pe("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return Pe("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function De(e,t){t=Pe(t);var r=Me[t.name];if(!r)return De(e,"text/plain");var n=r(e,t);if(Re.hasOwnProperty(t.name)){var o=Re[t.name];for(var i in o)o.hasOwnProperty(i)&&(n.hasOwnProperty(i)&&(n["_"+i]=n[i]),n[i]=o[i])}if(n.name=t.name,t.helperType&&(n.helperType=t.helperType),t.modeProps)for(var a in t.modeProps)n[a]=t.modeProps[a];return n}var Re={};function We(e,t){F(t,Re.hasOwnProperty(e)?Re[e]:Re[e]={})}function ze(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var r={};for(var n in t){var o=t[n];o instanceof Array&&(o=o.concat([])),r[n]=o}return r}function Ve(e,t){for(var r;e.innerMode&&(r=e.innerMode(t))&&r.mode!=e;)t=r.state,e=r.mode;return r||{mode:e,state:t}}function qe(e,t,r){return!e.startState||e.startState(t,r)}var Je=function(e,t,r){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=r};function Ue(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var r=e;!r.lines;)for(var n=0;;++n){var o=r.children[n],i=o.chunkSize();if(t<i){r=o;break}t-=i}return r.lines[t]}function He(e,t,r){var n=[],o=t.line;return e.iter(t.line,r.line+1,(function(e){var i=e.text;o==r.line&&(i=i.slice(0,r.ch)),o==t.line&&(i=i.slice(t.ch)),n.push(i),++o})),n}function Ge(e,t,r){var n=[];return e.iter(t,r,(function(e){n.push(e.text)})),n}function Ye(e,t){var r=t-e.height;if(r)for(var n=e;n;n=n.parent)n.height+=r}function Ke(e){if(null==e.parent)return null;for(var t=e.parent,r=R(t.lines,e),n=t.parent;n;t=n,n=n.parent)for(var o=0;n.children[o]!=t;++o)r+=n.children[o].chunkSize();return r+t.first}function Xe(e,t){var r=e.first;e:do{for(var n=0;n<e.children.length;++n){var o=e.children[n],i=o.height;if(t<i){e=o;continue e}t-=i,r+=o.chunkSize()}return r}while(!e.lines);for(var a=0;a<e.lines.length;++a){var s=e.lines[a].height;if(t<s)break;t-=s}return r+a}function Ze(e,t){return t>=e.first&&t<e.first+e.size}function Qe(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function et(e,t,r){if(void 0===r&&(r=null),!(this instanceof et))return new et(e,t,r);this.line=e,this.ch=t,this.sticky=r}function tt(e,t){return e.line-t.line||e.ch-t.ch}function rt(e,t){return e.sticky==t.sticky&&0==tt(e,t)}function nt(e){return et(e.line,e.ch)}function ot(e,t){return tt(e,t)<0?t:e}function it(e,t){return tt(e,t)<0?e:t}function at(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function st(e,t){if(t.line<e.first)return et(e.first,0);var r=e.first+e.size-1;return t.line>r?et(r,Ue(e,r).text.length):function(e,t){var r=e.ch;return null==r||r>t?et(e.line,t):r<0?et(e.line,0):e}(t,Ue(e,t.line).text.length)}function lt(e,t){for(var r=[],n=0;n<t.length;n++)r[n]=st(e,t[n]);return r}Je.prototype.eol=function(){return this.pos>=this.string.length},Je.prototype.sol=function(){return this.pos==this.lineStart},Je.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Je.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Je.prototype.eat=function(e){var t=this.string.charAt(this.pos);if("string"==typeof e?t==e:t&&(e.test?e.test(t):e(t)))return++this.pos,t},Je.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},Je.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},Je.prototype.skipToEnd=function(){this.pos=this.string.length},Je.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},Je.prototype.backUp=function(e){this.pos-=e},Je.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=P(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?P(this.string,this.lineStart,this.tabSize):0)},Je.prototype.indentation=function(){return P(this.string,null,this.tabSize)-(this.lineStart?P(this.string,this.lineStart,this.tabSize):0)},Je.prototype.match=function(e,t,r){if("string"!=typeof e){var n=this.string.slice(this.pos).match(e);return n&&n.index>0?null:(n&&!1!==t&&(this.pos+=n[0].length),n)}var o=function(e){return r?e.toLowerCase():e};if(o(this.string.substr(this.pos,e.length))==o(e))return!1!==t&&(this.pos+=e.length),!0},Je.prototype.current=function(){return this.string.slice(this.start,this.pos)},Je.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},Je.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},Je.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var _t=function(e,t){this.state=e,this.lookAhead=t},ct=function(e,t,r,n){this.state=t,this.doc=e,this.line=r,this.maxLookAhead=n||0,this.baseTokens=null,this.baseTokenPos=1};function ut(e,t,r,n){var o=[e.state.modeGen],i={};bt(e,t.text,e.doc.mode,r,(function(e,t){return o.push(e,t)}),i,n);for(var a=r.state,s=function(n){r.baseTokens=o;var s=e.state.overlays[n],l=1,_=0;r.state=!0,bt(e,t.text,s.mode,r,(function(e,t){for(var r=l;_<e;){var n=o[l];n>e&&o.splice(l,1,e,o[l+1],n),l+=2,_=Math.min(e,n)}if(t)if(s.opaque)o.splice(r,l-r,e,"overlay "+t),l=r+2;else for(;r<l;r+=2){var i=o[r+1];o[r+1]=(i?i+" ":"")+"overlay "+t}}),i),r.state=a,r.baseTokens=null,r.baseTokenPos=1},l=0;l<e.state.overlays.length;++l)s(l);return{styles:o,classes:i.bgClass||i.textClass?i:null}}function ft(e,t,r){if(!t.styles||t.styles[0]!=e.state.modeGen){var n=pt(e,Ke(t)),o=t.text.length>e.options.maxHighlightLength&&ze(e.doc.mode,n.state),i=ut(e,t,n);o&&(n.state=o),t.stateAfter=n.save(!o),t.styles=i.styles,i.classes?t.styleClasses=i.classes:t.styleClasses&&(t.styleClasses=null),r===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function pt(e,t,r){var n=e.doc,o=e.display;if(!n.mode.startState)return new ct(n,!0,t);var i=function(e,t,r){for(var n,o,i=e.doc,a=r?-1:t-(e.doc.mode.innerMode?1e3:100),s=t;s>a;--s){if(s<=i.first)return i.first;var l=Ue(i,s-1),_=l.stateAfter;if(_&&(!r||s+(_ instanceof _t?_.lookAhead:0)<=i.modeFrontier))return s;var c=P(l.text,null,e.options.tabSize);(null==o||n>c)&&(o=s-1,n=c)}return o}(e,t,r),a=i>n.first&&Ue(n,i-1).stateAfter,s=a?ct.fromSaved(n,a,i):new ct(n,qe(n.mode),i);return n.iter(i,t,(function(r){dt(e,r.text,s);var n=s.line;r.stateAfter=n==t-1||n%5==0||n>=o.viewFrom&&n<o.viewTo?s.save():null,s.nextLine()})),r&&(n.modeFrontier=s.line),s}function dt(e,t,r,n){var o=e.doc.mode,i=new Je(t,e.options.tabSize,r);for(i.start=i.pos=n||0,""==t&&ht(o,r.state);!i.eol();)mt(o,i,r.state),i.start=i.pos}function ht(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var r=Ve(e,t);return r.mode.blankLine?r.mode.blankLine(r.state):void 0}}function mt(e,t,r,n){for(var o=0;o<10;o++){n&&(n[0]=Ve(e,r).mode);var i=e.token(t,r);if(t.pos>t.start)return i}throw new Error("Mode "+e.name+" failed to advance stream.")}ct.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},ct.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},ct.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},ct.fromSaved=function(e,t,r){return t instanceof _t?new ct(e,ze(e.mode,t.state),r,t.lookAhead):new ct(e,ze(e.mode,t),r)},ct.prototype.save=function(e){var t=!1!==e?ze(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new _t(t,this.maxLookAhead):t};var gt=function(e,t,r){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=r};function $t(e,t,r,n){var o,i,a=e.doc,s=a.mode,l=Ue(a,(t=st(a,t)).line),_=pt(e,t.line,r),c=new Je(l.text,e.options.tabSize,_);for(n&&(i=[]);(n||c.pos<t.ch)&&!c.eol();)c.start=c.pos,o=mt(s,c,_.state),n&&i.push(new gt(c,o,ze(a.mode,_.state)));return n?i:new gt(c,o,_.state)}function vt(e,t){if(e)for(;;){var r=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!r)break;e=e.slice(0,r.index)+e.slice(r.index+r[0].length);var n=r[1]?"bgClass":"textClass";null==t[n]?t[n]=r[2]:new RegExp("(?:^|\\s)"+r[2]+"(?:$|\\s)").test(t[n])||(t[n]+=" "+r[2])}return e}function bt(e,t,r,n,o,i,a){var s=r.flattenSpans;null==s&&(s=e.options.flattenSpans);var l,_=0,c=null,u=new Je(t,e.options.tabSize,n),f=e.options.addModeClass&&[null];for(""==t&&vt(ht(r,n.state),i);!u.eol();){if(u.pos>e.options.maxHighlightLength?(s=!1,a&&dt(e,t,n,u.pos),u.pos=t.length,l=null):l=vt(mt(r,u,n.state,f),i),f){var p=f[0].name;p&&(l="m-"+(l?p+" "+l:p))}if(!s||c!=l){for(;_<u.start;)o(_=Math.min(u.start,_+5e3),c);c=l}u.start=u.pos}for(;_<u.pos;){var d=Math.min(u.pos,_+5e3);o(d,c),_=d}}var yt=!1,xt=!1;function wt(e,t,r){this.marker=e,this.from=t,this.to=r}function Bt(e,t){if(e)for(var r=0;r<e.length;++r){var n=e[r];if(n.marker==t)return n}}function kt(e,t){for(var r,n=0;n<e.length;++n)e[n]!=t&&(r||(r=[])).push(e[n]);return r}function Ct(e,t){if(t.full)return null;var r=Ze(e,t.from.line)&&Ue(e,t.from.line).markedSpans,n=Ze(e,t.to.line)&&Ue(e,t.to.line).markedSpans;if(!r&&!n)return null;var o=t.from.ch,i=t.to.ch,a=0==tt(t.from,t.to),s=function(e,t,r){var n;if(e)for(var o=0;o<e.length;++o){var i=e[o],a=i.marker;if(null==i.from||(a.inclusiveLeft?i.from<=t:i.from<t)||i.from==t&&"bookmark"==a.type&&(!r||!i.marker.insertLeft)){var s=null==i.to||(a.inclusiveRight?i.to>=t:i.to>t);(n||(n=[])).push(new wt(a,i.from,s?null:i.to))}}return n}(r,o,a),l=function(e,t,r){var n;if(e)for(var o=0;o<e.length;++o){var i=e[o],a=i.marker;if(null==i.to||(a.inclusiveRight?i.to>=t:i.to>t)||i.from==t&&"bookmark"==a.type&&(!r||i.marker.insertLeft)){var s=null==i.from||(a.inclusiveLeft?i.from<=t:i.from<t);(n||(n=[])).push(new wt(a,s?null:i.from-t,null==i.to?null:i.to-t))}}return n}(n,i,a),_=1==t.text.length,c=G(t.text).length+(_?o:0);if(s)for(var u=0;u<s.length;++u){var f=s[u];if(null==f.to){var p=Bt(l,f.marker);p?_&&(f.to=null==p.to?null:p.to+c):f.to=o}}if(l)for(var d=0;d<l.length;++d){var h=l[d];null!=h.to&&(h.to+=c),null==h.from?Bt(s,h.marker)||(h.from=c,_&&(s||(s=[])).push(h)):(h.from+=c,_&&(s||(s=[])).push(h))}s&&(s=St(s)),l&&l!=s&&(l=St(l));var m=[s];if(!_){var g,$=t.text.length-2;if($>0&&s)for(var v=0;v<s.length;++v)null==s[v].to&&(g||(g=[])).push(new wt(s[v].marker,null,null));for(var b=0;b<$;++b)m.push(g);m.push(l)}return m}function St(e){for(var t=0;t<e.length;++t){var r=e[t];null!=r.from&&r.from==r.to&&!1!==r.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function Et(e){var t=e.markedSpans;if(t){for(var r=0;r<t.length;++r)t[r].marker.detachLine(e);e.markedSpans=null}}function Nt(e,t){if(t){for(var r=0;r<t.length;++r)t[r].marker.attachLine(e);e.markedSpans=t}}function jt(e){return e.inclusiveLeft?-1:0}function Tt(e){return e.inclusiveRight?1:0}function Ot(e,t){var r=e.lines.length-t.lines.length;if(0!=r)return r;var n=e.find(),o=t.find(),i=tt(n.from,o.from)||jt(e)-jt(t);return i?-i:tt(n.to,o.to)||Tt(e)-Tt(t)||t.id-e.id}function At(e,t){var r,n=xt&&e.markedSpans;if(n)for(var o=void 0,i=0;i<n.length;++i)(o=n[i]).marker.collapsed&&null==(t?o.from:o.to)&&(!r||Ot(r,o.marker)<0)&&(r=o.marker);return r}function It(e){return At(e,!0)}function Mt(e){return At(e,!1)}function Lt(e,t){var r,n=xt&&e.markedSpans;if(n)for(var o=0;o<n.length;++o){var i=n[o];i.marker.collapsed&&(null==i.from||i.from<t)&&(null==i.to||i.to>t)&&(!r||Ot(r,i.marker)<0)&&(r=i.marker)}return r}function Ft(e,t,r,n,o){var i=Ue(e,t),a=xt&&i.markedSpans;if(a)for(var s=0;s<a.length;++s){var l=a[s];if(l.marker.collapsed){var _=l.marker.find(0),c=tt(_.from,r)||jt(l.marker)-jt(o),u=tt(_.to,n)||Tt(l.marker)-Tt(o);if(!(c>=0&&u<=0||c<=0&&u>=0)&&(c<=0&&(l.marker.inclusiveRight&&o.inclusiveLeft?tt(_.to,r)>=0:tt(_.to,r)>0)||c>=0&&(l.marker.inclusiveRight&&o.inclusiveLeft?tt(_.from,n)<=0:tt(_.from,n)<0)))return!0}}}function Pt(e){for(var t;t=It(e);)e=t.find(-1,!0).line;return e}function Dt(e,t){var r=Ue(e,t),n=Pt(r);return r==n?t:Ke(n)}function Rt(e,t){if(t>e.lastLine())return t;var r,n=Ue(e,t);if(!Wt(e,n))return t;for(;r=Mt(n);)n=r.find(1,!0).line;return Ke(n)+1}function Wt(e,t){var r=xt&&t.markedSpans;if(r)for(var n=void 0,o=0;o<r.length;++o)if((n=r[o]).marker.collapsed){if(null==n.from)return!0;if(!n.marker.widgetNode&&0==n.from&&n.marker.inclusiveLeft&&zt(e,t,n))return!0}}function zt(e,t,r){if(null==r.to){var n=r.marker.find(1,!0);return zt(e,n.line,Bt(n.line.markedSpans,r.marker))}if(r.marker.inclusiveRight&&r.to==t.text.length)return!0;for(var o=void 0,i=0;i<t.markedSpans.length;++i)if((o=t.markedSpans[i]).marker.collapsed&&!o.marker.widgetNode&&o.from==r.to&&(null==o.to||o.to!=r.from)&&(o.marker.inclusiveLeft||r.marker.inclusiveRight)&&zt(e,t,o))return!0}function Vt(e){for(var t=0,r=(e=Pt(e)).parent,n=0;n<r.lines.length;++n){var o=r.lines[n];if(o==e)break;t+=o.height}for(var i=r.parent;i;i=(r=i).parent)for(var a=0;a<i.children.length;++a){var s=i.children[a];if(s==r)break;t+=s.height}return t}function qt(e){if(0==e.height)return 0;for(var t,r=e.text.length,n=e;t=It(n);){var o=t.find(0,!0);n=o.from.line,r+=o.from.ch-o.to.ch}for(n=e;t=Mt(n);){var i=t.find(0,!0);r-=n.text.length-i.from.ch,r+=(n=i.to.line).text.length-i.to.ch}return r}function Jt(e){var t=e.display,r=e.doc;t.maxLine=Ue(r,r.first),t.maxLineLength=qt(t.maxLine),t.maxLineChanged=!0,r.iter((function(e){var r=qt(e);r>t.maxLineLength&&(t.maxLineLength=r,t.maxLine=e)}))}var Ut=function(e,t,r){this.text=e,Nt(this,t),this.height=r?r(this):1};function Ht(e){e.parent=null,Et(e)}Ut.prototype.lineNo=function(){return Ke(this)},$e(Ut);var Gt={},Yt={};function Kt(e,t){if(!e||/^\s*$/.test(e))return null;var r=t.addModeClass?Yt:Gt;return r[e]||(r[e]=e.replace(/\S+/g,"cm-$&"))}function Xt(e,t){var r=j("span",null,null,l?"padding-right: .1px":null),n={pre:j("pre",[r],"CodeMirror-line"),content:r,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var o=0;o<=(t.rest?t.rest.length:0);o++){var i=o?t.rest[o-1]:t.line,a=void 0;n.pos=0,n.addToken=Qt,Ne(e.display.measure)&&(a=_e(i,e.doc.direction))&&(n.addToken=er(n.addToken,a)),n.map=[],rr(i,n,ft(e,i,t!=e.display.externalMeasured&&Ke(i))),i.styleClasses&&(i.styleClasses.bgClass&&(n.bgClass=I(i.styleClasses.bgClass,n.bgClass||"")),i.styleClasses.textClass&&(n.textClass=I(i.styleClasses.textClass,n.textClass||""))),0==n.map.length&&n.map.push(0,0,n.content.appendChild(Ee(e.display.measure))),0==o?(t.measure.map=n.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(n.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(l){var s=n.content.lastChild;(/\bcm-tab\b/.test(s.className)||s.querySelector&&s.querySelector(".cm-tab"))&&(n.content.className="cm-tab-wrap-hack")}return de(e,"renderLine",e,t.line,n.pre),n.pre.className&&(n.textClass=I(n.pre.className,n.textClass||"")),n}function Zt(e){var t=N("span","•","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function Qt(e,t,r,n,o,i,l){if(t){var _,c=e.splitSpaces?function(e,t){if(e.length>1&&!/  /.test(e))return e;for(var r=t,n="",o=0;o<e.length;o++){var i=e.charAt(o);" "!=i||!r||o!=e.length-1&&32!=e.charCodeAt(o+1)||(i=" "),n+=i,r=" "==i}return n}(t,e.trailingSpace):t,u=e.cm.state.specialChars,f=!1;if(u.test(t)){_=document.createDocumentFragment();for(var p=0;;){u.lastIndex=p;var d=u.exec(t),h=d?d.index-p:t.length-p;if(h){var m=document.createTextNode(c.slice(p,p+h));a&&s<9?_.appendChild(N("span",[m])):_.appendChild(m),e.map.push(e.pos,e.pos+h,m),e.col+=h,e.pos+=h}if(!d)break;p+=h+1;var g=void 0;if("\t"==d[0]){var $=e.cm.options.tabSize,v=$-e.col%$;(g=_.appendChild(N("span",H(v),"cm-tab"))).setAttribute("role","presentation"),g.setAttribute("cm-text","\t"),e.col+=v}else"\r"==d[0]||"\n"==d[0]?((g=_.appendChild(N("span","\r"==d[0]?"␍":"␤","cm-invalidchar"))).setAttribute("cm-text",d[0]),e.col+=1):((g=e.cm.options.specialCharPlaceholder(d[0])).setAttribute("cm-text",d[0]),a&&s<9?_.appendChild(N("span",[g])):_.appendChild(g),e.col+=1);e.map.push(e.pos,e.pos+1,g),e.pos++}}else e.col+=t.length,_=document.createTextNode(c),e.map.push(e.pos,e.pos+t.length,_),a&&s<9&&(f=!0),e.pos+=t.length;if(e.trailingSpace=32==c.charCodeAt(t.length-1),r||n||o||f||i||l){var b=r||"";n&&(b+=n),o&&(b+=o);var y=N("span",[_],b,i);if(l)for(var x in l)l.hasOwnProperty(x)&&"style"!=x&&"class"!=x&&y.setAttribute(x,l[x]);return e.content.appendChild(y)}e.content.appendChild(_)}}function er(e,t){return function(r,n,o,i,a,s,l){o=o?o+" cm-force-border":"cm-force-border";for(var _=r.pos,c=_+n.length;;){for(var u=void 0,f=0;f<t.length&&!((u=t[f]).to>_&&u.from<=_);f++);if(u.to>=c)return e(r,n,o,i,a,s,l);e(r,n.slice(0,u.to-_),o,i,null,s,l),i=null,n=n.slice(u.to-_),_=u.to}}}function tr(e,t,r,n){var o=!n&&r.widgetNode;o&&e.map.push(e.pos,e.pos+t,o),!n&&e.cm.display.input.needsContentAttribute&&(o||(o=e.content.appendChild(document.createElement("span"))),o.setAttribute("cm-marker",r.id)),o&&(e.cm.display.input.setUneditable(o),e.content.appendChild(o)),e.pos+=t,e.trailingSpace=!1}function rr(e,t,r){var n=e.markedSpans,o=e.text,i=0;if(n)for(var a,s,l,_,c,u,f,p=o.length,d=0,h=1,m="",g=0;;){if(g==d){l=_=c=s="",f=null,u=null,g=1/0;for(var $=[],v=void 0,b=0;b<n.length;++b){var y=n[b],x=y.marker;if("bookmark"==x.type&&y.from==d&&x.widgetNode)$.push(x);else if(y.from<=d&&(null==y.to||y.to>d||x.collapsed&&y.to==d&&y.from==d)){if(null!=y.to&&y.to!=d&&g>y.to&&(g=y.to,_=""),x.className&&(l+=" "+x.className),x.css&&(s=(s?s+";":"")+x.css),x.startStyle&&y.from==d&&(c+=" "+x.startStyle),x.endStyle&&y.to==g&&(v||(v=[])).push(x.endStyle,y.to),x.title&&((f||(f={})).title=x.title),x.attributes)for(var w in x.attributes)(f||(f={}))[w]=x.attributes[w];x.collapsed&&(!u||Ot(u.marker,x)<0)&&(u=y)}else y.from>d&&g>y.from&&(g=y.from)}if(v)for(var B=0;B<v.length;B+=2)v[B+1]==g&&(_+=" "+v[B]);if(!u||u.from==d)for(var k=0;k<$.length;++k)tr(t,0,$[k]);if(u&&(u.from||0)==d){if(tr(t,(null==u.to?p+1:u.to)-d,u.marker,null==u.from),null==u.to)return;u.to==d&&(u=!1)}}if(d>=p)break;for(var C=Math.min(p,g);;){if(m){var S=d+m.length;if(!u){var E=S>C?m.slice(0,C-d):m;t.addToken(t,E,a?a+l:l,c,d+E.length==g?_:"",s,f)}if(S>=C){m=m.slice(C-d),d=C;break}d=S,c=""}m=o.slice(i,i=r[h++]),a=Kt(r[h++],t.cm.options)}}else for(var N=1;N<r.length;N+=2)t.addToken(t,o.slice(i,i=r[N]),Kt(r[N+1],t.cm.options))}function nr(e,t,r){this.line=t,this.rest=function(e){for(var t,r;t=Mt(e);)e=t.find(1,!0).line,(r||(r=[])).push(e);return r}(t),this.size=this.rest?Ke(G(this.rest))-r+1:1,this.node=this.text=null,this.hidden=Wt(e,t)}function or(e,t,r){for(var n,o=[],i=t;i<r;i=n){var a=new nr(e.doc,Ue(e.doc,i),i);n=i+a.size,o.push(a)}return o}var ir=null;var ar=null;function sr(e,t){var r=fe(e,t);if(r.length){var n,o=Array.prototype.slice.call(arguments,2);ir?n=ir.delayedCallbacks:ar?n=ar:(n=ar=[],setTimeout(lr,0));for(var i=function(e){n.push((function(){return r[e].apply(null,o)}))},a=0;a<r.length;++a)i(a)}}function lr(){var e=ar;ar=null;for(var t=0;t<e.length;++t)e[t]()}function _r(e,t,r,n){for(var o=0;o<t.changes.length;o++){var i=t.changes[o];"text"==i?fr(e,t):"gutter"==i?dr(e,t,r,n):"class"==i?pr(e,t):"widget"==i&&hr(e,t,n)}t.changes=null}function cr(e){return e.node==e.text&&(e.node=N("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),a&&s<8&&(e.node.style.zIndex=2)),e.node}function ur(e,t){var r=e.display.externalMeasured;return r&&r.line==t.line?(e.display.externalMeasured=null,t.measure=r.measure,r.built):Xt(e,t)}function fr(e,t){var r=t.text.className,n=ur(e,t);t.text==t.node&&(t.node=n.pre),t.text.parentNode.replaceChild(n.pre,t.text),t.text=n.pre,n.bgClass!=t.bgClass||n.textClass!=t.textClass?(t.bgClass=n.bgClass,t.textClass=n.textClass,pr(e,t)):r&&(t.text.className=r)}function pr(e,t){(function(e,t){var r=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(r&&(r+=" CodeMirror-linebackground"),t.background)r?t.background.className=r:(t.background.parentNode.removeChild(t.background),t.background=null);else if(r){var n=cr(t);t.background=n.insertBefore(N("div",null,r),n.firstChild),e.display.input.setUneditable(t.background)}})(e,t),t.line.wrapClass?cr(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var r=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=r||""}function dr(e,t,r,n){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var o=cr(t);t.gutterBackground=N("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px; width: "+n.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),o.insertBefore(t.gutterBackground,t.text)}var i=t.line.gutterMarkers;if(e.options.lineNumbers||i){var a=cr(t),s=t.gutter=N("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px");if(s.setAttribute("aria-hidden","true"),e.display.input.setUneditable(s),a.insertBefore(s,t.text),t.line.gutterClass&&(s.className+=" "+t.line.gutterClass),!e.options.lineNumbers||i&&i["CodeMirror-linenumbers"]||(t.lineNumber=s.appendChild(N("div",Qe(e.options,r),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+n.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),i)for(var l=0;l<e.display.gutterSpecs.length;++l){var _=e.display.gutterSpecs[l].className,c=i.hasOwnProperty(_)&&i[_];c&&s.appendChild(N("div",[c],"CodeMirror-gutter-elt","left: "+n.gutterLeft[_]+"px; width: "+n.gutterWidth[_]+"px"))}}}function hr(e,t,r){t.alignable&&(t.alignable=null);for(var n=B("CodeMirror-linewidget"),o=t.node.firstChild,i=void 0;o;o=i)i=o.nextSibling,n.test(o.className)&&t.node.removeChild(o);gr(e,t,r)}function mr(e,t,r,n){var o=ur(e,t);return t.text=t.node=o.pre,o.bgClass&&(t.bgClass=o.bgClass),o.textClass&&(t.textClass=o.textClass),pr(e,t),dr(e,t,r,n),gr(e,t,n),t.node}function gr(e,t,r){if($r(e,t.line,t,r,!0),t.rest)for(var n=0;n<t.rest.length;n++)$r(e,t.rest[n],t,r,!1)}function $r(e,t,r,n,o){if(t.widgets)for(var i=cr(r),a=0,s=t.widgets;a<s.length;++a){var l=s[a],_=N("div",[l.node],"CodeMirror-linewidget"+(l.className?" "+l.className:""));l.handleMouseEvents||_.setAttribute("cm-ignore-events","true"),vr(l,_,r,n),e.display.input.setUneditable(_),o&&l.above?i.insertBefore(_,r.gutter||r.text):i.appendChild(_),sr(l,"redraw")}}function vr(e,t,r,n){if(e.noHScroll){(r.alignable||(r.alignable=[])).push(t);var o=n.wrapperWidth;t.style.left=n.fixedPos+"px",e.coverGutter||(o-=n.gutterTotalWidth,t.style.paddingLeft=n.gutterTotalWidth+"px"),t.style.width=o+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-n.gutterTotalWidth+"px"))}function br(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!T(document.body,e.node)){var r="position: relative;";e.coverGutter&&(r+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(r+="width: "+t.display.wrapper.clientWidth+"px;"),E(t.display.measure,N("div",[e.node],null,r))}return e.height=e.node.parentNode.offsetHeight}function yr(e,t){for(var r=we(t);r!=e.wrapper;r=r.parentNode)if(!r||1==r.nodeType&&"true"==r.getAttribute("cm-ignore-events")||r.parentNode==e.sizer&&r!=e.mover)return!0}function xr(e){return e.lineSpace.offsetTop}function wr(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Br(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=E(e.measure,N("pre","x","CodeMirror-line-like")),r=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,n={left:parseInt(r.paddingLeft),right:parseInt(r.paddingRight)};return isNaN(n.left)||isNaN(n.right)||(e.cachedPaddingH=n),n}function kr(e){return 50-e.display.nativeBarWidth}function Cr(e){return e.display.scroller.clientWidth-kr(e)-e.display.barWidth}function Sr(e){return e.display.scroller.clientHeight-kr(e)-e.display.barHeight}function Er(e,t,r){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var n=0;n<e.rest.length;n++)if(e.rest[n]==t)return{map:e.measure.maps[n],cache:e.measure.caches[n]};for(var o=0;o<e.rest.length;o++)if(Ke(e.rest[o])>r)return{map:e.measure.maps[o],cache:e.measure.caches[o],before:!0}}function Nr(e,t,r,n){return Or(e,Tr(e,t),r,n)}function jr(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[cn(e,t)];var r=e.display.externalMeasured;return r&&t>=r.lineN&&t<r.lineN+r.size?r:void 0}function Tr(e,t){var r=Ke(t),n=jr(e,r);n&&!n.text?n=null:n&&n.changes&&(_r(e,n,r,on(e)),e.curOp.forceUpdate=!0),n||(n=function(e,t){var r=Ke(t=Pt(t)),n=e.display.externalMeasured=new nr(e.doc,t,r);n.lineN=r;var o=n.built=Xt(e,n);return n.text=o.pre,E(e.display.lineMeasure,o.pre),n}(e,t));var o=Er(n,t,r);return{line:t,view:n,rect:null,map:o.map,cache:o.cache,before:o.before,hasHeights:!1}}function Or(e,t,r,n,o){t.before&&(r=-1);var i,l=r+(n||"");return t.cache.hasOwnProperty(l)?i=t.cache[l]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(function(e,t,r){var n=e.options.lineWrapping,o=n&&Cr(e);if(!t.measure.heights||n&&t.measure.width!=o){var i=t.measure.heights=[];if(n){t.measure.width=o;for(var a=t.text.firstChild.getClientRects(),s=0;s<a.length-1;s++){var l=a[s],_=a[s+1];Math.abs(l.bottom-_.bottom)>2&&i.push((l.bottom+_.top)/2-r.top)}}i.push(r.bottom-r.top)}}(e,t.view,t.rect),t.hasHeights=!0),(i=function(e,t,r,n){var o,i=Mr(t.map,r,n),l=i.node,_=i.start,c=i.end,u=i.collapse;if(3==l.nodeType){for(var f=0;f<4;f++){for(;_&&ne(t.line.text.charAt(i.coverStart+_));)--_;for(;i.coverStart+c<i.coverEnd&&ne(t.line.text.charAt(i.coverStart+c));)++c;if((o=a&&s<9&&0==_&&c==i.coverEnd-i.coverStart?l.parentNode.getBoundingClientRect():Lr(k(l,_,c).getClientRects(),n)).left||o.right||0==_)break;c=_,_-=1,u="right"}a&&s<11&&(o=function(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function(e){if(null!=Ie)return Ie;var t=E(e,N("span","x")),r=t.getBoundingClientRect(),n=k(t,0,1).getBoundingClientRect();return Ie=Math.abs(r.left-n.left)>1}(e))return t;var r=screen.logicalXDPI/screen.deviceXDPI,n=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*r,right:t.right*r,top:t.top*n,bottom:t.bottom*n}}(e.display.measure,o))}else{var p;_>0&&(u=n="right"),o=e.options.lineWrapping&&(p=l.getClientRects()).length>1?p["right"==n?p.length-1:0]:l.getBoundingClientRect()}if(a&&s<9&&!_&&(!o||!o.left&&!o.right)){var d=l.parentNode.getClientRects()[0];o=d?{left:d.left,right:d.left+nn(e.display),top:d.top,bottom:d.bottom}:Ir}for(var h=o.top-t.rect.top,m=o.bottom-t.rect.top,g=(h+m)/2,$=t.view.measure.heights,v=0;v<$.length-1&&!(g<$[v]);v++);var b=v?$[v-1]:0,y=$[v],x={left:("right"==u?o.right:o.left)-t.rect.left,right:("left"==u?o.left:o.right)-t.rect.left,top:b,bottom:y};return o.left||o.right||(x.bogus=!0),e.options.singleCursorHeightPerLine||(x.rtop=h,x.rbottom=m),x}(e,t,r,n)).bogus||(t.cache[l]=i)),{left:i.left,right:i.right,top:o?i.rtop:i.top,bottom:o?i.rbottom:i.bottom}}var Ar,Ir={left:0,right:0,top:0,bottom:0};function Mr(e,t,r){for(var n,o,i,a,s,l,_=0;_<e.length;_+=3)if(s=e[_],l=e[_+1],t<s?(o=0,i=1,a="left"):t<l?i=1+(o=t-s):(_==e.length-3||t==l&&e[_+3]>t)&&(o=(i=l-s)-1,t>=l&&(a="right")),null!=o){if(n=e[_+2],s==l&&r==(n.insertLeft?"left":"right")&&(a=r),"left"==r&&0==o)for(;_&&e[_-2]==e[_-3]&&e[_-1].insertLeft;)n=e[2+(_-=3)],a="left";if("right"==r&&o==l-s)for(;_<e.length-3&&e[_+3]==e[_+4]&&!e[_+5].insertLeft;)n=e[(_+=3)+2],a="right";break}return{node:n,start:o,end:i,collapse:a,coverStart:s,coverEnd:l}}function Lr(e,t){var r=Ir;if("left"==t)for(var n=0;n<e.length&&(r=e[n]).left==r.right;n++);else for(var o=e.length-1;o>=0&&(r=e[o]).left==r.right;o--);return r}function Fr(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function Pr(e){e.display.externalMeasure=null,S(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)Fr(e.display.view[t])}function Dr(e){Pr(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function Rr(){return c&&m?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Wr(){return c&&m?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function zr(e){var t=0;if(e.widgets)for(var r=0;r<e.widgets.length;++r)e.widgets[r].above&&(t+=br(e.widgets[r]));return t}function Vr(e,t,r,n,o){if(!o){var i=zr(t);r.top+=i,r.bottom+=i}if("line"==n)return r;n||(n="local");var a=Vt(t);if("local"==n?a+=xr(e.display):a-=e.display.viewOffset,"page"==n||"window"==n){var s=e.display.lineSpace.getBoundingClientRect();a+=s.top+("window"==n?0:Wr());var l=s.left+("window"==n?0:Rr());r.left+=l,r.right+=l}return r.top+=a,r.bottom+=a,r}function qr(e,t,r){if("div"==r)return t;var n=t.left,o=t.top;if("page"==r)n-=Rr(),o-=Wr();else if("local"==r||!r){var i=e.display.sizer.getBoundingClientRect();n+=i.left,o+=i.top}var a=e.display.lineSpace.getBoundingClientRect();return{left:n-a.left,top:o-a.top}}function Jr(e,t,r,n,o){return n||(n=Ue(e.doc,t.line)),Vr(e,n,Nr(e,n,t.ch,o),r)}function Ur(e,t,r,n,o,i){function a(t,a){var s=Or(e,o,t,a?"right":"left",i);return a?s.left=s.right:s.right=s.left,Vr(e,n,s,r)}n=n||Ue(e.doc,t.line),o||(o=Tr(e,n));var s=_e(n,e.doc.direction),l=t.ch,_=t.sticky;if(l>=n.text.length?(l=n.text.length,_="before"):l<=0&&(l=0,_="after"),!s)return a("before"==_?l-1:l,"before"==_);function c(e,t,r){return a(r?e-1:e,1==s[t].level!=r)}var u=se(s,l,_),f=ae,p=c(l,u,"before"==_);return null!=f&&(p.other=c(l,f,"before"!=_)),p}function Hr(e,t){var r=0;t=st(e.doc,t),e.options.lineWrapping||(r=nn(e.display)*t.ch);var n=Ue(e.doc,t.line),o=Vt(n)+xr(e.display);return{left:r,right:r,top:o,bottom:o+n.height}}function Gr(e,t,r,n,o){var i=et(e,t,r);return i.xRel=o,n&&(i.outside=n),i}function Yr(e,t,r){var n=e.doc;if((r+=e.display.viewOffset)<0)return Gr(n.first,0,null,-1,-1);var o=Xe(n,r),i=n.first+n.size-1;if(o>i)return Gr(n.first+n.size-1,Ue(n,i).text.length,null,1,1);t<0&&(t=0);for(var a=Ue(n,o);;){var s=Qr(e,a,o,t,r),l=Lt(a,s.ch+(s.xRel>0||s.outside>0?1:0));if(!l)return s;var _=l.find(1);if(_.line==o)return _;a=Ue(n,o=_.line)}}function Kr(e,t,r,n){n-=zr(t);var o=t.text.length,i=ie((function(t){return Or(e,r,t-1).bottom<=n}),o,0);return{begin:i,end:o=ie((function(t){return Or(e,r,t).top>n}),i,o)}}function Xr(e,t,r,n){return r||(r=Tr(e,t)),Kr(e,t,r,Vr(e,t,Or(e,r,n),"line").top)}function Zr(e,t,r,n){return!(e.bottom<=r)&&(e.top>r||(n?e.left:e.right)>t)}function Qr(e,t,r,n,o){o-=Vt(t);var i=Tr(e,t),a=zr(t),s=0,l=t.text.length,_=!0,c=_e(t,e.doc.direction);if(c){var u=(e.options.lineWrapping?tn:en)(e,t,r,i,c,n,o);s=(_=1!=u.level)?u.from:u.to-1,l=_?u.to:u.from-1}var f,p,d=null,h=null,m=ie((function(t){var r=Or(e,i,t);return r.top+=a,r.bottom+=a,!!Zr(r,n,o,!1)&&(r.top<=o&&r.left<=n&&(d=t,h=r),!0)}),s,l),g=!1;if(h){var $=n-h.left<h.right-n,v=$==_;m=d+(v?0:1),p=v?"after":"before",f=$?h.left:h.right}else{_||m!=l&&m!=s||m++,p=0==m?"after":m==t.text.length?"before":Or(e,i,m-(_?1:0)).bottom+a<=o==_?"after":"before";var b=Ur(e,et(r,m,p),"line",t,i);f=b.left,g=o<b.top?-1:o>=b.bottom?1:0}return Gr(r,m=oe(t.text,m,1),p,g,n-f)}function en(e,t,r,n,o,i,a){var s=ie((function(s){var l=o[s],_=1!=l.level;return Zr(Ur(e,et(r,_?l.to:l.from,_?"before":"after"),"line",t,n),i,a,!0)}),0,o.length-1),l=o[s];if(s>0){var _=1!=l.level,c=Ur(e,et(r,_?l.from:l.to,_?"after":"before"),"line",t,n);Zr(c,i,a,!0)&&c.top>a&&(l=o[s-1])}return l}function tn(e,t,r,n,o,i,a){var s=Kr(e,t,n,a),l=s.begin,_=s.end;/\s/.test(t.text.charAt(_-1))&&_--;for(var c=null,u=null,f=0;f<o.length;f++){var p=o[f];if(!(p.from>=_||p.to<=l)){var d=Or(e,n,1!=p.level?Math.min(_,p.to)-1:Math.max(l,p.from)).right,h=d<i?i-d+1e9:d-i;(!c||u>h)&&(c=p,u=h)}}return c||(c=o[o.length-1]),c.from<l&&(c={from:l,to:c.to,level:c.level}),c.to>_&&(c={from:c.from,to:_,level:c.level}),c}function rn(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==Ar){Ar=N("pre",null,"CodeMirror-line-like");for(var t=0;t<49;++t)Ar.appendChild(document.createTextNode("x")),Ar.appendChild(N("br"));Ar.appendChild(document.createTextNode("x"))}E(e.measure,Ar);var r=Ar.offsetHeight/50;return r>3&&(e.cachedTextHeight=r),S(e.measure),r||1}function nn(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=N("span","xxxxxxxxxx"),r=N("pre",[t],"CodeMirror-line-like");E(e.measure,r);var n=t.getBoundingClientRect(),o=(n.right-n.left)/10;return o>2&&(e.cachedCharWidth=o),o||10}function on(e){for(var t=e.display,r={},n={},o=t.gutters.clientLeft,i=t.gutters.firstChild,a=0;i;i=i.nextSibling,++a){var s=e.display.gutterSpecs[a].className;r[s]=i.offsetLeft+i.clientLeft+o,n[s]=i.clientWidth}return{fixedPos:an(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:r,gutterWidth:n,wrapperWidth:t.wrapper.clientWidth}}function an(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function sn(e){var t=rn(e.display),r=e.options.lineWrapping,n=r&&Math.max(5,e.display.scroller.clientWidth/nn(e.display)-3);return function(o){if(Wt(e.doc,o))return 0;var i=0;if(o.widgets)for(var a=0;a<o.widgets.length;a++)o.widgets[a].height&&(i+=o.widgets[a].height);return r?i+(Math.ceil(o.text.length/n)||1)*t:i+t}}function ln(e){var t=e.doc,r=sn(e);t.iter((function(e){var t=r(e);t!=e.height&&Ye(e,t)}))}function _n(e,t,r,n){var o=e.display;if(!r&&"true"==we(t).getAttribute("cm-not-content"))return null;var i,a,s=o.lineSpace.getBoundingClientRect();try{i=t.clientX-s.left,a=t.clientY-s.top}catch(e){return null}var l,_=Yr(e,i,a);if(n&&_.xRel>0&&(l=Ue(e.doc,_.line).text).length==_.ch){var c=P(l,l.length,e.options.tabSize)-l.length;_=et(_.line,Math.max(0,Math.round((i-Br(e.display).left)/nn(e.display))-c))}return _}function cn(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;for(var r=e.display.view,n=0;n<r.length;n++)if((t-=r[n].size)<0)return n}function un(e,t,r,n){null==t&&(t=e.doc.first),null==r&&(r=e.doc.first+e.doc.size),n||(n=0);var o=e.display;if(n&&r<o.viewTo&&(null==o.updateLineNumbers||o.updateLineNumbers>t)&&(o.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=o.viewTo)xt&&Dt(e.doc,t)<o.viewTo&&pn(e);else if(r<=o.viewFrom)xt&&Rt(e.doc,r+n)>o.viewFrom?pn(e):(o.viewFrom+=n,o.viewTo+=n);else if(t<=o.viewFrom&&r>=o.viewTo)pn(e);else if(t<=o.viewFrom){var i=dn(e,r,r+n,1);i?(o.view=o.view.slice(i.index),o.viewFrom=i.lineN,o.viewTo+=n):pn(e)}else if(r>=o.viewTo){var a=dn(e,t,t,-1);a?(o.view=o.view.slice(0,a.index),o.viewTo=a.lineN):pn(e)}else{var s=dn(e,t,t,-1),l=dn(e,r,r+n,1);s&&l?(o.view=o.view.slice(0,s.index).concat(or(e,s.lineN,l.lineN)).concat(o.view.slice(l.index)),o.viewTo+=n):pn(e)}var _=o.externalMeasured;_&&(r<_.lineN?_.lineN+=n:t<_.lineN+_.size&&(o.externalMeasured=null))}function fn(e,t,r){e.curOp.viewChanged=!0;var n=e.display,o=e.display.externalMeasured;if(o&&t>=o.lineN&&t<o.lineN+o.size&&(n.externalMeasured=null),!(t<n.viewFrom||t>=n.viewTo)){var i=n.view[cn(e,t)];if(null!=i.node){var a=i.changes||(i.changes=[]);-1==R(a,r)&&a.push(r)}}}function pn(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function dn(e,t,r,n){var o,i=cn(e,t),a=e.display.view;if(!xt||r==e.doc.first+e.doc.size)return{index:i,lineN:r};for(var s=e.display.viewFrom,l=0;l<i;l++)s+=a[l].size;if(s!=t){if(n>0){if(i==a.length-1)return null;o=s+a[i].size-t,i++}else o=s-t;t+=o,r+=o}for(;Dt(e.doc,r)!=r;){if(i==(n<0?0:a.length-1))return null;r+=n*a[i-(n<0?1:0)].size,i+=n}return{index:i,lineN:r}}function hn(e){for(var t=e.display.view,r=0,n=0;n<t.length;n++){var o=t[n];o.hidden||o.node&&!o.changes||++r}return r}function mn(e){e.display.input.showSelection(e.display.input.prepareSelection())}function gn(e,t){void 0===t&&(t=!0);for(var r=e.doc,n={},o=n.cursors=document.createDocumentFragment(),i=n.selection=document.createDocumentFragment(),a=0;a<r.sel.ranges.length;a++)if(t||a!=r.sel.primIndex){var s=r.sel.ranges[a];if(!(s.from().line>=e.display.viewTo||s.to().line<e.display.viewFrom)){var l=s.empty();(l||e.options.showCursorWhenSelecting)&&$n(e,s.head,o),l||bn(e,s,i)}}return n}function $n(e,t,r){var n=Ur(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),o=r.appendChild(N("div"," ","CodeMirror-cursor"));if(o.style.left=n.left+"px",o.style.top=n.top+"px",o.style.height=Math.max(0,n.bottom-n.top)*e.options.cursorHeight+"px",n.other){var i=r.appendChild(N("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));i.style.display="",i.style.left=n.other.left+"px",i.style.top=n.other.top+"px",i.style.height=.85*(n.other.bottom-n.other.top)+"px"}}function vn(e,t){return e.top-t.top||e.left-t.left}function bn(e,t,r){var n=e.display,o=e.doc,i=document.createDocumentFragment(),a=Br(e.display),s=a.left,l=Math.max(n.sizerWidth,Cr(e)-n.sizer.offsetLeft)-a.right,_="ltr"==o.direction;function c(e,t,r,n){t<0&&(t=0),t=Math.round(t),n=Math.round(n),i.appendChild(N("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==r?l-e:r)+"px;\n                             height: "+(n-t)+"px"))}function u(t,r,n){var i,a,u=Ue(o,t),f=u.text.length;function p(r,n){return Jr(e,et(t,r),"div",u,n)}function d(t,r,n){var o=Xr(e,u,null,t),i="ltr"==r==("after"==n)?"left":"right";return p("after"==n?o.begin:o.end-(/\s/.test(u.text.charAt(o.end-1))?2:1),i)[i]}var h=_e(u,o.direction);return function(e,t,r,n){if(!e)return n(t,r,"ltr",0);for(var o=!1,i=0;i<e.length;++i){var a=e[i];(a.from<r&&a.to>t||t==r&&a.to==t)&&(n(Math.max(a.from,t),Math.min(a.to,r),1==a.level?"rtl":"ltr",i),o=!0)}o||n(t,r,"ltr")}(h,r||0,null==n?f:n,(function(e,t,o,u){var m="ltr"==o,g=p(e,m?"left":"right"),$=p(t-1,m?"right":"left"),v=null==r&&0==e,b=null==n&&t==f,y=0==u,x=!h||u==h.length-1;if($.top-g.top<=3){var w=(_?b:v)&&x,B=(_?v:b)&&y?s:(m?g:$).left,k=w?l:(m?$:g).right;c(B,g.top,k-B,g.bottom)}else{var C,S,E,N;m?(C=_&&v&&y?s:g.left,S=_?l:d(e,o,"before"),E=_?s:d(t,o,"after"),N=_&&b&&x?l:$.right):(C=_?d(e,o,"before"):s,S=!_&&v&&y?l:g.right,E=!_&&b&&x?s:$.left,N=_?d(t,o,"after"):l),c(C,g.top,S-C,g.bottom),g.bottom<$.top&&c(s,g.bottom,null,$.top),c(E,$.top,N-E,$.bottom)}(!i||vn(g,i)<0)&&(i=g),vn($,i)<0&&(i=$),(!a||vn(g,a)<0)&&(a=g),vn($,a)<0&&(a=$)})),{start:i,end:a}}var f=t.from(),p=t.to();if(f.line==p.line)u(f.line,f.ch,p.ch);else{var d=Ue(o,f.line),h=Ue(o,p.line),m=Pt(d)==Pt(h),g=u(f.line,f.ch,m?d.text.length+1:null).end,$=u(p.line,m?0:null,p.ch).start;m&&(g.top<$.top-2?(c(g.right,g.top,null,g.bottom),c(s,$.top,$.left,$.bottom)):c(g.right,g.top,$.left-g.right,g.bottom)),g.bottom<$.top&&c(s,g.bottom,null,$.top)}r.appendChild(i)}function yn(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var r=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval((function(){e.hasFocus()||kn(e),t.cursorDiv.style.visibility=(r=!r)?"":"hidden"}),e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function xn(e){e.hasFocus()||(e.display.input.focus(),e.state.focused||Bn(e))}function wn(e){e.state.delayingBlurEvent=!0,setTimeout((function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,e.state.focused&&kn(e))}),100)}function Bn(e,t){e.state.delayingBlurEvent&&!e.state.draggingText&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(de(e,"focus",e,t),e.state.focused=!0,A(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),l&&setTimeout((function(){return e.display.input.reset(!0)}),20)),e.display.input.receivedFocus()),yn(e))}function kn(e,t){e.state.delayingBlurEvent||(e.state.focused&&(de(e,"blur",e,t),e.state.focused=!1,C(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout((function(){e.state.focused||(e.display.shift=!1)}),150))}function Cn(e){for(var t=e.display,r=t.lineDiv.offsetTop,n=0;n<t.view.length;n++){var o=t.view[n],i=e.options.lineWrapping,l=void 0,_=0;if(!o.hidden){if(a&&s<8){var c=o.node.offsetTop+o.node.offsetHeight;l=c-r,r=c}else{var u=o.node.getBoundingClientRect();l=u.bottom-u.top,!i&&o.text.firstChild&&(_=o.text.firstChild.getBoundingClientRect().right-u.left-1)}var f=o.line.height-l;if((f>.005||f<-.005)&&(Ye(o.line,l),Sn(o.line),o.rest))for(var p=0;p<o.rest.length;p++)Sn(o.rest[p]);if(_>e.display.sizerWidth){var d=Math.ceil(_/nn(e.display));d>e.display.maxLineLength&&(e.display.maxLineLength=d,e.display.maxLine=o.line,e.display.maxLineChanged=!0)}}}}function Sn(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var r=e.widgets[t],n=r.node.parentNode;n&&(r.height=n.offsetHeight)}}function En(e,t,r){var n=r&&null!=r.top?Math.max(0,r.top):e.scroller.scrollTop;n=Math.floor(n-xr(e));var o=r&&null!=r.bottom?r.bottom:n+e.wrapper.clientHeight,i=Xe(t,n),a=Xe(t,o);if(r&&r.ensure){var s=r.ensure.from.line,l=r.ensure.to.line;s<i?(i=s,a=Xe(t,Vt(Ue(t,s))+e.wrapper.clientHeight)):Math.min(l,t.lastLine())>=a&&(i=Xe(t,Vt(Ue(t,l))-e.wrapper.clientHeight),a=l)}return{from:i,to:Math.max(a,i+1)}}function Nn(e,t){var r=e.display,n=rn(e.display);t.top<0&&(t.top=0);var o=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:r.scroller.scrollTop,i=Sr(e),a={};t.bottom-t.top>i&&(t.bottom=t.top+i);var s=e.doc.height+wr(r),l=t.top<n,_=t.bottom>s-n;if(t.top<o)a.scrollTop=l?0:t.top;else if(t.bottom>o+i){var c=Math.min(t.top,(_?s:t.bottom)-i);c!=o&&(a.scrollTop=c)}var u=e.options.fixedGutter?0:r.gutters.offsetWidth,f=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:r.scroller.scrollLeft-u,p=Cr(e)-r.gutters.offsetWidth,d=t.right-t.left>p;return d&&(t.right=t.left+p),t.left<10?a.scrollLeft=0:t.left<f?a.scrollLeft=Math.max(0,t.left+u-(d?0:10)):t.right>p+f-3&&(a.scrollLeft=t.right+(d?0:10)-p),a}function jn(e,t){null!=t&&(An(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function Tn(e){An(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function On(e,t,r){null==t&&null==r||An(e),null!=t&&(e.curOp.scrollLeft=t),null!=r&&(e.curOp.scrollTop=r)}function An(e){var t=e.curOp.scrollToPos;t&&(e.curOp.scrollToPos=null,In(e,Hr(e,t.from),Hr(e,t.to),t.margin))}function In(e,t,r,n){var o=Nn(e,{left:Math.min(t.left,r.left),top:Math.min(t.top,r.top)-n,right:Math.max(t.right,r.right),bottom:Math.max(t.bottom,r.bottom)+n});On(e,o.scrollLeft,o.scrollTop)}function Mn(e,t){Math.abs(e.doc.scrollTop-t)<2||(r||lo(e,{top:t}),Ln(e,t,!0),r&&lo(e),no(e,100))}function Ln(e,t,r){t=Math.max(0,Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t)),(e.display.scroller.scrollTop!=t||r)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function Fn(e,t,r,n){t=Math.max(0,Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth)),(r?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!n||(e.doc.scrollLeft=t,uo(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function Pn(e){var t=e.display,r=t.gutters.offsetWidth,n=Math.round(e.doc.height+wr(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?r:0,docHeight:n,scrollHeight:n+kr(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:r}}var Dn=function(e,t,r){this.cm=r;var n=this.vert=N("div",[N("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),o=this.horiz=N("div",[N("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");n.tabIndex=o.tabIndex=-1,e(n),e(o),ue(n,"scroll",(function(){n.clientHeight&&t(n.scrollTop,"vertical")})),ue(o,"scroll",(function(){o.clientWidth&&t(o.scrollLeft,"horizontal")})),this.checkedZeroWidth=!1,a&&s<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Dn.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,r=e.scrollHeight>e.clientHeight+1,n=e.nativeBarWidth;if(r){this.vert.style.display="block",this.vert.style.bottom=t?n+"px":"0";var o=e.viewHeight-(t?n:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+o)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=r?n+"px":"0",this.horiz.style.left=e.barLeft+"px";var i=e.viewWidth-e.barLeft-(r?n:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+i)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==n&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:r?n:0,bottom:t?n:0}},Dn.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Dn.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Dn.prototype.zeroWidthHack=function(){var e=$&&!p?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new D,this.disableVert=new D},Dn.prototype.enableZeroWidthBar=function(e,t,r){e.style.pointerEvents="auto",t.set(1e3,(function n(){var o=e.getBoundingClientRect();("vert"==r?document.elementFromPoint(o.right-1,(o.top+o.bottom)/2):document.elementFromPoint((o.right+o.left)/2,o.bottom-1))!=e?e.style.pointerEvents="none":t.set(1e3,n)}))},Dn.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var Rn=function(){};function Wn(e,t){t||(t=Pn(e));var r=e.display.barWidth,n=e.display.barHeight;zn(e,t);for(var o=0;o<4&&r!=e.display.barWidth||n!=e.display.barHeight;o++)r!=e.display.barWidth&&e.options.lineWrapping&&Cn(e),zn(e,Pn(e)),r=e.display.barWidth,n=e.display.barHeight}function zn(e,t){var r=e.display,n=r.scrollbars.update(t);r.sizer.style.paddingRight=(r.barWidth=n.right)+"px",r.sizer.style.paddingBottom=(r.barHeight=n.bottom)+"px",r.heightForcer.style.borderBottom=n.bottom+"px solid transparent",n.right&&n.bottom?(r.scrollbarFiller.style.display="block",r.scrollbarFiller.style.height=n.bottom+"px",r.scrollbarFiller.style.width=n.right+"px"):r.scrollbarFiller.style.display="",n.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(r.gutterFiller.style.display="block",r.gutterFiller.style.height=n.bottom+"px",r.gutterFiller.style.width=t.gutterWidth+"px"):r.gutterFiller.style.display=""}Rn.prototype.update=function(){return{bottom:0,right:0}},Rn.prototype.setScrollLeft=function(){},Rn.prototype.setScrollTop=function(){},Rn.prototype.clear=function(){};var Vn={native:Dn,null:Rn};function qn(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&C(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new Vn[e.options.scrollbarStyle]((function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),ue(t,"mousedown",(function(){e.state.focused&&setTimeout((function(){return e.display.input.focus()}),0)})),t.setAttribute("cm-not-content","true")}),(function(t,r){"horizontal"==r?Fn(e,t):Mn(e,t)}),e),e.display.scrollbars.addClass&&A(e.display.wrapper,e.display.scrollbars.addClass)}var Jn=0;function Un(e){var t;e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Jn,markArrays:null},t=e.curOp,ir?ir.ops.push(t):t.ownsGroup=ir={ops:[t],delayedCallbacks:[]}}function Hn(e){var t=e.curOp;t&&function(e,t){var r=e.ownsGroup;if(r)try{!function(e){var t=e.delayedCallbacks,r=0;do{for(;r<t.length;r++)t[r].call(null);for(var n=0;n<e.ops.length;n++){var o=e.ops[n];if(o.cursorActivityHandlers)for(;o.cursorActivityCalled<o.cursorActivityHandlers.length;)o.cursorActivityHandlers[o.cursorActivityCalled++].call(null,o.cm)}}while(r<t.length)}(r)}finally{ir=null,t(r)}}(t,(function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;!function(e){for(var t=e.ops,r=0;r<t.length;r++)Gn(t[r]);for(var n=0;n<t.length;n++)Yn(t[n]);for(var o=0;o<t.length;o++)Kn(t[o]);for(var i=0;i<t.length;i++)Xn(t[i]);for(var a=0;a<t.length;a++)Zn(t[a])}(e)}))}function Gn(e){var t=e.cm,r=t.display;(function(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=kr(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=kr(e)+"px",t.scrollbarsClipped=!0)})(t),e.updateMaxLine&&Jt(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<r.viewFrom||e.scrollToPos.to.line>=r.viewTo)||r.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new io(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Yn(e){e.updatedDisplay=e.mustUpdate&&ao(e.cm,e.update)}function Kn(e){var t=e.cm,r=t.display;e.updatedDisplay&&Cn(t),e.barMeasure=Pn(t),r.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Nr(t,r.maxLine,r.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(r.scroller.clientWidth,r.sizer.offsetLeft+e.adjustWidthTo+kr(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,r.sizer.offsetLeft+e.adjustWidthTo-Cr(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=r.input.prepareSelection())}function Xn(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&Fn(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var r=e.focus&&e.focus==O();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,r),(e.updatedDisplay||e.startHeight!=t.doc.height)&&Wn(t,e.barMeasure),e.updatedDisplay&&co(t,e.barMeasure),e.selectionChanged&&yn(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),r&&xn(e.cm)}function Zn(e){var t=e.cm,r=t.display,n=t.doc;e.updatedDisplay&&so(t,e.update),null==r.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(r.wheelStartX=r.wheelStartY=null),null!=e.scrollTop&&Ln(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&Fn(t,e.scrollLeft,!0,!0),e.scrollToPos&&function(e,t){if(!he(e,"scrollCursorIntoView")){var r=e.display,n=r.sizer.getBoundingClientRect(),o=null;if(t.top+n.top<0?o=!0:t.bottom+n.top>(window.innerHeight||document.documentElement.clientHeight)&&(o=!1),null!=o&&!d){var i=N("div","​",null,"position: absolute;\n                         top: "+(t.top-r.viewOffset-xr(e.display))+"px;\n                         height: "+(t.bottom-t.top+kr(e)+r.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(i),i.scrollIntoView(o),e.display.lineSpace.removeChild(i)}}}(t,function(e,t,r,n){var o;null==n&&(n=0),e.options.lineWrapping||t!=r||(r="before"==t.sticky?et(t.line,t.ch+1,"before"):t,t=t.ch?et(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t);for(var i=0;i<5;i++){var a=!1,s=Ur(e,t),l=r&&r!=t?Ur(e,r):s,_=Nn(e,o={left:Math.min(s.left,l.left),top:Math.min(s.top,l.top)-n,right:Math.max(s.left,l.left),bottom:Math.max(s.bottom,l.bottom)+n}),c=e.doc.scrollTop,u=e.doc.scrollLeft;if(null!=_.scrollTop&&(Mn(e,_.scrollTop),Math.abs(e.doc.scrollTop-c)>1&&(a=!0)),null!=_.scrollLeft&&(Fn(e,_.scrollLeft),Math.abs(e.doc.scrollLeft-u)>1&&(a=!0)),!a)break}return o}(t,st(n,e.scrollToPos.from),st(n,e.scrollToPos.to),e.scrollToPos.margin));var o=e.maybeHiddenMarkers,i=e.maybeUnhiddenMarkers;if(o)for(var a=0;a<o.length;++a)o[a].lines.length||de(o[a],"hide");if(i)for(var s=0;s<i.length;++s)i[s].lines.length&&de(i[s],"unhide");r.wrapper.offsetHeight&&(n.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&de(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function Qn(e,t){if(e.curOp)return t();Un(e);try{return t()}finally{Hn(e)}}function eo(e,t){return function(){if(e.curOp)return t.apply(e,arguments);Un(e);try{return t.apply(e,arguments)}finally{Hn(e)}}}function to(e){return function(){if(this.curOp)return e.apply(this,arguments);Un(this);try{return e.apply(this,arguments)}finally{Hn(this)}}}function ro(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);Un(t);try{return e.apply(this,arguments)}finally{Hn(t)}}}function no(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,L(oo,e))}function oo(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var r=+new Date+e.options.workTime,n=pt(e,t.highlightFrontier),o=[];t.iter(n.line,Math.min(t.first+t.size,e.display.viewTo+500),(function(i){if(n.line>=e.display.viewFrom){var a=i.styles,s=i.text.length>e.options.maxHighlightLength?ze(t.mode,n.state):null,l=ut(e,i,n,!0);s&&(n.state=s),i.styles=l.styles;var _=i.styleClasses,c=l.classes;c?i.styleClasses=c:_&&(i.styleClasses=null);for(var u=!a||a.length!=i.styles.length||_!=c&&(!_||!c||_.bgClass!=c.bgClass||_.textClass!=c.textClass),f=0;!u&&f<a.length;++f)u=a[f]!=i.styles[f];u&&o.push(n.line),i.stateAfter=n.save(),n.nextLine()}else i.text.length<=e.options.maxHighlightLength&&dt(e,i.text,n),i.stateAfter=n.line%5==0?n.save():null,n.nextLine();if(+new Date>r)return no(e,e.options.workDelay),!0})),t.highlightFrontier=n.line,t.modeFrontier=Math.max(t.modeFrontier,n.line),o.length&&Qn(e,(function(){for(var t=0;t<o.length;t++)fn(e,o[t],"text")}))}}var io=function(e,t,r){var n=e.display;this.viewport=t,this.visible=En(n,e.doc,t),this.editorIsHidden=!n.wrapper.offsetWidth,this.wrapperHeight=n.wrapper.clientHeight,this.wrapperWidth=n.wrapper.clientWidth,this.oldDisplayWidth=Cr(e),this.force=r,this.dims=on(e),this.events=[]};function ao(e,t){var r=e.display,n=e.doc;if(t.editorIsHidden)return pn(e),!1;if(!t.force&&t.visible.from>=r.viewFrom&&t.visible.to<=r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo)&&r.renderedView==r.view&&0==hn(e))return!1;fo(e)&&(pn(e),t.dims=on(e));var o=n.first+n.size,i=Math.max(t.visible.from-e.options.viewportMargin,n.first),a=Math.min(o,t.visible.to+e.options.viewportMargin);r.viewFrom<i&&i-r.viewFrom<20&&(i=Math.max(n.first,r.viewFrom)),r.viewTo>a&&r.viewTo-a<20&&(a=Math.min(o,r.viewTo)),xt&&(i=Dt(e.doc,i),a=Rt(e.doc,a));var s=i!=r.viewFrom||a!=r.viewTo||r.lastWrapHeight!=t.wrapperHeight||r.lastWrapWidth!=t.wrapperWidth;(function(e,t,r){var n=e.display;0==n.view.length||t>=n.viewTo||r<=n.viewFrom?(n.view=or(e,t,r),n.viewFrom=t):(n.viewFrom>t?n.view=or(e,t,n.viewFrom).concat(n.view):n.viewFrom<t&&(n.view=n.view.slice(cn(e,t))),n.viewFrom=t,n.viewTo<r?n.view=n.view.concat(or(e,n.viewTo,r)):n.viewTo>r&&(n.view=n.view.slice(0,cn(e,r)))),n.viewTo=r})(e,i,a),r.viewOffset=Vt(Ue(e.doc,r.viewFrom)),e.display.mover.style.top=r.viewOffset+"px";var _=hn(e);if(!s&&0==_&&!t.force&&r.renderedView==r.view&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo))return!1;var c=function(e){if(e.hasFocus())return null;var t=O();if(!t||!T(e.display.lineDiv,t))return null;var r={activeElt:t};if(window.getSelection){var n=window.getSelection();n.anchorNode&&n.extend&&T(e.display.lineDiv,n.anchorNode)&&(r.anchorNode=n.anchorNode,r.anchorOffset=n.anchorOffset,r.focusNode=n.focusNode,r.focusOffset=n.focusOffset)}return r}(e);return _>4&&(r.lineDiv.style.display="none"),function(e,t,r){var n=e.display,o=e.options.lineNumbers,i=n.lineDiv,a=i.firstChild;function s(t){var r=t.nextSibling;return l&&$&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),r}for(var _=n.view,c=n.viewFrom,u=0;u<_.length;u++){var f=_[u];if(f.hidden);else if(f.node&&f.node.parentNode==i){for(;a!=f.node;)a=s(a);var p=o&&null!=t&&t<=c&&f.lineNumber;f.changes&&(R(f.changes,"gutter")>-1&&(p=!1),_r(e,f,c,r)),p&&(S(f.lineNumber),f.lineNumber.appendChild(document.createTextNode(Qe(e.options,c)))),a=f.node.nextSibling}else{var d=mr(e,f,c,r);i.insertBefore(d,a)}c+=f.size}for(;a;)a=s(a)}(e,r.updateLineNumbers,t.dims),_>4&&(r.lineDiv.style.display=""),r.renderedView=r.view,function(e){if(e&&e.activeElt&&e.activeElt!=O()&&(e.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(e.activeElt.nodeName)&&e.anchorNode&&T(document.body,e.anchorNode)&&T(document.body,e.focusNode))){var t=window.getSelection(),r=document.createRange();r.setEnd(e.anchorNode,e.anchorOffset),r.collapse(!1),t.removeAllRanges(),t.addRange(r),t.extend(e.focusNode,e.focusOffset)}}(c),S(r.cursorDiv),S(r.selectionDiv),r.gutters.style.height=r.sizer.style.minHeight=0,s&&(r.lastWrapHeight=t.wrapperHeight,r.lastWrapWidth=t.wrapperWidth,no(e,400)),r.updateLineNumbers=null,!0}function so(e,t){for(var r=t.viewport,n=!0;;n=!1){if(n&&e.options.lineWrapping&&t.oldDisplayWidth!=Cr(e))n&&(t.visible=En(e.display,e.doc,r));else if(r&&null!=r.top&&(r={top:Math.min(e.doc.height+wr(e.display)-Sr(e),r.top)}),t.visible=En(e.display,e.doc,r),t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)break;if(!ao(e,t))break;Cn(e);var o=Pn(e);mn(e),Wn(e,o),co(e,o),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function lo(e,t){var r=new io(e,t);if(ao(e,r)){Cn(e),so(e,r);var n=Pn(e);mn(e),Wn(e,n),co(e,n),r.finish()}}function _o(e){var t=e.gutters.offsetWidth;e.sizer.style.marginLeft=t+"px",sr(e,"gutterChanged",e)}function co(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+kr(e)+"px"}function uo(e){var t=e.display,r=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var n=an(t)-t.scroller.scrollLeft+e.doc.scrollLeft,o=t.gutters.offsetWidth,i=n+"px",a=0;a<r.length;a++)if(!r[a].hidden){e.options.fixedGutter&&(r[a].gutter&&(r[a].gutter.style.left=i),r[a].gutterBackground&&(r[a].gutterBackground.style.left=i));var s=r[a].alignable;if(s)for(var l=0;l<s.length;l++)s[l].style.left=i}e.options.fixedGutter&&(t.gutters.style.left=n+o+"px")}}function fo(e){if(!e.options.lineNumbers)return!1;var t=e.doc,r=Qe(e.options,t.first+t.size-1),n=e.display;if(r.length!=n.lineNumChars){var o=n.measure.appendChild(N("div",[N("div",r)],"CodeMirror-linenumber CodeMirror-gutter-elt")),i=o.firstChild.offsetWidth,a=o.offsetWidth-i;return n.lineGutter.style.width="",n.lineNumInnerWidth=Math.max(i,n.lineGutter.offsetWidth-a)+1,n.lineNumWidth=n.lineNumInnerWidth+a,n.lineNumChars=n.lineNumInnerWidth?r.length:-1,n.lineGutter.style.width=n.lineNumWidth+"px",_o(e.display),!0}return!1}function po(e,t){for(var r=[],n=!1,o=0;o<e.length;o++){var i=e[o],a=null;if("string"!=typeof i&&(a=i.style,i=i.className),"CodeMirror-linenumbers"==i){if(!t)continue;n=!0}r.push({className:i,style:a})}return t&&!n&&r.push({className:"CodeMirror-linenumbers",style:null}),r}function ho(e){var t=e.gutters,r=e.gutterSpecs;S(t),e.lineGutter=null;for(var n=0;n<r.length;++n){var o=r[n],i=o.className,a=o.style,s=t.appendChild(N("div",null,"CodeMirror-gutter "+i));a&&(s.style.cssText=a),"CodeMirror-linenumbers"==i&&(e.lineGutter=s,s.style.width=(e.lineNumWidth||1)+"px")}t.style.display=r.length?"":"none",_o(e)}function mo(e){ho(e.display),un(e),uo(e)}function go(e,t,n,o){var i=this;this.input=n,i.scrollbarFiller=N("div",null,"CodeMirror-scrollbar-filler"),i.scrollbarFiller.setAttribute("cm-not-content","true"),i.gutterFiller=N("div",null,"CodeMirror-gutter-filler"),i.gutterFiller.setAttribute("cm-not-content","true"),i.lineDiv=j("div",null,"CodeMirror-code"),i.selectionDiv=N("div",null,null,"position: relative; z-index: 1"),i.cursorDiv=N("div",null,"CodeMirror-cursors"),i.measure=N("div",null,"CodeMirror-measure"),i.lineMeasure=N("div",null,"CodeMirror-measure"),i.lineSpace=j("div",[i.measure,i.lineMeasure,i.selectionDiv,i.cursorDiv,i.lineDiv],null,"position: relative; outline: none");var _=j("div",[i.lineSpace],"CodeMirror-lines");i.mover=N("div",[_],null,"position: relative"),i.sizer=N("div",[i.mover],"CodeMirror-sizer"),i.sizerWidth=null,i.heightForcer=N("div",null,null,"position: absolute; height: 50px; width: 1px;"),i.gutters=N("div",null,"CodeMirror-gutters"),i.lineGutter=null,i.scroller=N("div",[i.sizer,i.heightForcer,i.gutters],"CodeMirror-scroll"),i.scroller.setAttribute("tabIndex","-1"),i.wrapper=N("div",[i.scrollbarFiller,i.gutterFiller,i.scroller],"CodeMirror"),a&&s<8&&(i.gutters.style.zIndex=-1,i.scroller.style.paddingRight=0),l||r&&g||(i.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(i.wrapper):e(i.wrapper)),i.viewFrom=i.viewTo=t.first,i.reportedViewFrom=i.reportedViewTo=t.first,i.view=[],i.renderedView=null,i.externalMeasured=null,i.viewOffset=0,i.lastWrapHeight=i.lastWrapWidth=0,i.updateLineNumbers=null,i.nativeBarWidth=i.barHeight=i.barWidth=0,i.scrollbarsClipped=!1,i.lineNumWidth=i.lineNumInnerWidth=i.lineNumChars=null,i.alignWidgets=!1,i.cachedCharWidth=i.cachedTextHeight=i.cachedPaddingH=null,i.maxLine=null,i.maxLineLength=0,i.maxLineChanged=!1,i.wheelDX=i.wheelDY=i.wheelStartX=i.wheelStartY=null,i.shift=!1,i.selForContextMenu=null,i.activeTouch=null,i.gutterSpecs=po(o.gutters,o.lineNumbers),ho(i),n.init(i)}io.prototype.signal=function(e,t){ge(e,t)&&this.events.push(arguments)},io.prototype.finish=function(){for(var e=0;e<this.events.length;e++)de.apply(null,this.events[e])};var $o=0,vo=null;function bo(e){var t=e.wheelDeltaX,r=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==r&&e.detail&&e.axis==e.VERTICAL_AXIS?r=e.detail:null==r&&(r=e.wheelDelta),{x:t,y:r}}function yo(e){var t=bo(e);return t.x*=vo,t.y*=vo,t}function xo(e,t){var n=bo(t),o=n.x,i=n.y,a=e.display,s=a.scroller,_=s.scrollWidth>s.clientWidth,c=s.scrollHeight>s.clientHeight;if(o&&_||i&&c){if(i&&$&&l)e:for(var f=t.target,p=a.view;f!=s;f=f.parentNode)for(var d=0;d<p.length;d++)if(p[d].node==f){e.display.currentWheelTarget=f;break e}if(o&&!r&&!u&&null!=vo)return i&&c&&Mn(e,Math.max(0,s.scrollTop+i*vo)),Fn(e,Math.max(0,s.scrollLeft+o*vo)),(!i||i&&c)&&ve(t),void(a.wheelStartX=null);if(i&&null!=vo){var h=i*vo,m=e.doc.scrollTop,g=m+a.wrapper.clientHeight;h<0?m=Math.max(0,m+h-50):g=Math.min(e.doc.height,g+h+50),lo(e,{top:m,bottom:g})}$o<20&&(null==a.wheelStartX?(a.wheelStartX=s.scrollLeft,a.wheelStartY=s.scrollTop,a.wheelDX=o,a.wheelDY=i,setTimeout((function(){if(null!=a.wheelStartX){var e=s.scrollLeft-a.wheelStartX,t=s.scrollTop-a.wheelStartY,r=t&&a.wheelDY&&t/a.wheelDY||e&&a.wheelDX&&e/a.wheelDX;a.wheelStartX=a.wheelStartY=null,r&&(vo=(vo*$o+r)/($o+1),++$o)}}),200)):(a.wheelDX+=o,a.wheelDY+=i))}}a?vo=-.53:r?vo=15:c?vo=-.7:f&&(vo=-1/3);var wo=function(e,t){this.ranges=e,this.primIndex=t};wo.prototype.primary=function(){return this.ranges[this.primIndex]},wo.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var r=this.ranges[t],n=e.ranges[t];if(!rt(r.anchor,n.anchor)||!rt(r.head,n.head))return!1}return!0},wo.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new Bo(nt(this.ranges[t].anchor),nt(this.ranges[t].head));return new wo(e,this.primIndex)},wo.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},wo.prototype.contains=function(e,t){t||(t=e);for(var r=0;r<this.ranges.length;r++){var n=this.ranges[r];if(tt(t,n.from())>=0&&tt(e,n.to())<=0)return r}return-1};var Bo=function(e,t){this.anchor=e,this.head=t};function ko(e,t,r){var n=e&&e.options.selectionsMayTouch,o=t[r];t.sort((function(e,t){return tt(e.from(),t.from())})),r=R(t,o);for(var i=1;i<t.length;i++){var a=t[i],s=t[i-1],l=tt(s.to(),a.from());if(n&&!a.empty()?l>0:l>=0){var _=it(s.from(),a.from()),c=ot(s.to(),a.to()),u=s.empty()?a.from()==a.head:s.from()==s.head;i<=r&&--r,t.splice(--i,2,new Bo(u?c:_,u?_:c))}}return new wo(t,r)}function Co(e,t){return new wo([new Bo(e,t||e)],0)}function So(e){return e.text?et(e.from.line+e.text.length-1,G(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function Eo(e,t){if(tt(e,t.from)<0)return e;if(tt(e,t.to)<=0)return So(t);var r=e.line+t.text.length-(t.to.line-t.from.line)-1,n=e.ch;return e.line==t.to.line&&(n+=So(t).ch-t.to.ch),et(r,n)}function No(e,t){for(var r=[],n=0;n<e.sel.ranges.length;n++){var o=e.sel.ranges[n];r.push(new Bo(Eo(o.anchor,t),Eo(o.head,t)))}return ko(e.cm,r,e.sel.primIndex)}function jo(e,t,r){return e.line==t.line?et(r.line,e.ch-t.ch+r.ch):et(r.line+(e.line-t.line),e.ch)}function To(e){e.doc.mode=De(e.options,e.doc.modeOption),Oo(e)}function Oo(e){e.doc.iter((function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)})),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,no(e,100),e.state.modeGen++,e.curOp&&un(e)}function Ao(e,t){return 0==t.from.ch&&0==t.to.ch&&""==G(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Io(e,t,r,n){function o(e){return r?r[e]:null}function i(e,r,o){(function(e,t,r,n){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),Et(e),Nt(e,r);var o=n?n(e):1;o!=e.height&&Ye(e,o)})(e,r,o,n),sr(e,"change",e,t)}function a(e,t){for(var r=[],i=e;i<t;++i)r.push(new Ut(_[i],o(i),n));return r}var s=t.from,l=t.to,_=t.text,c=Ue(e,s.line),u=Ue(e,l.line),f=G(_),p=o(_.length-1),d=l.line-s.line;if(t.full)e.insert(0,a(0,_.length)),e.remove(_.length,e.size-_.length);else if(Ao(e,t)){var h=a(0,_.length-1);i(u,u.text,p),d&&e.remove(s.line,d),h.length&&e.insert(s.line,h)}else if(c==u)if(1==_.length)i(c,c.text.slice(0,s.ch)+f+c.text.slice(l.ch),p);else{var m=a(1,_.length-1);m.push(new Ut(f+c.text.slice(l.ch),p,n)),i(c,c.text.slice(0,s.ch)+_[0],o(0)),e.insert(s.line+1,m)}else if(1==_.length)i(c,c.text.slice(0,s.ch)+_[0]+u.text.slice(l.ch),o(0)),e.remove(s.line+1,d);else{i(c,c.text.slice(0,s.ch)+_[0],o(0)),i(u,f+u.text.slice(l.ch),p);var g=a(1,_.length-1);d>1&&e.remove(s.line+1,d-1),e.insert(s.line+1,g)}sr(e,"change",e,t)}function Mo(e,t,r){!function e(n,o,i){if(n.linked)for(var a=0;a<n.linked.length;++a){var s=n.linked[a];if(s.doc!=o){var l=i&&s.sharedHist;r&&!l||(t(s.doc,l),e(s.doc,n,l))}}}(e,null,!0)}function Lo(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,ln(e),To(e),Fo(e),e.options.direction=t.direction,e.options.lineWrapping||Jt(e),e.options.mode=t.modeOption,un(e)}function Fo(e){("rtl"==e.doc.direction?A:C)(e.display.lineDiv,"CodeMirror-rtl")}function Po(e){this.done=[],this.undone=[],this.undoDepth=e?e.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e?e.maxGeneration:1}function Do(e,t){var r={from:nt(t.from),to:So(t),text:He(e,t.from,t.to)};return qo(e,r,t.from.line,t.to.line+1),Mo(e,(function(e){return qo(e,r,t.from.line,t.to.line+1)}),!0),r}function Ro(e){for(;e.length&&G(e).ranges;)e.pop()}function Wo(e,t,r,n){var o=e.history;o.undone.length=0;var i,a,s=+new Date;if((o.lastOp==n||o.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&o.lastModTime>s-(e.cm?e.cm.options.historyEventDelay:500)||"*"==t.origin.charAt(0)))&&(i=function(e,t){return t?(Ro(e.done),G(e.done)):e.done.length&&!G(e.done).ranges?G(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),G(e.done)):void 0}(o,o.lastOp==n)))a=G(i.changes),0==tt(t.from,t.to)&&0==tt(t.from,a.to)?a.to=So(t):i.changes.push(Do(e,t));else{var l=G(o.done);for(l&&l.ranges||Vo(e.sel,o.done),i={changes:[Do(e,t)],generation:o.generation},o.done.push(i);o.done.length>o.undoDepth;)o.done.shift(),o.done[0].ranges||o.done.shift()}o.done.push(r),o.generation=++o.maxGeneration,o.lastModTime=o.lastSelTime=s,o.lastOp=o.lastSelOp=n,o.lastOrigin=o.lastSelOrigin=t.origin,a||de(e,"historyAdded")}function zo(e,t,r,n){var o=e.history,i=n&&n.origin;r==o.lastSelOp||i&&o.lastSelOrigin==i&&(o.lastModTime==o.lastSelTime&&o.lastOrigin==i||function(e,t,r,n){var o=t.charAt(0);return"*"==o||"+"==o&&r.ranges.length==n.ranges.length&&r.somethingSelected()==n.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}(e,i,G(o.done),t))?o.done[o.done.length-1]=t:Vo(t,o.done),o.lastSelTime=+new Date,o.lastSelOrigin=i,o.lastSelOp=r,n&&!1!==n.clearRedo&&Ro(o.undone)}function Vo(e,t){var r=G(t);r&&r.ranges&&r.equals(e)||t.push(e)}function qo(e,t,r,n){var o=t["spans_"+e.id],i=0;e.iter(Math.max(e.first,r),Math.min(e.first+e.size,n),(function(r){r.markedSpans&&((o||(o=t["spans_"+e.id]={}))[i]=r.markedSpans),++i}))}function Jo(e){if(!e)return null;for(var t,r=0;r<e.length;++r)e[r].marker.explicitlyCleared?t||(t=e.slice(0,r)):t&&t.push(e[r]);return t?t.length?t:null:e}function Uo(e,t){var r=function(e,t){var r=t["spans_"+e.id];if(!r)return null;for(var n=[],o=0;o<t.text.length;++o)n.push(Jo(r[o]));return n}(e,t),n=Ct(e,t);if(!r)return n;if(!n)return r;for(var o=0;o<r.length;++o){var i=r[o],a=n[o];if(i&&a)e:for(var s=0;s<a.length;++s){for(var l=a[s],_=0;_<i.length;++_)if(i[_].marker==l.marker)continue e;i.push(l)}else a&&(r[o]=a)}return r}function Ho(e,t,r){for(var n=[],o=0;o<e.length;++o){var i=e[o];if(i.ranges)n.push(r?wo.prototype.deepCopy.call(i):i);else{var a=i.changes,s=[];n.push({changes:s});for(var l=0;l<a.length;++l){var _=a[l],c=void 0;if(s.push({from:_.from,to:_.to,text:_.text}),t)for(var u in _)(c=u.match(/^spans_(\d+)$/))&&R(t,Number(c[1]))>-1&&(G(s)[u]=_[u],delete _[u])}}}return n}function Go(e,t,r,n){if(n){var o=e.anchor;if(r){var i=tt(t,o)<0;i!=tt(r,o)<0?(o=t,t=r):i!=tt(t,r)<0&&(t=r)}return new Bo(o,t)}return new Bo(r||t,t)}function Yo(e,t,r,n,o){null==o&&(o=e.cm&&(e.cm.display.shift||e.extend)),ei(e,new wo([Go(e.sel.primary(),t,r,o)],0),n)}function Ko(e,t,r){for(var n=[],o=e.cm&&(e.cm.display.shift||e.extend),i=0;i<e.sel.ranges.length;i++)n[i]=Go(e.sel.ranges[i],t[i],null,o);ei(e,ko(e.cm,n,e.sel.primIndex),r)}function Xo(e,t,r,n){var o=e.sel.ranges.slice(0);o[t]=r,ei(e,ko(e.cm,o,e.sel.primIndex),n)}function Zo(e,t,r,n){ei(e,Co(t,r),n)}function Qo(e,t,r){var n=e.history.done,o=G(n);o&&o.ranges?(n[n.length-1]=t,ti(e,t,r)):ei(e,t,r)}function ei(e,t,r){ti(e,t,r),zo(e,e.sel,e.cm?e.cm.curOp.id:NaN,r)}function ti(e,t,r){(ge(e,"beforeSelectionChange")||e.cm&&ge(e.cm,"beforeSelectionChange"))&&(t=function(e,t,r){var n={ranges:t.ranges,update:function(t){this.ranges=[];for(var r=0;r<t.length;r++)this.ranges[r]=new Bo(st(e,t[r].anchor),st(e,t[r].head))},origin:r&&r.origin};return de(e,"beforeSelectionChange",e,n),e.cm&&de(e.cm,"beforeSelectionChange",e.cm,n),n.ranges!=t.ranges?ko(e.cm,n.ranges,n.ranges.length-1):t}(e,t,r));var n=r&&r.bias||(tt(t.primary().head,e.sel.primary().head)<0?-1:1);ri(e,oi(e,t,n,!0)),r&&!1===r.scroll||!e.cm||"nocursor"==e.cm.getOption("readOnly")||Tn(e.cm)}function ri(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,me(e.cm)),sr(e,"cursorActivity",e))}function ni(e){ri(e,oi(e,e.sel,null,!1))}function oi(e,t,r,n){for(var o,i=0;i<t.ranges.length;i++){var a=t.ranges[i],s=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[i],l=ai(e,a.anchor,s&&s.anchor,r,n),_=ai(e,a.head,s&&s.head,r,n);(o||l!=a.anchor||_!=a.head)&&(o||(o=t.ranges.slice(0,i)),o[i]=new Bo(l,_))}return o?ko(e.cm,o,t.primIndex):t}function ii(e,t,r,n,o){var i=Ue(e,t.line);if(i.markedSpans)for(var a=0;a<i.markedSpans.length;++a){var s=i.markedSpans[a],l=s.marker,_="selectLeft"in l?!l.selectLeft:l.inclusiveLeft,c="selectRight"in l?!l.selectRight:l.inclusiveRight;if((null==s.from||(_?s.from<=t.ch:s.from<t.ch))&&(null==s.to||(c?s.to>=t.ch:s.to>t.ch))){if(o&&(de(l,"beforeCursorEnter"),l.explicitlyCleared)){if(i.markedSpans){--a;continue}break}if(!l.atomic)continue;if(r){var u=l.find(n<0?1:-1),f=void 0;if((n<0?c:_)&&(u=si(e,u,-n,u&&u.line==t.line?i:null)),u&&u.line==t.line&&(f=tt(u,r))&&(n<0?f<0:f>0))return ii(e,u,t,n,o)}var p=l.find(n<0?-1:1);return(n<0?_:c)&&(p=si(e,p,n,p.line==t.line?i:null)),p?ii(e,p,t,n,o):null}}return t}function ai(e,t,r,n,o){var i=n||1;return ii(e,t,r,i,o)||!o&&ii(e,t,r,i,!0)||ii(e,t,r,-i,o)||!o&&ii(e,t,r,-i,!0)||(e.cantEdit=!0,et(e.first,0))}function si(e,t,r,n){return r<0&&0==t.ch?t.line>e.first?st(e,et(t.line-1)):null:r>0&&t.ch==(n||Ue(e,t.line)).text.length?t.line<e.first+e.size-1?et(t.line+1,0):null:new et(t.line,t.ch+r)}function li(e){e.setSelection(et(e.firstLine(),0),et(e.lastLine()),z)}function _i(e,t,r){var n={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return n.canceled=!0}};return r&&(n.update=function(t,r,o,i){t&&(n.from=st(e,t)),r&&(n.to=st(e,r)),o&&(n.text=o),void 0!==i&&(n.origin=i)}),de(e,"beforeChange",e,n),e.cm&&de(e.cm,"beforeChange",e.cm,n),n.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:n.from,to:n.to,text:n.text,origin:n.origin}}function ci(e,t,r){if(e.cm){if(!e.cm.curOp)return eo(e.cm,ci)(e,t,r);if(e.cm.state.suppressEdits)return}if(!(ge(e,"beforeChange")||e.cm&&ge(e.cm,"beforeChange"))||(t=_i(e,t,!0))){var n=yt&&!r&&function(e,t,r){var n=null;if(e.iter(t.line,r.line+1,(function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var r=e.markedSpans[t].marker;!r.readOnly||n&&-1!=R(n,r)||(n||(n=[])).push(r)}})),!n)return null;for(var o=[{from:t,to:r}],i=0;i<n.length;++i)for(var a=n[i],s=a.find(0),l=0;l<o.length;++l){var _=o[l];if(!(tt(_.to,s.from)<0||tt(_.from,s.to)>0)){var c=[l,1],u=tt(_.from,s.from),f=tt(_.to,s.to);(u<0||!a.inclusiveLeft&&!u)&&c.push({from:_.from,to:s.from}),(f>0||!a.inclusiveRight&&!f)&&c.push({from:s.to,to:_.to}),o.splice.apply(o,c),l+=c.length-3}}return o}(e,t.from,t.to);if(n)for(var o=n.length-1;o>=0;--o)ui(e,{from:n[o].from,to:n[o].to,text:o?[""]:t.text,origin:t.origin});else ui(e,t)}}function ui(e,t){if(1!=t.text.length||""!=t.text[0]||0!=tt(t.from,t.to)){var r=No(e,t);Wo(e,t,r,e.cm?e.cm.curOp.id:NaN),di(e,t,r,Ct(e,t));var n=[];Mo(e,(function(e,r){r||-1!=R(n,e.history)||($i(e.history,t),n.push(e.history)),di(e,t,null,Ct(e,t))}))}}function fi(e,t,r){var n=e.cm&&e.cm.state.suppressEdits;if(!n||r){for(var o,i=e.history,a=e.sel,s="undo"==t?i.done:i.undone,l="undo"==t?i.undone:i.done,_=0;_<s.length&&(o=s[_],r?!o.ranges||o.equals(e.sel):o.ranges);_++);if(_!=s.length){for(i.lastOrigin=i.lastSelOrigin=null;;){if(!(o=s.pop()).ranges){if(n)return void s.push(o);break}if(Vo(o,l),r&&!o.equals(e.sel))return void ei(e,o,{clearRedo:!1});a=o}var c=[];Vo(a,l),l.push({changes:c,generation:i.generation}),i.generation=o.generation||++i.maxGeneration;for(var u=ge(e,"beforeChange")||e.cm&&ge(e.cm,"beforeChange"),f=function(r){var n=o.changes[r];if(n.origin=t,u&&!_i(e,n,!1))return s.length=0,{};c.push(Do(e,n));var i=r?No(e,n):G(s);di(e,n,i,Uo(e,n)),!r&&e.cm&&e.cm.scrollIntoView({from:n.from,to:So(n)});var a=[];Mo(e,(function(e,t){t||-1!=R(a,e.history)||($i(e.history,n),a.push(e.history)),di(e,n,null,Uo(e,n))}))},p=o.changes.length-1;p>=0;--p){var d=f(p);if(d)return d.v}}}}function pi(e,t){if(0!=t&&(e.first+=t,e.sel=new wo(Y(e.sel.ranges,(function(e){return new Bo(et(e.anchor.line+t,e.anchor.ch),et(e.head.line+t,e.head.ch))})),e.sel.primIndex),e.cm)){un(e.cm,e.first,e.first-t,t);for(var r=e.cm.display,n=r.viewFrom;n<r.viewTo;n++)fn(e.cm,n,"gutter")}}function di(e,t,r,n){if(e.cm&&!e.cm.curOp)return eo(e.cm,di)(e,t,r,n);if(t.to.line<e.first)pi(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var o=t.text.length-1-(e.first-t.from.line);pi(e,o),t={from:et(e.first,0),to:et(t.to.line+o,t.to.ch),text:[G(t.text)],origin:t.origin}}var i=e.lastLine();t.to.line>i&&(t={from:t.from,to:et(i,Ue(e,i).text.length),text:[t.text[0]],origin:t.origin}),t.removed=He(e,t.from,t.to),r||(r=No(e,t)),e.cm?function(e,t,r){var n=e.doc,o=e.display,i=t.from,a=t.to,s=!1,l=i.line;e.options.lineWrapping||(l=Ke(Pt(Ue(n,i.line))),n.iter(l,a.line+1,(function(e){if(e==o.maxLine)return s=!0,!0}))),n.sel.contains(t.from,t.to)>-1&&me(e),Io(n,t,r,sn(e)),e.options.lineWrapping||(n.iter(l,i.line+t.text.length,(function(e){var t=qt(e);t>o.maxLineLength&&(o.maxLine=e,o.maxLineLength=t,o.maxLineChanged=!0,s=!1)})),s&&(e.curOp.updateMaxLine=!0)),function(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var r=e.first,n=t-1;n>r;n--){var o=Ue(e,n).stateAfter;if(o&&(!(o instanceof _t)||n+o.lookAhead<t)){r=n+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,r)}}(n,i.line),no(e,400);var _=t.text.length-(a.line-i.line)-1;t.full?un(e):i.line!=a.line||1!=t.text.length||Ao(e.doc,t)?un(e,i.line,a.line+1,_):fn(e,i.line,"text");var c=ge(e,"changes"),u=ge(e,"change");if(u||c){var f={from:i,to:a,text:t.text,removed:t.removed,origin:t.origin};u&&sr(e,"change",e,f),c&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(f)}e.display.selForContextMenu=null}(e.cm,t,n):Io(e,t,n),ti(e,r,z),e.cantEdit&&ai(e,et(e.firstLine(),0))&&(e.cantEdit=!1)}}function hi(e,t,r,n,o){var i;n||(n=r),tt(n,r)<0&&(r=(i=[n,r])[0],n=i[1]),"string"==typeof t&&(t=e.splitLines(t)),ci(e,{from:r,to:n,text:t,origin:o})}function mi(e,t,r,n){r<e.line?e.line+=n:t<e.line&&(e.line=t,e.ch=0)}function gi(e,t,r,n){for(var o=0;o<e.length;++o){var i=e[o],a=!0;if(i.ranges){i.copied||((i=e[o]=i.deepCopy()).copied=!0);for(var s=0;s<i.ranges.length;s++)mi(i.ranges[s].anchor,t,r,n),mi(i.ranges[s].head,t,r,n)}else{for(var l=0;l<i.changes.length;++l){var _=i.changes[l];if(r<_.from.line)_.from=et(_.from.line+n,_.from.ch),_.to=et(_.to.line+n,_.to.ch);else if(t<=_.to.line){a=!1;break}}a||(e.splice(0,o+1),o=0)}}}function $i(e,t){var r=t.from.line,n=t.to.line,o=t.text.length-(n-r)-1;gi(e.done,r,n,o),gi(e.undone,r,n,o)}function vi(e,t,r,n){var o=t,i=t;return"number"==typeof t?i=Ue(e,at(e,t)):o=Ke(t),null==o?null:(n(i,o)&&e.cm&&fn(e.cm,o,r),i)}function bi(e){this.lines=e,this.parent=null;for(var t=0,r=0;r<e.length;++r)e[r].parent=this,t+=e[r].height;this.height=t}function yi(e){this.children=e;for(var t=0,r=0,n=0;n<e.length;++n){var o=e[n];t+=o.chunkSize(),r+=o.height,o.parent=this}this.size=t,this.height=r,this.parent=null}Bo.prototype.from=function(){return it(this.anchor,this.head)},Bo.prototype.to=function(){return ot(this.anchor,this.head)},Bo.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},bi.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var r=e,n=e+t;r<n;++r){var o=this.lines[r];this.height-=o.height,Ht(o),sr(o,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,r){this.height+=r,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var n=0;n<t.length;++n)t[n].parent=this},iterN:function(e,t,r){for(var n=e+t;e<n;++e)if(r(this.lines[e]))return!0}},yi.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var r=0;r<this.children.length;++r){var n=this.children[r],o=n.chunkSize();if(e<o){var i=Math.min(t,o-e),a=n.height;if(n.removeInner(e,i),this.height-=a-n.height,o==i&&(this.children.splice(r--,1),n.parent=null),0==(t-=i))break;e=0}else e-=o}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof bi))){var s=[];this.collapse(s),this.children=[new bi(s)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,r){this.size+=t.length,this.height+=r;for(var n=0;n<this.children.length;++n){var o=this.children[n],i=o.chunkSize();if(e<=i){if(o.insertInner(e,t,r),o.lines&&o.lines.length>50){for(var a=o.lines.length%25+25,s=a;s<o.lines.length;){var l=new bi(o.lines.slice(s,s+=25));o.height-=l.height,this.children.splice(++n,0,l),l.parent=this}o.lines=o.lines.slice(0,a),this.maybeSpill()}break}e-=i}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=new yi(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=t.size,e.height-=t.height;var r=R(e.parent.children,e);e.parent.children.splice(r+1,0,t)}else{var n=new yi(e.children);n.parent=e,e.children=[n,t],e=n}t.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,r){for(var n=0;n<this.children.length;++n){var o=this.children[n],i=o.chunkSize();if(e<i){var a=Math.min(t,i-e);if(o.iterN(e,a,r))return!0;if(0==(t-=a))break;e=0}else e-=i}}};var xi=function(e,t,r){if(r)for(var n in r)r.hasOwnProperty(n)&&(this[n]=r[n]);this.doc=e,this.node=t};function wi(e,t,r){Vt(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&jn(e,r)}xi.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,r=this.line,n=Ke(r);if(null!=n&&t){for(var o=0;o<t.length;++o)t[o]==this&&t.splice(o--,1);t.length||(r.widgets=null);var i=br(this);Ye(r,Math.max(0,r.height-i)),e&&(Qn(e,(function(){wi(e,r,-i),fn(e,n,"widget")})),sr(e,"lineWidgetCleared",e,this,n))}},xi.prototype.changed=function(){var e=this,t=this.height,r=this.doc.cm,n=this.line;this.height=null;var o=br(this)-t;o&&(Wt(this.doc,n)||Ye(n,n.height+o),r&&Qn(r,(function(){r.curOp.forceUpdate=!0,wi(r,n,o),sr(r,"lineWidgetChanged",r,e,Ke(n))})))},$e(xi);var Bi=0,ki=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++Bi};function Ci(e,t,r,n,o){if(n&&n.shared)return function(e,t,r,n,o){(n=F(n)).shared=!1;var i=[Ci(e,t,r,n,o)],a=i[0],s=n.widgetNode;return Mo(e,(function(e){s&&(n.widgetNode=s.cloneNode(!0)),i.push(Ci(e,st(e,t),st(e,r),n,o));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;a=G(i)})),new Si(i,a)}(e,t,r,n,o);if(e.cm&&!e.cm.curOp)return eo(e.cm,Ci)(e,t,r,n,o);var i=new ki(e,o),a=tt(t,r);if(n&&F(n,i,!1),a>0||0==a&&!1!==i.clearWhenEmpty)return i;if(i.replacedWith&&(i.collapsed=!0,i.widgetNode=j("span",[i.replacedWith],"CodeMirror-widget"),n.handleMouseEvents||i.widgetNode.setAttribute("cm-ignore-events","true"),n.insertLeft&&(i.widgetNode.insertLeft=!0)),i.collapsed){if(Ft(e,t.line,t,r,i)||t.line!=r.line&&Ft(e,r.line,t,r,i))throw new Error("Inserting collapsed marker partially overlapping an existing one");xt=!0}i.addToHistory&&Wo(e,{from:t,to:r,origin:"markText"},e.sel,NaN);var s,l=t.line,_=e.cm;if(e.iter(l,r.line+1,(function(n){_&&i.collapsed&&!_.options.lineWrapping&&Pt(n)==_.display.maxLine&&(s=!0),i.collapsed&&l!=t.line&&Ye(n,0),function(e,t,r){var n=r&&window.WeakSet&&(r.markedSpans||(r.markedSpans=new WeakSet));n&&n.has(e.markedSpans)?e.markedSpans.push(t):(e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],n&&n.add(e.markedSpans)),t.marker.attachLine(e)}(n,new wt(i,l==t.line?t.ch:null,l==r.line?r.ch:null),e.cm&&e.cm.curOp),++l})),i.collapsed&&e.iter(t.line,r.line+1,(function(t){Wt(e,t)&&Ye(t,0)})),i.clearOnEnter&&ue(i,"beforeCursorEnter",(function(){return i.clear()})),i.readOnly&&(yt=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),i.collapsed&&(i.id=++Bi,i.atomic=!0),_){if(s&&(_.curOp.updateMaxLine=!0),i.collapsed)un(_,t.line,r.line+1);else if(i.className||i.startStyle||i.endStyle||i.css||i.attributes||i.title)for(var c=t.line;c<=r.line;c++)fn(_,c,"text");i.atomic&&ni(_.doc),sr(_,"markerAdded",_,i)}return i}ki.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&Un(e),ge(this,"clear")){var r=this.find();r&&sr(this,"clear",r.from,r.to)}for(var n=null,o=null,i=0;i<this.lines.length;++i){var a=this.lines[i],s=Bt(a.markedSpans,this);e&&!this.collapsed?fn(e,Ke(a),"text"):e&&(null!=s.to&&(o=Ke(a)),null!=s.from&&(n=Ke(a))),a.markedSpans=kt(a.markedSpans,s),null==s.from&&this.collapsed&&!Wt(this.doc,a)&&e&&Ye(a,rn(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var l=0;l<this.lines.length;++l){var _=Pt(this.lines[l]),c=qt(_);c>e.display.maxLineLength&&(e.display.maxLine=_,e.display.maxLineLength=c,e.display.maxLineChanged=!0)}null!=n&&e&&this.collapsed&&un(e,n,o+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&ni(e.doc)),e&&sr(e,"markerCleared",e,this,n,o),t&&Hn(e),this.parent&&this.parent.clear()}},ki.prototype.find=function(e,t){var r,n;null==e&&"bookmark"==this.type&&(e=1);for(var o=0;o<this.lines.length;++o){var i=this.lines[o],a=Bt(i.markedSpans,this);if(null!=a.from&&(r=et(t?i:Ke(i),a.from),-1==e))return r;if(null!=a.to&&(n=et(t?i:Ke(i),a.to),1==e))return n}return r&&{from:r,to:n}},ki.prototype.changed=function(){var e=this,t=this.find(-1,!0),r=this,n=this.doc.cm;t&&n&&Qn(n,(function(){var o=t.line,i=Ke(t.line),a=jr(n,i);if(a&&(Fr(a),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!Wt(r.doc,o)&&null!=r.height){var s=r.height;r.height=null;var l=br(r)-s;l&&Ye(o,o.height+l)}sr(n,"markerChanged",n,e)}))},ki.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=R(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},ki.prototype.detachLine=function(e){if(this.lines.splice(R(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},$e(ki);var Si=function(e,t){this.markers=e,this.primary=t;for(var r=0;r<e.length;++r)e[r].parent=this};function Ei(e){return e.findMarks(et(e.first,0),e.clipPos(et(e.lastLine())),(function(e){return e.parent}))}function Ni(e){for(var t=function(t){var r=e[t],n=[r.primary.doc];Mo(r.primary.doc,(function(e){return n.push(e)}));for(var o=0;o<r.markers.length;o++){var i=r.markers[o];-1==R(n,i.doc)&&(i.parent=null,r.markers.splice(o--,1))}},r=0;r<e.length;r++)t(r)}Si.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();sr(this,"clear")}},Si.prototype.find=function(e,t){return this.primary.find(e,t)},$e(Si);var ji=0,Ti=function(e,t,r,n,o){if(!(this instanceof Ti))return new Ti(e,t,r,n,o);null==r&&(r=0),yi.call(this,[new bi([new Ut("",null)])]),this.first=r,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=r;var i=et(r,0);this.sel=Co(i),this.history=new Po(null),this.id=++ji,this.modeOption=t,this.lineSep=n,this.direction="rtl"==o?"rtl":"ltr",this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),Io(this,{from:i,to:i,text:e}),ei(this,Co(i),z)};Ti.prototype=X(yi.prototype,{constructor:Ti,iter:function(e,t,r){r?this.iterN(e-this.first,t-e,r):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var r=0,n=0;n<t.length;++n)r+=t[n].height;this.insertInner(e-this.first,t,r)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=Ge(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:ro((function(e){var t=et(this.first,0),r=this.first+this.size-1;ci(this,{from:t,to:et(r,Ue(this,r).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&On(this.cm,0,0),ei(this,Co(t),z)})),replaceRange:function(e,t,r,n){hi(this,e,t=st(this,t),r=r?st(this,r):t,n)},getRange:function(e,t,r){var n=He(this,st(this,e),st(this,t));return!1===r?n:""===r?n.join(""):n.join(r||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(Ze(this,e))return Ue(this,e)},getLineNumber:function(e){return Ke(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=Ue(this,e)),Pt(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return st(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:ro((function(e,t,r){Zo(this,st(this,"number"==typeof e?et(e,t||0):e),null,r)})),setSelection:ro((function(e,t,r){Zo(this,st(this,e),st(this,t||e),r)})),extendSelection:ro((function(e,t,r){Yo(this,st(this,e),t&&st(this,t),r)})),extendSelections:ro((function(e,t){Ko(this,lt(this,e),t)})),extendSelectionsBy:ro((function(e,t){Ko(this,lt(this,Y(this.sel.ranges,e)),t)})),setSelections:ro((function(e,t,r){if(e.length){for(var n=[],o=0;o<e.length;o++)n[o]=new Bo(st(this,e[o].anchor),st(this,e[o].head||e[o].anchor));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),ei(this,ko(this.cm,n,t),r)}})),addSelection:ro((function(e,t,r){var n=this.sel.ranges.slice(0);n.push(new Bo(st(this,e),st(this,t||e))),ei(this,ko(this.cm,n,n.length-1),r)})),getSelection:function(e){for(var t,r=this.sel.ranges,n=0;n<r.length;n++){var o=He(this,r[n].from(),r[n].to());t=t?t.concat(o):o}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],r=this.sel.ranges,n=0;n<r.length;n++){var o=He(this,r[n].from(),r[n].to());!1!==e&&(o=o.join(e||this.lineSeparator())),t[n]=o}return t},replaceSelection:function(e,t,r){for(var n=[],o=0;o<this.sel.ranges.length;o++)n[o]=e;this.replaceSelections(n,t,r||"+input")},replaceSelections:ro((function(e,t,r){for(var n=[],o=this.sel,i=0;i<o.ranges.length;i++){var a=o.ranges[i];n[i]={from:a.from(),to:a.to(),text:this.splitLines(e[i]),origin:r}}for(var s=t&&"end"!=t&&function(e,t,r){for(var n=[],o=et(e.first,0),i=o,a=0;a<t.length;a++){var s=t[a],l=jo(s.from,o,i),_=jo(So(s),o,i);if(o=s.to,i=_,"around"==r){var c=e.sel.ranges[a],u=tt(c.head,c.anchor)<0;n[a]=new Bo(u?_:l,u?l:_)}else n[a]=new Bo(l,l)}return new wo(n,e.sel.primIndex)}(this,n,t),l=n.length-1;l>=0;l--)ci(this,n[l]);s?Qo(this,s):this.cm&&Tn(this.cm)})),undo:ro((function(){fi(this,"undo")})),redo:ro((function(){fi(this,"redo")})),undoSelection:ro((function(){fi(this,"undo",!0)})),redoSelection:ro((function(){fi(this,"redo",!0)})),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,r=0,n=0;n<e.done.length;n++)e.done[n].ranges||++t;for(var o=0;o<e.undone.length;o++)e.undone[o].ranges||++r;return{undo:t,redo:r}},clearHistory:function(){var e=this;this.history=new Po(this.history),Mo(this,(function(t){return t.history=e.history}),!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:Ho(this.history.done),undone:Ho(this.history.undone)}},setHistory:function(e){var t=this.history=new Po(this.history);t.done=Ho(e.done.slice(0),null,!0),t.undone=Ho(e.undone.slice(0),null,!0)},setGutterMarker:ro((function(e,t,r){return vi(this,e,"gutter",(function(e){var n=e.gutterMarkers||(e.gutterMarkers={});return n[t]=r,!r&&te(n)&&(e.gutterMarkers=null),!0}))})),clearGutter:ro((function(e){var t=this;this.iter((function(r){r.gutterMarkers&&r.gutterMarkers[e]&&vi(t,r,"gutter",(function(){return r.gutterMarkers[e]=null,te(r.gutterMarkers)&&(r.gutterMarkers=null),!0}))}))})),lineInfo:function(e){var t;if("number"==typeof e){if(!Ze(this,e))return null;if(t=e,!(e=Ue(this,e)))return null}else if(null==(t=Ke(e)))return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:ro((function(e,t,r){return vi(this,e,"gutter"==t?"gutter":"class",(function(e){var n="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[n]){if(B(r).test(e[n]))return!1;e[n]+=" "+r}else e[n]=r;return!0}))})),removeLineClass:ro((function(e,t,r){return vi(this,e,"gutter"==t?"gutter":"class",(function(e){var n="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",o=e[n];if(!o)return!1;if(null==r)e[n]=null;else{var i=o.match(B(r));if(!i)return!1;var a=i.index+i[0].length;e[n]=o.slice(0,i.index)+(i.index&&a!=o.length?" ":"")+o.slice(a)||null}return!0}))})),addLineWidget:ro((function(e,t,r){return function(e,t,r,n){var o=new xi(e,r,n),i=e.cm;return i&&o.noHScroll&&(i.display.alignWidgets=!0),vi(e,t,"widget",(function(t){var r=t.widgets||(t.widgets=[]);if(null==o.insertAt?r.push(o):r.splice(Math.min(r.length,Math.max(0,o.insertAt)),0,o),o.line=t,i&&!Wt(e,t)){var n=Vt(t)<e.scrollTop;Ye(t,t.height+br(o)),n&&jn(i,o.height),i.curOp.forceUpdate=!0}return!0})),i&&sr(i,"lineWidgetAdded",i,o,"number"==typeof t?t:Ke(t)),o}(this,e,t,r)})),removeLineWidget:function(e){e.clear()},markText:function(e,t,r){return Ci(this,st(this,e),st(this,t),r,r&&r.type||"range")},setBookmark:function(e,t){var r={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return Ci(this,e=st(this,e),e,r,"bookmark")},findMarksAt:function(e){var t=[],r=Ue(this,(e=st(this,e)).line).markedSpans;if(r)for(var n=0;n<r.length;++n){var o=r[n];(null==o.from||o.from<=e.ch)&&(null==o.to||o.to>=e.ch)&&t.push(o.marker.parent||o.marker)}return t},findMarks:function(e,t,r){e=st(this,e),t=st(this,t);var n=[],o=e.line;return this.iter(e.line,t.line+1,(function(i){var a=i.markedSpans;if(a)for(var s=0;s<a.length;s++){var l=a[s];null!=l.to&&o==e.line&&e.ch>=l.to||null==l.from&&o!=e.line||null!=l.from&&o==t.line&&l.from>=t.ch||r&&!r(l.marker)||n.push(l.marker.parent||l.marker)}++o})),n},getAllMarks:function(){var e=[];return this.iter((function(t){var r=t.markedSpans;if(r)for(var n=0;n<r.length;++n)null!=r[n].from&&e.push(r[n].marker)})),e},posFromIndex:function(e){var t,r=this.first,n=this.lineSeparator().length;return this.iter((function(o){var i=o.text.length+n;if(i>e)return t=e,!0;e-=i,++r})),st(this,et(r,t))},indexFromPos:function(e){var t=(e=st(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var r=this.lineSeparator().length;return this.iter(this.first,e.line,(function(e){t+=e.text.length+r})),t},copy:function(e){var t=new Ti(Ge(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,r=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<r&&(r=e.to);var n=new Ti(Ge(this,t,r),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:e.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r],o=n.find(),i=e.clipPos(o.from),a=e.clipPos(o.to);if(tt(i,a)){var s=Ci(e,i,a,n.primary,n.primary.type);n.markers.push(s),s.parent=n}}}(n,Ei(this)),n},unlinkDoc:function(e){if(e instanceof Sa&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t)if(this.linked[t].doc==e){this.linked.splice(t,1),e.unlinkDoc(this),Ni(Ei(this));break}if(e.history==this.history){var r=[e.id];Mo(e,(function(e){return r.push(e.id)}),!0),e.history=new Po(null),e.history.done=Ho(this.history.done,r),e.history.undone=Ho(this.history.undone,r)}},iterLinkedDocs:function(e){Mo(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):Te(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:ro((function(e){var t;"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter((function(e){return e.order=null})),this.cm&&Qn(t=this.cm,(function(){Fo(t),un(t)})))}))}),Ti.prototype.eachLine=Ti.prototype.iter;var Oi=0;function Ai(e){var t=this;if(Ii(t),!he(t,e)&&!yr(t.display,e)){ve(e),a&&(Oi=+new Date);var r=_n(t,e,!0),n=e.dataTransfer.files;if(r&&!t.isReadOnly())if(n&&n.length&&window.FileReader&&window.File)for(var o=n.length,i=Array(o),s=0,l=function(){++s==o&&eo(t,(function(){var e={from:r=st(t.doc,r),to:r,text:t.doc.splitLines(i.filter((function(e){return null!=e})).join(t.doc.lineSeparator())),origin:"paste"};ci(t.doc,e),Qo(t.doc,Co(st(t.doc,r),st(t.doc,So(e))))}))()},_=function(e,r){if(t.options.allowDropFileTypes&&-1==R(t.options.allowDropFileTypes,e.type))l();else{var n=new FileReader;n.onerror=function(){return l()},n.onload=function(){var e=n.result;/[\x00-\x08\x0e-\x1f]{2}/.test(e)||(i[r]=e),l()},n.readAsText(e)}},c=0;c<n.length;c++)_(n[c],c);else{if(t.state.draggingText&&t.doc.sel.contains(r)>-1)return t.state.draggingText(e),void setTimeout((function(){return t.display.input.focus()}),20);try{var u=e.dataTransfer.getData("Text");if(u){var f;if(t.state.draggingText&&!t.state.draggingText.copy&&(f=t.listSelections()),ti(t.doc,Co(r,r)),f)for(var p=0;p<f.length;++p)hi(t.doc,"",f[p].anchor,f[p].head,"drag");t.replaceSelection(u,"around","paste"),t.display.input.focus()}}catch(e){}}}}function Ii(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Mi(e){if(document.getElementsByClassName){for(var t=document.getElementsByClassName("CodeMirror"),r=[],n=0;n<t.length;n++){var o=t[n].CodeMirror;o&&r.push(o)}r.length&&r[0].operation((function(){for(var t=0;t<r.length;t++)e(r[t])}))}}var Li=!1;function Fi(){var e;Li||(ue(window,"resize",(function(){null==e&&(e=setTimeout((function(){e=null,Mi(Pi)}),100))})),ue(window,"blur",(function(){return Mi(kn)})),Li=!0)}function Pi(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var Di={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Ri=0;Ri<10;Ri++)Di[Ri+48]=Di[Ri+96]=String(Ri);for(var Wi=65;Wi<=90;Wi++)Di[Wi]=String.fromCharCode(Wi);for(var zi=1;zi<=12;zi++)Di[zi+111]=Di[zi+63235]="F"+zi;var Vi={};function qi(e){var t,r,n,o,i=e.split(/-(?!$)/);e=i[i.length-1];for(var a=0;a<i.length-1;a++){var s=i[a];if(/^(cmd|meta|m)$/i.test(s))o=!0;else if(/^a(lt)?$/i.test(s))t=!0;else if(/^(c|ctrl|control)$/i.test(s))r=!0;else{if(!/^s(hift)?$/i.test(s))throw new Error("Unrecognized modifier name: "+s);n=!0}}return t&&(e="Alt-"+e),r&&(e="Ctrl-"+e),o&&(e="Cmd-"+e),n&&(e="Shift-"+e),e}function Ji(e){var t={};for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];if(/^(name|fallthrough|(de|at)tach)$/.test(r))continue;if("..."==n){delete e[r];continue}for(var o=Y(r.split(" "),qi),i=0;i<o.length;i++){var a=void 0,s=void 0;i==o.length-1?(s=o.join(" "),a=n):(s=o.slice(0,i+1).join(" "),a="...");var l=t[s];if(l){if(l!=a)throw new Error("Inconsistent bindings for "+s)}else t[s]=a}delete e[r]}for(var _ in t)e[_]=t[_];return e}function Ui(e,t,r,n){var o=(t=Ki(t)).call?t.call(e,n):t[e];if(!1===o)return"nothing";if("..."===o)return"multi";if(null!=o&&r(o))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return Ui(e,t.fallthrough,r,n);for(var i=0;i<t.fallthrough.length;i++){var a=Ui(e,t.fallthrough[i],r,n);if(a)return a}}}function Hi(e){var t="string"==typeof e?e:Di[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function Gi(e,t,r){var n=e;return t.altKey&&"Alt"!=n&&(e="Alt-"+e),(x?t.metaKey:t.ctrlKey)&&"Ctrl"!=n&&(e="Ctrl-"+e),(x?t.ctrlKey:t.metaKey)&&"Mod"!=n&&(e="Cmd-"+e),!r&&t.shiftKey&&"Shift"!=n&&(e="Shift-"+e),e}function Yi(e,t){if(u&&34==e.keyCode&&e.char)return!1;var r=Di[e.keyCode];return null!=r&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(r=e.code),Gi(r,e,t))}function Ki(e){return"string"==typeof e?Vi[e]:e}function Xi(e,t){for(var r=e.doc.sel.ranges,n=[],o=0;o<r.length;o++){for(var i=t(r[o]);n.length&&tt(i.from,G(n).to)<=0;){var a=n.pop();if(tt(a.from,i.from)<0){i.from=a.from;break}}n.push(i)}Qn(e,(function(){for(var t=n.length-1;t>=0;t--)hi(e.doc,"",n[t].from,n[t].to,"+delete");Tn(e)}))}function Zi(e,t,r){var n=oe(e.text,t+r,r);return n<0||n>e.text.length?null:n}function Qi(e,t,r){var n=Zi(e,t.ch,r);return null==n?null:new et(t.line,n,r<0?"after":"before")}function ea(e,t,r,n,o){if(e){"rtl"==t.doc.direction&&(o=-o);var i=_e(r,t.doc.direction);if(i){var a,s=o<0?G(i):i[0],l=o<0==(1==s.level)?"after":"before";if(s.level>0||"rtl"==t.doc.direction){var _=Tr(t,r);a=o<0?r.text.length-1:0;var c=Or(t,_,a).top;a=ie((function(e){return Or(t,_,e).top==c}),o<0==(1==s.level)?s.from:s.to-1,a),"before"==l&&(a=Zi(r,a,1))}else a=o<0?s.to:s.from;return new et(n,a,l)}}return new et(n,o<0?r.text.length:0,o<0?"before":"after")}Vi.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Vi.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Vi.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Vi.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Vi.default=$?Vi.macDefault:Vi.pcDefault;var ta={selectAll:li,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),z)},killLine:function(e){return Xi(e,(function(t){if(t.empty()){var r=Ue(e.doc,t.head.line).text.length;return t.head.ch==r&&t.head.line<e.lastLine()?{from:t.head,to:et(t.head.line+1,0)}:{from:t.head,to:et(t.head.line,r)}}return{from:t.from(),to:t.to()}}))},deleteLine:function(e){return Xi(e,(function(t){return{from:et(t.from().line,0),to:st(e.doc,et(t.to().line+1,0))}}))},delLineLeft:function(e){return Xi(e,(function(e){return{from:et(e.from().line,0),to:e.from()}}))},delWrappedLineLeft:function(e){return Xi(e,(function(t){var r=e.charCoords(t.head,"div").top+5;return{from:e.coordsChar({left:0,top:r},"div"),to:t.from()}}))},delWrappedLineRight:function(e){return Xi(e,(function(t){var r=e.charCoords(t.head,"div").top+5,n=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div");return{from:t.from(),to:n}}))},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(et(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(et(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy((function(t){return ra(e,t.head.line)}),{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy((function(t){return na(e,t.head)}),{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy((function(t){return function(e,t){var r=Ue(e.doc,t),n=function(e){for(var t;t=Mt(e);)e=t.find(1,!0).line;return e}(r);return n!=r&&(t=Ke(n)),ea(!0,e,r,t,-1)}(e,t.head.line)}),{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy((function(t){var r=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div")}),q)},goLineLeft:function(e){return e.extendSelectionsBy((function(t){var r=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:r},"div")}),q)},goLineLeftSmart:function(e){return e.extendSelectionsBy((function(t){var r=e.cursorCoords(t.head,"div").top+5,n=e.coordsChar({left:0,top:r},"div");return n.ch<e.getLine(n.line).search(/\S/)?na(e,t.head):n}),q)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"codepoint")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],r=e.listSelections(),n=e.options.tabSize,o=0;o<r.length;o++){var i=r[o].from(),a=P(e.getLine(i.line),i.ch,n);t.push(H(n-a%n))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return Qn(e,(function(){for(var t=e.listSelections(),r=[],n=0;n<t.length;n++)if(t[n].empty()){var o=t[n].head,i=Ue(e.doc,o.line).text;if(i)if(o.ch==i.length&&(o=new et(o.line,o.ch-1)),o.ch>0)o=new et(o.line,o.ch+1),e.replaceRange(i.charAt(o.ch-1)+i.charAt(o.ch-2),et(o.line,o.ch-2),o,"+transpose");else if(o.line>e.doc.first){var a=Ue(e.doc,o.line-1).text;a&&(o=new et(o.line,1),e.replaceRange(i.charAt(0)+e.doc.lineSeparator()+a.charAt(a.length-1),et(o.line-1,a.length-1),o,"+transpose"))}r.push(new Bo(o,o))}e.setSelections(r)}))},newlineAndIndent:function(e){return Qn(e,(function(){for(var t=e.listSelections(),r=t.length-1;r>=0;r--)e.replaceRange(e.doc.lineSeparator(),t[r].anchor,t[r].head,"+input");t=e.listSelections();for(var n=0;n<t.length;n++)e.indentLine(t[n].from().line,null,!0);Tn(e)}))},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function ra(e,t){var r=Ue(e.doc,t),n=Pt(r);return n!=r&&(t=Ke(n)),ea(!0,e,n,t,1)}function na(e,t){var r=ra(e,t.line),n=Ue(e.doc,r.line),o=_e(n,e.doc.direction);if(!o||0==o[0].level){var i=Math.max(r.ch,n.text.search(/\S/)),a=t.line==r.line&&t.ch<=i&&t.ch;return et(r.line,a?0:i,r.sticky)}return r}function oa(e,t,r){if("string"==typeof t&&!(t=ta[t]))return!1;e.display.input.ensurePolled();var n=e.display.shift,o=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r&&(e.display.shift=!1),o=t(e)!=W}finally{e.display.shift=n,e.state.suppressEdits=!1}return o}var ia=new D;function aa(e,t,r,n){var o=e.state.keySeq;if(o){if(Hi(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:ia.set(50,(function(){e.state.keySeq==o&&(e.state.keySeq=null,e.display.input.reset())})),sa(e,o+" "+t,r,n))return!0}return sa(e,t,r,n)}function sa(e,t,r,n){var o=function(e,t,r){for(var n=0;n<e.state.keyMaps.length;n++){var o=Ui(t,e.state.keyMaps[n],r,e);if(o)return o}return e.options.extraKeys&&Ui(t,e.options.extraKeys,r,e)||Ui(t,e.options.keyMap,r,e)}(e,t,n);return"multi"==o&&(e.state.keySeq=t),"handled"==o&&sr(e,"keyHandled",e,t,r),"handled"!=o&&"multi"!=o||(ve(r),yn(e)),!!o}function la(e,t){var r=Yi(t,!0);return!!r&&(t.shiftKey&&!e.state.keySeq?aa(e,"Shift-"+r,t,(function(t){return oa(e,t,!0)}))||aa(e,r,t,(function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return oa(e,t)})):aa(e,r,t,(function(t){return oa(e,t)})))}var _a=null;function ca(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField()||(t.curOp.focus=O(),he(t,e)))){a&&s<11&&27==e.keyCode&&(e.returnValue=!1);var n=e.keyCode;t.display.shift=16==n||e.shiftKey;var o=la(t,e);u&&(_a=o?n:null,o||88!=n||Ae||!($?e.metaKey:e.ctrlKey)||t.replaceSelection("",null,"cut")),r&&!$&&!o&&46==n&&e.shiftKey&&!e.ctrlKey&&document.execCommand&&document.execCommand("cut"),18!=n||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||function(e){var t=e.display.lineDiv;function r(e){18!=e.keyCode&&e.altKey||(C(t,"CodeMirror-crosshair"),pe(document,"keyup",r),pe(document,"mouseover",r))}A(t,"CodeMirror-crosshair"),ue(document,"keyup",r),ue(document,"mouseover",r)}(t)}}function ua(e){16==e.keyCode&&(this.doc.sel.shift=!1),he(this,e)}function fa(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField()||yr(t.display,e)||he(t,e)||e.ctrlKey&&!e.altKey||$&&e.metaKey)){var r=e.keyCode,n=e.charCode;if(u&&r==_a)return _a=null,void ve(e);if(!u||e.which&&!(e.which<10)||!la(t,e)){var o=String.fromCharCode(null==n?r:n);"\b"!=o&&(function(e,t,r){return aa(e,"'"+r+"'",t,(function(t){return oa(e,t,!0)}))}(t,e,o)||t.display.input.onKeyPress(e))}}}var pa,da,ha=function(e,t,r){this.time=e,this.pos=t,this.button=r};function ma(e){var t=this,r=t.display;if(!(he(t,e)||r.activeTouch&&r.input.supportsTouch()))if(r.input.ensurePolled(),r.shift=e.shiftKey,yr(r,e))l||(r.scroller.draggable=!1,setTimeout((function(){return r.scroller.draggable=!0}),100));else if(!va(t,e)){var n=_n(t,e),o=Be(e),i=n?function(e,t){var r=+new Date;return da&&da.compare(r,e,t)?(pa=da=null,"triple"):pa&&pa.compare(r,e,t)?(da=new ha(r,e,t),pa=null,"double"):(pa=new ha(r,e,t),da=null,"single")}(n,o):"single";window.focus(),1==o&&t.state.selectingText&&t.state.selectingText(e),n&&function(e,t,r,n,o){var i="Click";return"double"==n?i="Double"+i:"triple"==n&&(i="Triple"+i),aa(e,Gi(i=(1==t?"Left":2==t?"Middle":"Right")+i,o),o,(function(t){if("string"==typeof t&&(t=ta[t]),!t)return!1;var n=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n=t(e,r)!=W}finally{e.state.suppressEdits=!1}return n}))}(t,o,n,i,e)||(1==o?n?function(e,t,r,n){a?setTimeout(L(xn,e),0):e.curOp.focus=O();var o,i=function(e,t,r){var n=e.getOption("configureMouse"),o=n?n(e,t,r):{};if(null==o.unit){var i=v?r.shiftKey&&r.metaKey:r.altKey;o.unit=i?"rectangle":"single"==t?"char":"double"==t?"word":"line"}return(null==o.extend||e.doc.extend)&&(o.extend=e.doc.extend||r.shiftKey),null==o.addNew&&(o.addNew=$?r.metaKey:r.ctrlKey),null==o.moveOnDrag&&(o.moveOnDrag=!($?r.altKey:r.ctrlKey)),o}(e,r,n),_=e.doc.sel;e.options.dragDrop&&Se&&!e.isReadOnly()&&"single"==r&&(o=_.contains(t))>-1&&(tt((o=_.ranges[o]).from(),t)<0||t.xRel>0)&&(tt(o.to(),t)>0||t.xRel<0)?function(e,t,r,n){var o=e.display,i=!1,_=eo(e,(function(t){l&&(o.scroller.draggable=!1),e.state.draggingText=!1,e.state.delayingBlurEvent&&(e.hasFocus()?e.state.delayingBlurEvent=!1:wn(e)),pe(o.wrapper.ownerDocument,"mouseup",_),pe(o.wrapper.ownerDocument,"mousemove",c),pe(o.scroller,"dragstart",u),pe(o.scroller,"drop",_),i||(ve(t),n.addNew||Yo(e.doc,r,null,null,n.extend),l&&!f||a&&9==s?setTimeout((function(){o.wrapper.ownerDocument.body.focus({preventScroll:!0}),o.input.focus()}),20):o.input.focus())})),c=function(e){i=i||Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)>=10},u=function(){return i=!0};l&&(o.scroller.draggable=!0),e.state.draggingText=_,_.copy=!n.moveOnDrag,ue(o.wrapper.ownerDocument,"mouseup",_),ue(o.wrapper.ownerDocument,"mousemove",c),ue(o.scroller,"dragstart",u),ue(o.scroller,"drop",_),e.state.delayingBlurEvent=!0,setTimeout((function(){return o.input.focus()}),20),o.scroller.dragDrop&&o.scroller.dragDrop()}(e,n,t,i):function(e,t,r,n){a&&wn(e);var o=e.display,i=e.doc;ve(t);var s,l,_=i.sel,c=_.ranges;if(n.addNew&&!n.extend?(l=i.sel.contains(r),s=l>-1?c[l]:new Bo(r,r)):(s=i.sel.primary(),l=i.sel.primIndex),"rectangle"==n.unit)n.addNew||(s=new Bo(r,r)),r=_n(e,t,!0,!0),l=-1;else{var u=ga(e,r,n.unit);s=n.extend?Go(s,u.anchor,u.head,n.extend):u}n.addNew?-1==l?(l=c.length,ei(i,ko(e,c.concat([s]),l),{scroll:!1,origin:"*mouse"})):c.length>1&&c[l].empty()&&"char"==n.unit&&!n.extend?(ei(i,ko(e,c.slice(0,l).concat(c.slice(l+1)),0),{scroll:!1,origin:"*mouse"}),_=i.sel):Xo(i,l,s,V):(l=0,ei(i,new wo([s],0),V),_=i.sel);var f=r;function p(t){if(0!=tt(f,t))if(f=t,"rectangle"==n.unit){for(var o=[],a=e.options.tabSize,c=P(Ue(i,r.line).text,r.ch,a),u=P(Ue(i,t.line).text,t.ch,a),p=Math.min(c,u),d=Math.max(c,u),h=Math.min(r.line,t.line),m=Math.min(e.lastLine(),Math.max(r.line,t.line));h<=m;h++){var g=Ue(i,h).text,$=J(g,p,a);p==d?o.push(new Bo(et(h,$),et(h,$))):g.length>$&&o.push(new Bo(et(h,$),et(h,J(g,d,a))))}o.length||o.push(new Bo(r,r)),ei(i,ko(e,_.ranges.slice(0,l).concat(o),l),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var v,b=s,y=ga(e,t,n.unit),x=b.anchor;tt(y.anchor,x)>0?(v=y.head,x=it(b.from(),y.anchor)):(v=y.anchor,x=ot(b.to(),y.head));var w=_.ranges.slice(0);w[l]=function(e,t){var r=t.anchor,n=t.head,o=Ue(e.doc,r.line);if(0==tt(r,n)&&r.sticky==n.sticky)return t;var i=_e(o);if(!i)return t;var a=se(i,r.ch,r.sticky),s=i[a];if(s.from!=r.ch&&s.to!=r.ch)return t;var l,_=a+(s.from==r.ch==(1!=s.level)?0:1);if(0==_||_==i.length)return t;if(n.line!=r.line)l=(n.line-r.line)*("ltr"==e.doc.direction?1:-1)>0;else{var c=se(i,n.ch,n.sticky),u=c-a||(n.ch-r.ch)*(1==s.level?-1:1);l=c==_-1||c==_?u<0:u>0}var f=i[_+(l?-1:0)],p=l==(1==f.level),d=p?f.from:f.to,h=p?"after":"before";return r.ch==d&&r.sticky==h?t:new Bo(new et(r.line,d,h),n)}(e,new Bo(st(i,x),v)),ei(i,ko(e,w,l),V)}}var d=o.wrapper.getBoundingClientRect(),h=0;function m(t){var r=++h,a=_n(e,t,!0,"rectangle"==n.unit);if(a)if(0!=tt(a,f)){e.curOp.focus=O(),p(a);var s=En(o,i);(a.line>=s.to||a.line<s.from)&&setTimeout(eo(e,(function(){h==r&&m(t)})),150)}else{var l=t.clientY<d.top?-20:t.clientY>d.bottom?20:0;l&&setTimeout(eo(e,(function(){h==r&&(o.scroller.scrollTop+=l,m(t))})),50)}}function g(t){e.state.selectingText=!1,h=1/0,t&&(ve(t),o.input.focus()),pe(o.wrapper.ownerDocument,"mousemove",$),pe(o.wrapper.ownerDocument,"mouseup",v),i.history.lastSelOrigin=null}var $=eo(e,(function(e){0!==e.buttons&&Be(e)?m(e):g(e)})),v=eo(e,g);e.state.selectingText=v,ue(o.wrapper.ownerDocument,"mousemove",$),ue(o.wrapper.ownerDocument,"mouseup",v)}(e,n,t,i)}(t,n,i,e):we(e)==r.scroller&&ve(e):2==o?(n&&Yo(t.doc,n),setTimeout((function(){return r.input.focus()}),20)):3==o&&(w?t.display.input.onContextMenu(e):wn(t)))}}function ga(e,t,r){if("char"==r)return new Bo(t,t);if("word"==r)return e.findWordAt(t);if("line"==r)return new Bo(et(t.line,0),st(e.doc,et(t.line+1,0)));var n=r(e,t);return new Bo(n.from,n.to)}function $a(e,t,r,n){var o,i;if(t.touches)o=t.touches[0].clientX,i=t.touches[0].clientY;else try{o=t.clientX,i=t.clientY}catch(e){return!1}if(o>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;n&&ve(t);var a=e.display,s=a.lineDiv.getBoundingClientRect();if(i>s.bottom||!ge(e,r))return ye(t);i-=s.top-a.viewOffset;for(var l=0;l<e.display.gutterSpecs.length;++l){var _=a.gutters.childNodes[l];if(_&&_.getBoundingClientRect().right>=o)return de(e,r,e,Xe(e.doc,i),e.display.gutterSpecs[l].className,t),ye(t)}}function va(e,t){return $a(e,t,"gutterClick",!0)}function ba(e,t){yr(e.display,t)||function(e,t){return!!ge(e,"gutterContextMenu")&&$a(e,t,"gutterContextMenu",!1)}(e,t)||he(e,t,"contextmenu")||w||e.display.input.onContextMenu(t)}function ya(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Dr(e)}ha.prototype.compare=function(e,t,r){return this.time+400>e&&0==tt(t,this.pos)&&r==this.button};var xa={toString:function(){return"CodeMirror.Init"}},wa={},Ba={};function ka(e,t,r){if(!t!=!(r&&r!=xa)){var n=e.display.dragFunctions,o=t?ue:pe;o(e.display.scroller,"dragstart",n.start),o(e.display.scroller,"dragenter",n.enter),o(e.display.scroller,"dragover",n.over),o(e.display.scroller,"dragleave",n.leave),o(e.display.scroller,"drop",n.drop)}}function Ca(e){e.options.lineWrapping?(A(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(C(e.display.wrapper,"CodeMirror-wrap"),Jt(e)),ln(e),un(e),Dr(e),setTimeout((function(){return Wn(e)}),100)}function Sa(e,t){var r=this;if(!(this instanceof Sa))return new Sa(e,t);this.options=t=t?F(t):{},F(wa,t,!1);var n=t.value;"string"==typeof n?n=new Ti(n,t.mode,null,t.lineSeparator,t.direction):t.mode&&(n.modeOption=t.mode),this.doc=n;var o=new Sa.inputStyles[t.inputStyle](this),i=this.display=new go(e,n,o,t);for(var _ in i.wrapper.CodeMirror=this,ya(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),qn(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new D,keySeq:null,specialChars:null},t.autofocus&&!g&&i.input.focus(),a&&s<11&&setTimeout((function(){return r.display.input.reset(!0)}),20),function(e){var t=e.display;ue(t.scroller,"mousedown",eo(e,ma)),ue(t.scroller,"dblclick",a&&s<11?eo(e,(function(t){if(!he(e,t)){var r=_n(e,t);if(r&&!va(e,t)&&!yr(e.display,t)){ve(t);var n=e.findWordAt(r);Yo(e.doc,n.anchor,n.head)}}})):function(t){return he(e,t)||ve(t)}),ue(t.scroller,"contextmenu",(function(t){return ba(e,t)})),ue(t.input.getField(),"contextmenu",(function(r){t.scroller.contains(r.target)||ba(e,r)}));var r,n={end:0};function o(){t.activeTouch&&(r=setTimeout((function(){return t.activeTouch=null}),1e3),(n=t.activeTouch).end=+new Date)}function i(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function l(e,t){if(null==t.left)return!0;var r=t.left-e.left,n=t.top-e.top;return r*r+n*n>400}ue(t.scroller,"touchstart",(function(o){if(!he(e,o)&&!i(o)&&!va(e,o)){t.input.ensurePolled(),clearTimeout(r);var a=+new Date;t.activeTouch={start:a,moved:!1,prev:a-n.end<=300?n:null},1==o.touches.length&&(t.activeTouch.left=o.touches[0].pageX,t.activeTouch.top=o.touches[0].pageY)}})),ue(t.scroller,"touchmove",(function(){t.activeTouch&&(t.activeTouch.moved=!0)})),ue(t.scroller,"touchend",(function(r){var n=t.activeTouch;if(n&&!yr(t,r)&&null!=n.left&&!n.moved&&new Date-n.start<300){var i,a=e.coordsChar(t.activeTouch,"page");i=!n.prev||l(n,n.prev)?new Bo(a,a):!n.prev.prev||l(n,n.prev.prev)?e.findWordAt(a):new Bo(et(a.line,0),st(e.doc,et(a.line+1,0))),e.setSelection(i.anchor,i.head),e.focus(),ve(r)}o()})),ue(t.scroller,"touchcancel",o),ue(t.scroller,"scroll",(function(){t.scroller.clientHeight&&(Mn(e,t.scroller.scrollTop),Fn(e,t.scroller.scrollLeft,!0),de(e,"scroll",e))})),ue(t.scroller,"mousewheel",(function(t){return xo(e,t)})),ue(t.scroller,"DOMMouseScroll",(function(t){return xo(e,t)})),ue(t.wrapper,"scroll",(function(){return t.wrapper.scrollTop=t.wrapper.scrollLeft=0})),t.dragFunctions={enter:function(t){he(e,t)||xe(t)},over:function(t){he(e,t)||(function(e,t){var r=_n(e,t);if(r){var n=document.createDocumentFragment();$n(e,r,n),e.display.dragCursor||(e.display.dragCursor=N("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),E(e.display.dragCursor,n)}}(e,t),xe(t))},start:function(t){return function(e,t){if(a&&(!e.state.draggingText||+new Date-Oi<100))xe(t);else if(!he(e,t)&&!yr(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!f)){var r=N("img",null,null,"position: fixed; left: 0; top: 0;");r.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",u&&(r.width=r.height=1,e.display.wrapper.appendChild(r),r._top=r.offsetTop),t.dataTransfer.setDragImage(r,0,0),u&&r.parentNode.removeChild(r)}}(e,t)},drop:eo(e,Ai),leave:function(t){he(e,t)||Ii(e)}};var _=t.input.getField();ue(_,"keyup",(function(t){return ua.call(e,t)})),ue(_,"keydown",eo(e,ca)),ue(_,"keypress",eo(e,fa)),ue(_,"focus",(function(t){return Bn(e,t)})),ue(_,"blur",(function(t){return kn(e,t)}))}(this),Fi(),Un(this),this.curOp.forceUpdate=!0,Lo(this,n),t.autofocus&&!g||this.hasFocus()?setTimeout((function(){r.hasFocus()&&!r.state.focused&&Bn(r)}),20):kn(this),Ba)Ba.hasOwnProperty(_)&&Ba[_](this,t[_],xa);fo(this),t.finishInit&&t.finishInit(this);for(var c=0;c<Ea.length;++c)Ea[c](this);Hn(this),l&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(i.lineDiv).textRendering&&(i.lineDiv.style.textRendering="auto")}Sa.defaults=wa,Sa.optionHandlers=Ba;var Ea=[];function Na(e,t,r,n){var o,i=e.doc;null==r&&(r="add"),"smart"==r&&(i.mode.indent?o=pt(e,t).state:r="prev");var a=e.options.tabSize,s=Ue(i,t),l=P(s.text,null,a);s.stateAfter&&(s.stateAfter=null);var _,c=s.text.match(/^\s*/)[0];if(n||/\S/.test(s.text)){if("smart"==r&&((_=i.mode.indent(o,s.text.slice(c.length),s.text))==W||_>150)){if(!n)return;r="prev"}}else _=0,r="not";"prev"==r?_=t>i.first?P(Ue(i,t-1).text,null,a):0:"add"==r?_=l+e.options.indentUnit:"subtract"==r?_=l-e.options.indentUnit:"number"==typeof r&&(_=l+r),_=Math.max(0,_);var u="",f=0;if(e.options.indentWithTabs)for(var p=Math.floor(_/a);p;--p)f+=a,u+="\t";if(f<_&&(u+=H(_-f)),u!=c)return hi(i,u,et(t,0),et(t,c.length),"+input"),s.stateAfter=null,!0;for(var d=0;d<i.sel.ranges.length;d++){var h=i.sel.ranges[d];if(h.head.line==t&&h.head.ch<c.length){var m=et(t,c.length);Xo(i,d,new Bo(m,m));break}}}Sa.defineInitHook=function(e){return Ea.push(e)};var ja=null;function Ta(e){ja=e}function Oa(e,t,r,n,o){var i=e.doc;e.display.shift=!1,n||(n=i.sel);var a=+new Date-200,s="paste"==o||e.state.pasteIncoming>a,l=Te(t),_=null;if(s&&n.ranges.length>1)if(ja&&ja.text.join("\n")==t){if(n.ranges.length%ja.text.length==0){_=[];for(var c=0;c<ja.text.length;c++)_.push(i.splitLines(ja.text[c]))}}else l.length==n.ranges.length&&e.options.pasteLinesPerSelection&&(_=Y(l,(function(e){return[e]})));for(var u=e.curOp.updateInput,f=n.ranges.length-1;f>=0;f--){var p=n.ranges[f],d=p.from(),h=p.to();p.empty()&&(r&&r>0?d=et(d.line,d.ch-r):e.state.overwrite&&!s?h=et(h.line,Math.min(Ue(i,h.line).text.length,h.ch+G(l).length)):s&&ja&&ja.lineWise&&ja.text.join("\n")==l.join("\n")&&(d=h=et(d.line,0)));var m={from:d,to:h,text:_?_[f%_.length]:l,origin:o||(s?"paste":e.state.cutIncoming>a?"cut":"+input")};ci(e.doc,m),sr(e,"inputRead",e,m)}t&&!s&&Ia(e,t),Tn(e),e.curOp.updateInput<2&&(e.curOp.updateInput=u),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function Aa(e,t){var r=e.clipboardData&&e.clipboardData.getData("Text");if(r)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||Qn(t,(function(){return Oa(t,r,0,null,"paste")})),!0}function Ia(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var r=e.doc.sel,n=r.ranges.length-1;n>=0;n--){var o=r.ranges[n];if(!(o.head.ch>100||n&&r.ranges[n-1].head.line==o.head.line)){var i=e.getModeAt(o.head),a=!1;if(i.electricChars){for(var s=0;s<i.electricChars.length;s++)if(t.indexOf(i.electricChars.charAt(s))>-1){a=Na(e,o.head.line,"smart");break}}else i.electricInput&&i.electricInput.test(Ue(e.doc,o.head.line).text.slice(0,o.head.ch))&&(a=Na(e,o.head.line,"smart"));a&&sr(e,"electricInput",e,o.head.line)}}}function Ma(e){for(var t=[],r=[],n=0;n<e.doc.sel.ranges.length;n++){var o=e.doc.sel.ranges[n].head.line,i={anchor:et(o,0),head:et(o+1,0)};r.push(i),t.push(e.getRange(i.anchor,i.head))}return{text:t,ranges:r}}function La(e,t,r,n){e.setAttribute("autocorrect",r?"":"off"),e.setAttribute("autocapitalize",n?"":"off"),e.setAttribute("spellcheck",!!t)}function Fa(){var e=N("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=N("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return l?e.style.width="1000px":e.setAttribute("wrap","off"),h&&(e.style.border="1px solid black"),La(e),t}function Pa(e,t,r,n,o){var i=t,a=r,s=Ue(e,t.line),l=o&&"rtl"==e.direction?-r:r;function _(i){var a,_;if("codepoint"==n){var c=s.text.charCodeAt(t.ch+(r>0?0:-1));if(isNaN(c))a=null;else{var u=r>0?c>=55296&&c<56320:c>=56320&&c<57343;a=new et(t.line,Math.max(0,Math.min(s.text.length,t.ch+r*(u?2:1))),-r)}}else a=o?function(e,t,r,n){var o=_e(t,e.doc.direction);if(!o)return Qi(t,r,n);r.ch>=t.text.length?(r.ch=t.text.length,r.sticky="before"):r.ch<=0&&(r.ch=0,r.sticky="after");var i=se(o,r.ch,r.sticky),a=o[i];if("ltr"==e.doc.direction&&a.level%2==0&&(n>0?a.to>r.ch:a.from<r.ch))return Qi(t,r,n);var s,l=function(e,r){return Zi(t,e instanceof et?e.ch:e,r)},_=function(r){return e.options.lineWrapping?(s=s||Tr(e,t),Xr(e,t,s,r)):{begin:0,end:t.text.length}},c=_("before"==r.sticky?l(r,-1):r.ch);if("rtl"==e.doc.direction||1==a.level){var u=1==a.level==n<0,f=l(r,u?1:-1);if(null!=f&&(u?f<=a.to&&f<=c.end:f>=a.from&&f>=c.begin)){var p=u?"before":"after";return new et(r.line,f,p)}}var d=function(e,t,n){for(var i=function(e,t){return t?new et(r.line,l(e,1),"before"):new et(r.line,e,"after")};e>=0&&e<o.length;e+=t){var a=o[e],s=t>0==(1!=a.level),_=s?n.begin:l(n.end,-1);if(a.from<=_&&_<a.to)return i(_,s);if(_=s?a.from:l(a.to,-1),n.begin<=_&&_<n.end)return i(_,s)}},h=d(i+n,n,c);if(h)return h;var m=n>0?c.end:l(c.begin,-1);return null==m||n>0&&m==t.text.length||!(h=d(n>0?0:o.length-1,n,_(m)))?null:h}(e.cm,s,t,r):Qi(s,t,r);if(null==a){if(i||((_=t.line+l)<e.first||_>=e.first+e.size||(t=new et(_,t.ch,t.sticky),!(s=Ue(e,_)))))return!1;t=ea(o,e.cm,s,t.line,l)}else t=a;return!0}if("char"==n||"codepoint"==n)_();else if("column"==n)_(!0);else if("word"==n||"group"==n)for(var c=null,u="group"==n,f=e.cm&&e.cm.getHelper(t,"wordChars"),p=!0;!(r<0)||_(!p);p=!1){var d=s.text.charAt(t.ch)||"\n",h=ee(d,f)?"w":u&&"\n"==d?"n":!u||/\s/.test(d)?null:"p";if(!u||p||h||(h="s"),c&&c!=h){r<0&&(r=1,_(),t.sticky="after");break}if(h&&(c=h),r>0&&!_(!p))break}var m=ai(e,t,i,a,!0);return rt(i,m)&&(m.hitSide=!0),m}function Da(e,t,r,n){var o,i,a=e.doc,s=t.left;if("page"==n){var l=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),_=Math.max(l-.5*rn(e.display),3);o=(r>0?t.bottom:t.top)+r*_}else"line"==n&&(o=r>0?t.bottom+3:t.top-3);for(;(i=Yr(e,s,o)).outside;){if(r<0?o<=0:o>=a.height){i.hitSide=!0;break}o+=5*r}return i}var Ra=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new D,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function Wa(e,t){var r=jr(e,t.line);if(!r||r.hidden)return null;var n=Ue(e.doc,t.line),o=Er(r,n,t.line),i=_e(n,e.doc.direction),a="left";i&&(a=se(i,t.ch)%2?"right":"left");var s=Mr(o.map,t.ch,a);return s.offset="right"==s.collapse?s.end:s.start,s}function za(e,t){return t&&(e.bad=!0),e}function Va(e,t,r){var n;if(t==e.display.lineDiv){if(!(n=e.display.lineDiv.childNodes[r]))return za(e.clipPos(et(e.display.viewTo-1)),!0);t=null,r=0}else for(n=t;;n=n.parentNode){if(!n||n==e.display.lineDiv)return null;if(n.parentNode&&n.parentNode==e.display.lineDiv)break}for(var o=0;o<e.display.view.length;o++){var i=e.display.view[o];if(i.node==n)return qa(i,t,r)}}function qa(e,t,r){var n=e.text.firstChild,o=!1;if(!t||!T(n,t))return za(et(Ke(e.line),0),!0);if(t==n&&(o=!0,t=n.childNodes[r],r=0,!t)){var i=e.rest?G(e.rest):e.line;return za(et(Ke(i),i.text.length),o)}var a=3==t.nodeType?t:null,s=t;for(a||1!=t.childNodes.length||3!=t.firstChild.nodeType||(a=t.firstChild,r&&(r=a.nodeValue.length));s.parentNode!=n;)s=s.parentNode;var l=e.measure,_=l.maps;function c(t,r,n){for(var o=-1;o<(_?_.length:0);o++)for(var i=o<0?l.map:_[o],a=0;a<i.length;a+=3){var s=i[a+2];if(s==t||s==r){var c=Ke(o<0?e.line:e.rest[o]),u=i[a]+n;return(n<0||s!=t)&&(u=i[a+(n?1:0)]),et(c,u)}}}var u=c(a,s,r);if(u)return za(u,o);for(var f=s.nextSibling,p=a?a.nodeValue.length-r:0;f;f=f.nextSibling){if(u=c(f,f.firstChild,0))return za(et(u.line,u.ch-p),o);p+=f.textContent.length}for(var d=s.previousSibling,h=r;d;d=d.previousSibling){if(u=c(d,d.firstChild,-1))return za(et(u.line,u.ch+h),o);h+=d.textContent.length}}Ra.prototype.init=function(e){var t=this,r=this,n=r.cm,o=r.div=e.lineDiv;function i(e){for(var t=e.target;t;t=t.parentNode){if(t==o)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(t.className))break}return!1}function a(e){if(i(e)&&!he(n,e)){if(n.somethingSelected())Ta({lineWise:!1,text:n.getSelections()}),"cut"==e.type&&n.replaceSelection("",null,"cut");else{if(!n.options.lineWiseCopyCut)return;var t=Ma(n);Ta({lineWise:!0,text:t.text}),"cut"==e.type&&n.operation((function(){n.setSelections(t.ranges,0,z),n.replaceSelection("",null,"cut")}))}if(e.clipboardData){e.clipboardData.clearData();var a=ja.text.join("\n");if(e.clipboardData.setData("Text",a),e.clipboardData.getData("Text")==a)return void e.preventDefault()}var s=Fa(),l=s.firstChild;n.display.lineSpace.insertBefore(s,n.display.lineSpace.firstChild),l.value=ja.text.join("\n");var _=O();M(l),setTimeout((function(){n.display.lineSpace.removeChild(s),_.focus(),_==o&&r.showPrimarySelection()}),50)}}o.contentEditable=!0,La(o,n.options.spellcheck,n.options.autocorrect,n.options.autocapitalize),ue(o,"paste",(function(e){!i(e)||he(n,e)||Aa(e,n)||s<=11&&setTimeout(eo(n,(function(){return t.updateFromDOM()})),20)})),ue(o,"compositionstart",(function(e){t.composing={data:e.data,done:!1}})),ue(o,"compositionupdate",(function(e){t.composing||(t.composing={data:e.data,done:!1})})),ue(o,"compositionend",(function(e){t.composing&&(e.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)})),ue(o,"touchstart",(function(){return r.forceCompositionEnd()})),ue(o,"input",(function(){t.composing||t.readFromDOMSoon()})),ue(o,"copy",a),ue(o,"cut",a)},Ra.prototype.screenReaderLabelChanged=function(e){e?this.div.setAttribute("aria-label",e):this.div.removeAttribute("aria-label")},Ra.prototype.prepareSelection=function(){var e=gn(this.cm,!1);return e.focus=O()==this.div,e},Ra.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},Ra.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Ra.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,n=t.doc.sel.primary(),o=n.from(),i=n.to();if(t.display.viewTo==t.display.viewFrom||o.line>=t.display.viewTo||i.line<t.display.viewFrom)e.removeAllRanges();else{var a=Va(t,e.anchorNode,e.anchorOffset),s=Va(t,e.focusNode,e.focusOffset);if(!a||a.bad||!s||s.bad||0!=tt(it(a,s),o)||0!=tt(ot(a,s),i)){var l=t.display.view,_=o.line>=t.display.viewFrom&&Wa(t,o)||{node:l[0].measure.map[2],offset:0},c=i.line<t.display.viewTo&&Wa(t,i);if(!c){var u=l[l.length-1].measure,f=u.maps?u.maps[u.maps.length-1]:u.map;c={node:f[f.length-1],offset:f[f.length-2]-f[f.length-3]}}if(_&&c){var p,d=e.rangeCount&&e.getRangeAt(0);try{p=k(_.node,_.offset,c.offset,c.node)}catch(e){}p&&(!r&&t.state.focused?(e.collapse(_.node,_.offset),p.collapsed||(e.removeAllRanges(),e.addRange(p))):(e.removeAllRanges(),e.addRange(p)),d&&null==e.anchorNode?e.addRange(d):r&&this.startGracePeriod()),this.rememberSelection()}else e.removeAllRanges()}}},Ra.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout((function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation((function(){return e.cm.curOp.selectionChanged=!0}))}),20)},Ra.prototype.showMultipleSelections=function(e){E(this.cm.display.cursorDiv,e.cursors),E(this.cm.display.selectionDiv,e.selection)},Ra.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},Ra.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return T(this.div,t)},Ra.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()&&O()==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Ra.prototype.blur=function(){this.div.blur()},Ra.prototype.getField=function(){return this.div},Ra.prototype.supportsTouch=function(){return!0},Ra.prototype.receivedFocus=function(){var e=this;this.selectionInEditor()?this.pollSelection():Qn(this.cm,(function(){return e.cm.curOp.selectionChanged=!0})),this.polling.set(this.cm.options.pollInterval,(function t(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,t))}))},Ra.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},Ra.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=this.getSelection(),t=this.cm;if(m&&c&&this.cm.display.gutterSpecs.length&&function(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var r=Va(t,e.anchorNode,e.anchorOffset),n=Va(t,e.focusNode,e.focusOffset);r&&n&&Qn(t,(function(){ei(t.doc,Co(r,n),z),(r.bad||n.bad)&&(t.curOp.selectionChanged=!0)}))}}},Ra.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e,t,r,n=this.cm,o=n.display,i=n.doc.sel.primary(),a=i.from(),s=i.to();if(0==a.ch&&a.line>n.firstLine()&&(a=et(a.line-1,Ue(n.doc,a.line-1).length)),s.ch==Ue(n.doc,s.line).text.length&&s.line<n.lastLine()&&(s=et(s.line+1,0)),a.line<o.viewFrom||s.line>o.viewTo-1)return!1;a.line==o.viewFrom||0==(e=cn(n,a.line))?(t=Ke(o.view[0].line),r=o.view[0].node):(t=Ke(o.view[e].line),r=o.view[e-1].node.nextSibling);var l,_,c=cn(n,s.line);if(c==o.view.length-1?(l=o.viewTo-1,_=o.lineDiv.lastChild):(l=Ke(o.view[c+1].line)-1,_=o.view[c+1].node.previousSibling),!r)return!1;for(var u=n.doc.splitLines(function(e,t,r,n,o){var i="",a=!1,s=e.doc.lineSeparator(),l=!1;function _(){a&&(i+=s,l&&(i+=s),a=l=!1)}function c(e){e&&(_(),i+=e)}function u(t){if(1==t.nodeType){var r=t.getAttribute("cm-text");if(r)return void c(r);var i,f=t.getAttribute("cm-marker");if(f){var p=e.findMarks(et(n,0),et(o+1,0),(m=+f,function(e){return e.id==m}));return void(p.length&&(i=p[0].find(0))&&c(He(e.doc,i.from,i.to).join(s)))}if("false"==t.getAttribute("contenteditable"))return;var d=/^(pre|div|p|li|table|br)$/i.test(t.nodeName);if(!/^br$/i.test(t.nodeName)&&0==t.textContent.length)return;d&&_();for(var h=0;h<t.childNodes.length;h++)u(t.childNodes[h]);/^(pre|p)$/i.test(t.nodeName)&&(l=!0),d&&(a=!0)}else 3==t.nodeType&&c(t.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "));var m}for(;u(t),t!=r;)t=t.nextSibling,l=!1;return i}(n,r,_,t,l)),f=He(n.doc,et(t,0),et(l,Ue(n.doc,l).text.length));u.length>1&&f.length>1;)if(G(u)==G(f))u.pop(),f.pop(),l--;else{if(u[0]!=f[0])break;u.shift(),f.shift(),t++}for(var p=0,d=0,h=u[0],m=f[0],g=Math.min(h.length,m.length);p<g&&h.charCodeAt(p)==m.charCodeAt(p);)++p;for(var $=G(u),v=G(f),b=Math.min($.length-(1==u.length?p:0),v.length-(1==f.length?p:0));d<b&&$.charCodeAt($.length-d-1)==v.charCodeAt(v.length-d-1);)++d;if(1==u.length&&1==f.length&&t==a.line)for(;p&&p>a.ch&&$.charCodeAt($.length-d-1)==v.charCodeAt(v.length-d-1);)p--,d++;u[u.length-1]=$.slice(0,$.length-d).replace(/^\u200b+/,""),u[0]=u[0].slice(p).replace(/\u200b+$/,"");var y=et(t,p),x=et(l,f.length?G(f).length-d:0);return u.length>1||u[0]||tt(y,x)?(hi(n.doc,u,y,x,"+input"),!0):void 0},Ra.prototype.ensurePolled=function(){this.forceCompositionEnd()},Ra.prototype.reset=function(){this.forceCompositionEnd()},Ra.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Ra.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout((function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()}),80))},Ra.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||Qn(this.cm,(function(){return un(e.cm)}))},Ra.prototype.setUneditable=function(e){e.contentEditable="false"},Ra.prototype.onKeyPress=function(e){0==e.charCode||this.composing||(e.preventDefault(),this.cm.isReadOnly()||eo(this.cm,Oa)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},Ra.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},Ra.prototype.onContextMenu=function(){},Ra.prototype.resetPosition=function(){},Ra.prototype.needsContentAttribute=!0;var Ja=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new D,this.hasSelection=!1,this.composing=null};Ja.prototype.init=function(e){var t=this,r=this,n=this.cm;this.createField(e);var o=this.textarea;function i(e){if(!he(n,e)){if(n.somethingSelected())Ta({lineWise:!1,text:n.getSelections()});else{if(!n.options.lineWiseCopyCut)return;var t=Ma(n);Ta({lineWise:!0,text:t.text}),"cut"==e.type?n.setSelections(t.ranges,null,z):(r.prevInput="",o.value=t.text.join("\n"),M(o))}"cut"==e.type&&(n.state.cutIncoming=+new Date)}}e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),h&&(o.style.width="0px"),ue(o,"input",(function(){a&&s>=9&&t.hasSelection&&(t.hasSelection=null),r.poll()})),ue(o,"paste",(function(e){he(n,e)||Aa(e,n)||(n.state.pasteIncoming=+new Date,r.fastPoll())})),ue(o,"cut",i),ue(o,"copy",i),ue(e.scroller,"paste",(function(t){if(!yr(e,t)&&!he(n,t)){if(!o.dispatchEvent)return n.state.pasteIncoming=+new Date,void r.focus();var i=new Event("paste");i.clipboardData=t.clipboardData,o.dispatchEvent(i)}})),ue(e.lineSpace,"selectstart",(function(t){yr(e,t)||ve(t)})),ue(o,"compositionstart",(function(){var e=n.getCursor("from");r.composing&&r.composing.range.clear(),r.composing={start:e,range:n.markText(e,n.getCursor("to"),{className:"CodeMirror-composing"})}})),ue(o,"compositionend",(function(){r.composing&&(r.poll(),r.composing.range.clear(),r.composing=null)}))},Ja.prototype.createField=function(e){this.wrapper=Fa(),this.textarea=this.wrapper.firstChild},Ja.prototype.screenReaderLabelChanged=function(e){e?this.textarea.setAttribute("aria-label",e):this.textarea.removeAttribute("aria-label")},Ja.prototype.prepareSelection=function(){var e=this.cm,t=e.display,r=e.doc,n=gn(e);if(e.options.moveInputWithCursor){var o=Ur(e,r.sel.primary().head,"div"),i=t.wrapper.getBoundingClientRect(),a=t.lineDiv.getBoundingClientRect();n.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,o.top+a.top-i.top)),n.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,o.left+a.left-i.left))}return n},Ja.prototype.showSelection=function(e){var t=this.cm.display;E(t.cursorDiv,e.cursors),E(t.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},Ja.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var r=t.getSelection();this.textarea.value=r,t.state.focused&&M(this.textarea),a&&s>=9&&(this.hasSelection=r)}else e||(this.prevInput=this.textarea.value="",a&&s>=9&&(this.hasSelection=null))}},Ja.prototype.getField=function(){return this.textarea},Ja.prototype.supportsTouch=function(){return!1},Ja.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!g||O()!=this.textarea))try{this.textarea.focus()}catch(e){}},Ja.prototype.blur=function(){this.textarea.blur()},Ja.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Ja.prototype.receivedFocus=function(){this.slowPoll()},Ja.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,(function(){e.poll(),e.cm.state.focused&&e.slowPoll()}))},Ja.prototype.fastPoll=function(){var e=!1,t=this;t.pollingFast=!0,t.polling.set(20,(function r(){t.poll()||e?(t.pollingFast=!1,t.slowPoll()):(e=!0,t.polling.set(60,r))}))},Ja.prototype.poll=function(){var e=this,t=this.cm,r=this.textarea,n=this.prevInput;if(this.contextMenuPending||!t.state.focused||Oe(r)&&!n&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var o=r.value;if(o==n&&!t.somethingSelected())return!1;if(a&&s>=9&&this.hasSelection===o||$&&/[\uf700-\uf7ff]/.test(o))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var i=o.charCodeAt(0);if(8203!=i||n||(n="​"),8666==i)return this.reset(),this.cm.execCommand("undo")}for(var l=0,_=Math.min(n.length,o.length);l<_&&n.charCodeAt(l)==o.charCodeAt(l);)++l;return Qn(t,(function(){Oa(t,o.slice(l),n.length-l,null,e.composing?"*compose":null),o.length>1e3||o.indexOf("\n")>-1?r.value=e.prevInput="":e.prevInput=o,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))})),!0},Ja.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Ja.prototype.onKeyPress=function(){a&&s>=9&&(this.hasSelection=null),this.fastPoll()},Ja.prototype.onContextMenu=function(e){var t=this,r=t.cm,n=r.display,o=t.textarea;t.contextMenuPending&&t.contextMenuPending();var i=_n(r,e),_=n.scroller.scrollTop;if(i&&!u){r.options.resetSelectionOnContextMenu&&-1==r.doc.sel.contains(i)&&eo(r,ei)(r.doc,Co(i),z);var c,f=o.style.cssText,p=t.wrapper.style.cssText,d=t.wrapper.offsetParent.getBoundingClientRect();if(t.wrapper.style.cssText="position: static",o.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-d.top-5)+"px; left: "+(e.clientX-d.left-5)+"px;\n      z-index: 1000; background: "+(a?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",l&&(c=window.scrollY),n.input.focus(),l&&window.scrollTo(null,c),n.input.reset(),r.somethingSelected()||(o.value=t.prevInput=" "),t.contextMenuPending=g,n.selForContextMenu=r.doc.sel,clearTimeout(n.detectingSelectAll),a&&s>=9&&m(),w){xe(e);var h=function(){pe(window,"mouseup",h),setTimeout(g,20)};ue(window,"mouseup",h)}else setTimeout(g,50)}function m(){if(null!=o.selectionStart){var e=r.somethingSelected(),i="​"+(e?o.value:"");o.value="⇚",o.value=i,t.prevInput=e?"":"​",o.selectionStart=1,o.selectionEnd=i.length,n.selForContextMenu=r.doc.sel}}function g(){if(t.contextMenuPending==g&&(t.contextMenuPending=!1,t.wrapper.style.cssText=p,o.style.cssText=f,a&&s<9&&n.scrollbars.setScrollTop(n.scroller.scrollTop=_),null!=o.selectionStart)){(!a||a&&s<9)&&m();var e=0,i=function(){n.selForContextMenu==r.doc.sel&&0==o.selectionStart&&o.selectionEnd>0&&"​"==t.prevInput?eo(r,li)(r):e++<10?n.detectingSelectAll=setTimeout(i,500):(n.selForContextMenu=null,n.input.reset())};n.detectingSelectAll=setTimeout(i,200)}}},Ja.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e,this.textarea.readOnly=!!e},Ja.prototype.setUneditable=function(){},Ja.prototype.needsContentAttribute=!1,function(e){var t=e.optionHandlers;function r(r,n,o,i){e.defaults[r]=n,o&&(t[r]=i?function(e,t,r){r!=xa&&o(e,t,r)}:o)}e.defineOption=r,e.Init=xa,r("value","",(function(e,t){return e.setValue(t)}),!0),r("mode",null,(function(e,t){e.doc.modeOption=t,To(e)}),!0),r("indentUnit",2,To,!0),r("indentWithTabs",!1),r("smartIndent",!0),r("tabSize",4,(function(e){Oo(e),Dr(e),un(e)}),!0),r("lineSeparator",null,(function(e,t){if(e.doc.lineSep=t,t){var r=[],n=e.doc.first;e.doc.iter((function(e){for(var o=0;;){var i=e.text.indexOf(t,o);if(-1==i)break;o=i+t.length,r.push(et(n,i))}n++}));for(var o=r.length-1;o>=0;o--)hi(e.doc,t,r[o],et(r[o].line,r[o].ch+t.length))}})),r("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,(function(e,t,r){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),r!=xa&&e.refresh()})),r("specialCharPlaceholder",Zt,(function(e){return e.refresh()}),!0),r("electricChars",!0),r("inputStyle",g?"contenteditable":"textarea",(function(){throw new Error("inputStyle can not (yet) be changed in a running editor")}),!0),r("spellcheck",!1,(function(e,t){return e.getInputField().spellcheck=t}),!0),r("autocorrect",!1,(function(e,t){return e.getInputField().autocorrect=t}),!0),r("autocapitalize",!1,(function(e,t){return e.getInputField().autocapitalize=t}),!0),r("rtlMoveVisually",!b),r("wholeLineUpdateBefore",!0),r("theme","default",(function(e){ya(e),mo(e)}),!0),r("keyMap","default",(function(e,t,r){var n=Ki(t),o=r!=xa&&Ki(r);o&&o.detach&&o.detach(e,n),n.attach&&n.attach(e,o||null)})),r("extraKeys",null),r("configureMouse",null),r("lineWrapping",!1,Ca,!0),r("gutters",[],(function(e,t){e.display.gutterSpecs=po(t,e.options.lineNumbers),mo(e)}),!0),r("fixedGutter",!0,(function(e,t){e.display.gutters.style.left=t?an(e.display)+"px":"0",e.refresh()}),!0),r("coverGutterNextToScrollbar",!1,(function(e){return Wn(e)}),!0),r("scrollbarStyle","native",(function(e){qn(e),Wn(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)}),!0),r("lineNumbers",!1,(function(e,t){e.display.gutterSpecs=po(e.options.gutters,t),mo(e)}),!0),r("firstLineNumber",1,mo,!0),r("lineNumberFormatter",(function(e){return e}),mo,!0),r("showCursorWhenSelecting",!1,mn,!0),r("resetSelectionOnContextMenu",!0),r("lineWiseCopyCut",!0),r("pasteLinesPerSelection",!0),r("selectionsMayTouch",!1),r("readOnly",!1,(function(e,t){"nocursor"==t&&(kn(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)})),r("screenReaderLabel",null,(function(e,t){t=""===t?null:t,e.display.input.screenReaderLabelChanged(t)})),r("disableInput",!1,(function(e,t){t||e.display.input.reset()}),!0),r("dragDrop",!0,ka),r("allowDropFileTypes",null),r("cursorBlinkRate",530),r("cursorScrollMargin",0),r("cursorHeight",1,mn,!0),r("singleCursorHeightPerLine",!0,mn,!0),r("workTime",100),r("workDelay",100),r("flattenSpans",!0,Oo,!0),r("addModeClass",!1,Oo,!0),r("pollInterval",100),r("undoDepth",200,(function(e,t){return e.doc.history.undoDepth=t})),r("historyEventDelay",1250),r("viewportMargin",10,(function(e){return e.refresh()}),!0),r("maxHighlightLength",1e4,Oo,!0),r("moveInputWithCursor",!0,(function(e,t){t||e.display.input.resetPosition()})),r("tabindex",null,(function(e,t){return e.display.input.getField().tabIndex=t||""})),r("autofocus",null),r("direction","ltr",(function(e,t){return e.doc.setDirection(t)}),!0),r("phrases",null)}(Sa),function(e){var t=e.optionHandlers,r=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,r){var n=this.options,o=n[e];n[e]==r&&"mode"!=e||(n[e]=r,t.hasOwnProperty(e)&&eo(this,t[e])(this,r,o),de(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Ki(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,r=0;r<t.length;++r)if(t[r]==e||t[r].name==e)return t.splice(r,1),!0},addOverlay:to((function(t,r){var n=t.token?t:e.getMode(this.options,t);if(n.startState)throw new Error("Overlays may not be stateful.");(function(e,t,r){for(var n=0,o=r(t);n<e.length&&r(e[n])<=o;)n++;e.splice(n,0,t)})(this.state.overlays,{mode:n,modeSpec:t,opaque:r&&r.opaque,priority:r&&r.priority||0},(function(e){return e.priority})),this.state.modeGen++,un(this)})),removeOverlay:to((function(e){for(var t=this.state.overlays,r=0;r<t.length;++r){var n=t[r].modeSpec;if(n==e||"string"==typeof e&&n.name==e)return t.splice(r,1),this.state.modeGen++,void un(this)}})),indentLine:to((function(e,t,r){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),Ze(this.doc,e)&&Na(this,e,t,r)})),indentSelection:to((function(e){for(var t=this.doc.sel.ranges,r=-1,n=0;n<t.length;n++){var o=t[n];if(o.empty())o.head.line>r&&(Na(this,o.head.line,e,!0),r=o.head.line,n==this.doc.sel.primIndex&&Tn(this));else{var i=o.from(),a=o.to(),s=Math.max(r,i.line);r=Math.min(this.lastLine(),a.line-(a.ch?0:1))+1;for(var l=s;l<r;++l)Na(this,l,e);var _=this.doc.sel.ranges;0==i.ch&&t.length==_.length&&_[n].from().ch>0&&Xo(this.doc,n,new Bo(i,_[n].to()),z)}}})),getTokenAt:function(e,t){return $t(this,e,t)},getLineTokens:function(e,t){return $t(this,et(e),t,!0)},getTokenTypeAt:function(e){e=st(this.doc,e);var t,r=ft(this,Ue(this.doc,e.line)),n=0,o=(r.length-1)/2,i=e.ch;if(0==i)t=r[2];else for(;;){var a=n+o>>1;if((a?r[2*a-1]:0)>=i)o=a;else{if(!(r[2*a+1]<i)){t=r[2*a+2];break}n=a+1}}var s=t?t.indexOf("overlay "):-1;return s<0?t:0==s?null:t.slice(0,s-1)},getModeAt:function(t){var r=this.doc.mode;return r.innerMode?e.innerMode(r,this.getTokenAt(t).state).mode:r},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var n=[];if(!r.hasOwnProperty(t))return n;var o=r[t],i=this.getModeAt(e);if("string"==typeof i[t])o[i[t]]&&n.push(o[i[t]]);else if(i[t])for(var a=0;a<i[t].length;a++){var s=o[i[t][a]];s&&n.push(s)}else i.helperType&&o[i.helperType]?n.push(o[i.helperType]):o[i.name]&&n.push(o[i.name]);for(var l=0;l<o._global.length;l++){var _=o._global[l];_.pred(i,this)&&-1==R(n,_.val)&&n.push(_.val)}return n},getStateAfter:function(e,t){var r=this.doc;return pt(this,(e=at(r,null==e?r.first+r.size-1:e))+1,t).state},cursorCoords:function(e,t){var r=this.doc.sel.primary();return Ur(this,null==e?r.head:"object"==typeof e?st(this.doc,e):e?r.from():r.to(),t||"page")},charCoords:function(e,t){return Jr(this,st(this.doc,e),t||"page")},coordsChar:function(e,t){return Yr(this,(e=qr(this,e,t||"page")).left,e.top)},lineAtHeight:function(e,t){return e=qr(this,{top:e,left:0},t||"page").top,Xe(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,r){var n,o=!1;if("number"==typeof e){var i=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>i&&(e=i,o=!0),n=Ue(this.doc,e)}else n=e;return Vr(this,n,{top:0,left:0},t||"page",r||o).top+(o?this.doc.height-Vt(n):0)},defaultTextHeight:function(){return rn(this.display)},defaultCharWidth:function(){return nn(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,r,n,o){var i,a,s,l=this.display,_=(e=Ur(this,st(this.doc,e))).bottom,c=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),l.sizer.appendChild(t),"over"==n)_=e.top;else if("above"==n||"near"==n){var u=Math.max(l.wrapper.clientHeight,this.doc.height),f=Math.max(l.sizer.clientWidth,l.lineSpace.clientWidth);("above"==n||e.bottom+t.offsetHeight>u)&&e.top>t.offsetHeight?_=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=u&&(_=e.bottom),c+t.offsetWidth>f&&(c=f-t.offsetWidth)}t.style.top=_+"px",t.style.left=t.style.right="","right"==o?(c=l.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==o?c=0:"middle"==o&&(c=(l.sizer.clientWidth-t.offsetWidth)/2),t.style.left=c+"px"),r&&(i=this,a={left:c,top:_,right:c+t.offsetWidth,bottom:_+t.offsetHeight},null!=(s=Nn(i,a)).scrollTop&&Mn(i,s.scrollTop),null!=s.scrollLeft&&Fn(i,s.scrollLeft))},triggerOnKeyDown:to(ca),triggerOnKeyPress:to(fa),triggerOnKeyUp:ua,triggerOnMouseDown:to(ma),execCommand:function(e){if(ta.hasOwnProperty(e))return ta[e].call(null,this)},triggerElectric:to((function(e){Ia(this,e)})),findPosH:function(e,t,r,n){var o=1;t<0&&(o=-1,t=-t);for(var i=st(this.doc,e),a=0;a<t&&!(i=Pa(this.doc,i,o,r,n)).hitSide;++a);return i},moveH:to((function(e,t){var r=this;this.extendSelectionsBy((function(n){return r.display.shift||r.doc.extend||n.empty()?Pa(r.doc,n.head,e,t,r.options.rtlMoveVisually):e<0?n.from():n.to()}),q)})),deleteH:to((function(e,t){var r=this.doc.sel,n=this.doc;r.somethingSelected()?n.replaceSelection("",null,"+delete"):Xi(this,(function(r){var o=Pa(n,r.head,e,t,!1);return e<0?{from:o,to:r.head}:{from:r.head,to:o}}))})),findPosV:function(e,t,r,n){var o=1,i=n;t<0&&(o=-1,t=-t);for(var a=st(this.doc,e),s=0;s<t;++s){var l=Ur(this,a,"div");if(null==i?i=l.left:l.left=i,(a=Da(this,l,o,r)).hitSide)break}return a},moveV:to((function(e,t){var r=this,n=this.doc,o=[],i=!this.display.shift&&!n.extend&&n.sel.somethingSelected();if(n.extendSelectionsBy((function(a){if(i)return e<0?a.from():a.to();var s=Ur(r,a.head,"div");null!=a.goalColumn&&(s.left=a.goalColumn),o.push(s.left);var l=Da(r,s,e,t);return"page"==t&&a==n.sel.primary()&&jn(r,Jr(r,l,"div").top-s.top),l}),q),o.length)for(var a=0;a<n.sel.ranges.length;a++)n.sel.ranges[a].goalColumn=o[a]})),findWordAt:function(e){var t=Ue(this.doc,e.line).text,r=e.ch,n=e.ch;if(t){var o=this.getHelper(e,"wordChars");"before"!=e.sticky&&n!=t.length||!r?++n:--r;for(var i=t.charAt(r),a=ee(i,o)?function(e){return ee(e,o)}:/\s/.test(i)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!ee(e)};r>0&&a(t.charAt(r-1));)--r;for(;n<t.length&&a(t.charAt(n));)++n}return new Bo(et(e.line,r),et(e.line,n))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?A(this.display.cursorDiv,"CodeMirror-overwrite"):C(this.display.cursorDiv,"CodeMirror-overwrite"),de(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==O()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:to((function(e,t){On(this,e,t)})),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-kr(this)-this.display.barHeight,width:e.scrollWidth-kr(this)-this.display.barWidth,clientHeight:Sr(this),clientWidth:Cr(this)}},scrollIntoView:to((function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:et(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?function(e,t){An(e),e.curOp.scrollToPos=t}(this,e):In(this,e.from,e.to,e.margin)})),setSize:to((function(e,t){var r=this,n=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=n(e)),null!=t&&(this.display.wrapper.style.height=n(t)),this.options.lineWrapping&&Pr(this);var o=this.display.viewFrom;this.doc.iter(o,this.display.viewTo,(function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){fn(r,o,"widget");break}++o})),this.curOp.forceUpdate=!0,de(this,"refresh",this)})),operation:function(e){return Qn(this,e)},startOperation:function(){return Un(this)},endOperation:function(){return Hn(this)},refresh:to((function(){var e=this.display.cachedTextHeight;un(this),this.curOp.forceUpdate=!0,Dr(this),On(this,this.doc.scrollLeft,this.doc.scrollTop),_o(this.display),(null==e||Math.abs(e-rn(this.display))>.5||this.options.lineWrapping)&&ln(this),de(this,"refresh",this)})),swapDoc:to((function(e){var t=this.doc;return t.cm=null,this.state.selectingText&&this.state.selectingText(),Lo(this,e),Dr(this),this.display.input.reset(),On(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,sr(this,"swapDoc",this,t),t})),phrase:function(e){var t=this.options.phrases;return t&&Object.prototype.hasOwnProperty.call(t,e)?t[e]:e},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},$e(e),e.registerHelper=function(t,n,o){r.hasOwnProperty(t)||(r[t]=e[t]={_global:[]}),r[t][n]=o},e.registerGlobalHelper=function(t,n,o,i){e.registerHelper(t,n,i),r[t]._global.push({pred:o,val:i})}}(Sa);var Ua="iter insert remove copy getEditor constructor".split(" ");for(var Ha in Ti.prototype)Ti.prototype.hasOwnProperty(Ha)&&R(Ua,Ha)<0&&(Sa.prototype[Ha]=function(e){return function(){return e.apply(this.doc,arguments)}}(Ti.prototype[Ha]));return $e(Ti),Sa.inputStyles={textarea:Ja,contenteditable:Ra},Sa.defineMode=function(e){Sa.defaults.mode||"null"==e||(Sa.defaults.mode=e),Fe.apply(this,arguments)},Sa.defineMIME=function(e,t){Le[e]=t},Sa.defineMode("null",(function(){return{token:function(e){return e.skipToEnd()}}})),Sa.defineMIME("text/plain","null"),Sa.defineExtension=function(e,t){Sa.prototype[e]=t},Sa.defineDocExtension=function(e,t){Ti.prototype[e]=t},Sa.fromTextArea=function(e,t){if((t=t?F(t):{}).value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var r=O();t.autofocus=r==e||null!=e.getAttribute("autofocus")&&r==document.body}function n(){e.value=s.getValue()}var o;if(e.form&&(ue(e.form,"submit",n),!t.leaveSubmitMethodAlone)){var i=e.form;o=i.submit;try{var a=i.submit=function(){n(),i.submit=o,i.submit(),i.submit=a}}catch(e){}}t.finishInit=function(r){r.save=n,r.getTextArea=function(){return e},r.toTextArea=function(){r.toTextArea=isNaN,n(),e.parentNode.removeChild(r.getWrapperElement()),e.style.display="",e.form&&(pe(e.form,"submit",n),t.leaveSubmitMethodAlone||"function"!=typeof e.form.submit||(e.form.submit=o))}},e.style.display="none";var s=Sa((function(t){return e.parentNode.insertBefore(t,e.nextSibling)}),t);return s},function(e){e.off=pe,e.on=ue,e.wheelEventPixels=yo,e.Doc=Ti,e.splitLines=Te,e.countColumn=P,e.findColumn=J,e.isWordChar=Q,e.Pass=W,e.signal=de,e.Line=Ut,e.changeEnd=So,e.scrollbarModel=Vn,e.Pos=et,e.cmpPos=tt,e.modes=Me,e.mimeModes=Le,e.resolveMode=Pe,e.getMode=De,e.modeExtensions=Re,e.extendMode=We,e.copyState=ze,e.startState=qe,e.innerMode=Ve,e.commands=ta,e.keyMap=Vi,e.keyName=Yi,e.isModifierKey=Hi,e.lookupKey=Ui,e.normalizeKeyMap=Ji,e.StringStream=Je,e.SharedTextMarker=Si,e.TextMarker=ki,e.LineWidget=xi,e.e_preventDefault=ve,e.e_stopPropagation=be,e.e_stop=xe,e.addClass=A,e.contains=T,e.rmClass=C,e.keyNames=Di}(Sa),Sa.version="5.62.0",Sa}()},5321:(e,t,r)=>{!function(e){"use strict";function t(e){return new RegExp("^(("+e.join(")|(")+"))\\b")}var r=t(["and","or","not","is"]),n=["as","assert","break","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","lambda","pass","raise","return","try","while","with","yield","in"],o=["abs","all","any","bin","bool","bytearray","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip","__import__","NotImplemented","Ellipsis","__debug__"];function i(e){return e.scopes[e.scopes.length-1]}e.registerHelper("hintWords","python",n.concat(o)),e.defineMode("python",(function(a,s){for(var l="error",_=s.delimiters||s.singleDelimiters||/^[\(\)\[\]\{\}@,:`=;\.\\]/,c=[s.singleOperators,s.doubleOperators,s.doubleDelimiters,s.tripleDelimiters,s.operators||/^([-+*/%\/&|^]=?|[<>=]+|\/\/=?|\*\*=?|!=|[~!@]|\.\.\.)/],u=0;u<c.length;u++)c[u]||c.splice(u--,1);var f=s.hangingIndent||a.indentUnit,p=n,d=o;null!=s.extra_keywords&&(p=p.concat(s.extra_keywords)),null!=s.extra_builtins&&(d=d.concat(s.extra_builtins));var h=!(s.version&&Number(s.version)<3);if(h){var m=s.identifiers||/^[_A-Za-z\u00A1-\uFFFF][_A-Za-z0-9\u00A1-\uFFFF]*/;p=p.concat(["nonlocal","False","True","None","async","await"]),d=d.concat(["ascii","bytes","exec","print"]);var g=new RegExp("^(([rbuf]|(br)|(fr))?('{3}|\"{3}|['\"]))","i")}else m=s.identifiers||/^[_A-Za-z][_A-Za-z0-9]*/,p=p.concat(["exec","print"]),d=d.concat(["apply","basestring","buffer","cmp","coerce","execfile","file","intern","long","raw_input","reduce","reload","unichr","unicode","xrange","False","True","None"]),g=new RegExp("^(([rubf]|(ur)|(br))?('{3}|\"{3}|['\"]))","i");var $=t(p),v=t(d);function b(e,t){var r=e.sol()&&"\\"!=t.lastToken;if(r&&(t.indent=e.indentation()),r&&"py"==i(t).type){var n=i(t).offset;if(e.eatSpace()){var o=e.indentation();return o>n?x(t):o<n&&w(e,t)&&"#"!=e.peek()&&(t.errorToken=!0),null}var a=y(e,t);return n>0&&w(e,t)&&(a+=" error"),a}return y(e,t)}function y(e,t,n){if(e.eatSpace())return null;if(!n&&e.match(/^#.*/))return"comment";if(e.match(/^[0-9\.]/,!1)){var o=!1;if(e.match(/^[\d_]*\.\d+(e[\+\-]?\d+)?/i)&&(o=!0),e.match(/^[\d_]+\.\d*/)&&(o=!0),e.match(/^\.\d+/)&&(o=!0),o)return e.eat(/J/i),"number";var i=!1;if(e.match(/^0x[0-9a-f_]+/i)&&(i=!0),e.match(/^0b[01_]+/i)&&(i=!0),e.match(/^0o[0-7_]+/i)&&(i=!0),e.match(/^[1-9][\d_]*(e[\+\-]?[\d_]+)?/)&&(e.eat(/J/i),i=!0),e.match(/^0(?![\dx])/i)&&(i=!0),i)return e.eat(/L/i),"number"}if(e.match(g))return-1!==e.current().toLowerCase().indexOf("f")?(t.tokenize=function(e,t){for(;"rubf".indexOf(e.charAt(0).toLowerCase())>=0;)e=e.substr(1);var r=1==e.length,n="string";function o(e){return function(t,r){var n=y(t,r,!0);return"punctuation"==n&&("{"==t.current()?r.tokenize=o(e+1):"}"==t.current()&&(r.tokenize=e>1?o(e-1):i)),n}}function i(i,a){for(;!i.eol();)if(i.eatWhile(/[^'"\{\}\\]/),i.eat("\\")){if(i.next(),r&&i.eol())return n}else{if(i.match(e))return a.tokenize=t,n;if(i.match("{{"))return n;if(i.match("{",!1))return a.tokenize=o(0),i.current()?n:a.tokenize(i,a);if(i.match("}}"))return n;if(i.match("}"))return l;i.eat(/['"]/)}if(r){if(s.singleLineStringErrors)return l;a.tokenize=t}return n}return i.isString=!0,i}(e.current(),t.tokenize),t.tokenize(e,t)):(t.tokenize=function(e,t){for(;"rubf".indexOf(e.charAt(0).toLowerCase())>=0;)e=e.substr(1);var r=1==e.length,n="string";function o(o,i){for(;!o.eol();)if(o.eatWhile(/[^'"\\]/),o.eat("\\")){if(o.next(),r&&o.eol())return n}else{if(o.match(e))return i.tokenize=t,n;o.eat(/['"]/)}if(r){if(s.singleLineStringErrors)return l;i.tokenize=t}return n}return o.isString=!0,o}(e.current(),t.tokenize),t.tokenize(e,t));for(var a=0;a<c.length;a++)if(e.match(c[a]))return"operator";return e.match(_)?"punctuation":"."==t.lastToken&&e.match(m)?"property":e.match($)||e.match(r)?"keyword":e.match(v)?"builtin":e.match(/^(self|cls)\b/)?"variable-2":e.match(m)?"def"==t.lastToken||"class"==t.lastToken?"def":"variable":(e.next(),n?null:l)}function x(e){for(;"py"!=i(e).type;)e.scopes.pop();e.scopes.push({offset:i(e).offset+a.indentUnit,type:"py",align:null})}function w(e,t){for(var r=e.indentation();t.scopes.length>1&&i(t).offset>r;){if("py"!=i(t).type)return!0;t.scopes.pop()}return i(t).offset!=r}function B(e,t){e.sol()&&(t.beginningOfLine=!0,t.dedent=!1);var r=t.tokenize(e,t),n=e.current();if(t.beginningOfLine&&"@"==n)return e.match(m,!1)?"meta":h?"operator":l;if(/\S/.test(n)&&(t.beginningOfLine=!1),"variable"!=r&&"builtin"!=r||"meta"!=t.lastToken||(r="meta"),"pass"!=n&&"return"!=n||(t.dedent=!0),"lambda"==n&&(t.lambda=!0),":"==n&&!t.lambda&&"py"==i(t).type&&e.match(/^\s*(?:#|$)/,!1)&&x(t),1==n.length&&!/string|comment/.test(r)){var o="[({".indexOf(n);if(-1!=o&&function(e,t,r){var n=e.match(/^[\s\[\{\(]*(?:#|$)/,!1)?null:e.column()+1;t.scopes.push({offset:t.indent+f,type:r,align:n})}(e,t,"])}".slice(o,o+1)),-1!=(o="])}".indexOf(n))){if(i(t).type!=n)return l;t.indent=t.scopes.pop().offset-f}}return t.dedent&&e.eol()&&"py"==i(t).type&&t.scopes.length>1&&t.scopes.pop(),r}return{startState:function(e){return{tokenize:b,scopes:[{offset:e||0,type:"py",align:null}],indent:e||0,lastToken:null,lambda:!1,dedent:0}},token:function(e,t){var r=t.errorToken;r&&(t.errorToken=!1);var n=B(e,t);return n&&"comment"!=n&&(t.lastToken="keyword"==n||"punctuation"==n?e.current():n),"punctuation"==n&&(n=null),e.eol()&&t.lambda&&(t.lambda=!1),r?n+" "+l:n},indent:function(t,r){if(t.tokenize!=b)return t.tokenize.isString?e.Pass:0;var n=i(t),o=n.type==r.charAt(0)||"py"==n.type&&!t.dedent&&/^(else:|elif |except |finally:)/.test(r);return null!=n.align?n.align-(o?1:0):n.offset-(o?f:0)},electricInput:/^\s*([\}\]\)]|else:|elif |except |finally:)$/,closeBrackets:{triples:"'\""},lineComment:"#",fold:"indent"}})),e.defineMIME("text/x-python","python");var a;e.defineMIME("text/x-cython",{name:"python",extra_keywords:(a="by cdef cimport cpdef ctypedef enum except extern gil include nogil property public readonly struct union DEF IF ELIF ELSE",a.split(" "))})}(r(4631))},3501:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(3645),o=r.n(n)()((function(e){return e[1]}));o.push([e.id,"/* BASICS */\n\n.CodeMirror {\n  /* Set height, width, borders, and global font properties here */\n  font-family: monospace;\n  height: 300px;\n  color: black;\n  direction: ltr;\n}\n\n/* PADDING */\n\n.CodeMirror-lines {\n  padding: 4px 0; /* Vertical padding around content */\n}\n.CodeMirror pre.CodeMirror-line,\n.CodeMirror pre.CodeMirror-line-like {\n  padding: 0 4px; /* Horizontal padding of content */\n}\n\n.CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler {\n  background-color: white; /* The little square between H and V scrollbars */\n}\n\n/* GUTTER */\n\n.CodeMirror-gutters {\n  border-right: 1px solid #ddd;\n  background-color: #f7f7f7;\n  white-space: nowrap;\n}\n.CodeMirror-linenumbers {}\n.CodeMirror-linenumber {\n  padding: 0 3px 0 5px;\n  min-width: 20px;\n  text-align: right;\n  color: #999;\n  white-space: nowrap;\n}\n\n.CodeMirror-guttermarker { color: black; }\n.CodeMirror-guttermarker-subtle { color: #999; }\n\n/* CURSOR */\n\n.CodeMirror-cursor {\n  border-left: 1px solid black;\n  border-right: none;\n  width: 0;\n}\n/* Shown when moving in bi-directional text */\n.CodeMirror div.CodeMirror-secondarycursor {\n  border-left: 1px solid silver;\n}\n.cm-fat-cursor .CodeMirror-cursor {\n  width: auto;\n  border: 0 !important;\n  background: #7e7;\n}\n.cm-fat-cursor div.CodeMirror-cursors {\n  z-index: 1;\n}\n.cm-fat-cursor-mark {\n  background-color: rgba(20, 255, 20, 0.5);\n  -webkit-animation: blink 1.06s steps(1) infinite;\n  -moz-animation: blink 1.06s steps(1) infinite;\n  animation: blink 1.06s steps(1) infinite;\n}\n.cm-animate-fat-cursor {\n  width: auto;\n  border: 0;\n  -webkit-animation: blink 1.06s steps(1) infinite;\n  -moz-animation: blink 1.06s steps(1) infinite;\n  animation: blink 1.06s steps(1) infinite;\n  background-color: #7e7;\n}\n@-moz-keyframes blink {\n  0% {}\n  50% { background-color: transparent; }\n  100% {}\n}\n@-webkit-keyframes blink {\n  0% {}\n  50% { background-color: transparent; }\n  100% {}\n}\n@keyframes blink {\n  0% {}\n  50% { background-color: transparent; }\n  100% {}\n}\n\n/* Can style cursor different in overwrite (non-insert) mode */\n.CodeMirror-overwrite .CodeMirror-cursor {}\n\n.cm-tab { display: inline-block; text-decoration: inherit; }\n\n.CodeMirror-rulers {\n  position: absolute;\n  left: 0; right: 0; top: -50px; bottom: 0;\n  overflow: hidden;\n}\n.CodeMirror-ruler {\n  border-left: 1px solid #ccc;\n  top: 0; bottom: 0;\n  position: absolute;\n}\n\n/* DEFAULT THEME */\n\n.cm-s-default .cm-header {color: blue;}\n.cm-s-default .cm-quote {color: #090;}\n.cm-negative {color: #d44;}\n.cm-positive {color: #292;}\n.cm-header, .cm-strong {font-weight: bold;}\n.cm-em {font-style: italic;}\n.cm-link {text-decoration: underline;}\n.cm-strikethrough {text-decoration: line-through;}\n\n.cm-s-default .cm-keyword {color: #708;}\n.cm-s-default .cm-atom {color: #219;}\n.cm-s-default .cm-number {color: #164;}\n.cm-s-default .cm-def {color: #00f;}\n.cm-s-default .cm-variable,\n.cm-s-default .cm-punctuation,\n.cm-s-default .cm-property,\n.cm-s-default .cm-operator {}\n.cm-s-default .cm-variable-2 {color: #05a;}\n.cm-s-default .cm-variable-3, .cm-s-default .cm-type {color: #085;}\n.cm-s-default .cm-comment {color: #a50;}\n.cm-s-default .cm-string {color: #a11;}\n.cm-s-default .cm-string-2 {color: #f50;}\n.cm-s-default .cm-meta {color: #555;}\n.cm-s-default .cm-qualifier {color: #555;}\n.cm-s-default .cm-builtin {color: #30a;}\n.cm-s-default .cm-bracket {color: #997;}\n.cm-s-default .cm-tag {color: #170;}\n.cm-s-default .cm-attribute {color: #00c;}\n.cm-s-default .cm-hr {color: #999;}\n.cm-s-default .cm-link {color: #00c;}\n\n.cm-s-default .cm-error {color: #f00;}\n.cm-invalidchar {color: #f00;}\n\n.CodeMirror-composing { border-bottom: 2px solid; }\n\n/* Default styles for common addons */\n\ndiv.CodeMirror span.CodeMirror-matchingbracket {color: #0b0;}\ndiv.CodeMirror span.CodeMirror-nonmatchingbracket {color: #a22;}\n.CodeMirror-matchingtag { background: rgba(255, 150, 0, .3); }\n.CodeMirror-activeline-background {background: #e8f2ff;}\n\n/* STOP */\n\n/* The rest of this file contains styles related to the mechanics of\n   the editor. You probably shouldn't touch them. */\n\n.CodeMirror {\n  position: relative;\n  overflow: hidden;\n  background: white;\n}\n\n.CodeMirror-scroll {\n  overflow: scroll !important; /* Things will break if this is overridden */\n  /* 50px is the magic margin used to hide the element's real scrollbars */\n  /* See overflow: hidden in .CodeMirror */\n  margin-bottom: -50px; margin-right: -50px;\n  padding-bottom: 50px;\n  height: 100%;\n  outline: none; /* Prevent dragging from highlighting the element */\n  position: relative;\n}\n.CodeMirror-sizer {\n  position: relative;\n  border-right: 50px solid transparent;\n}\n\n/* The fake, visible scrollbars. Used to force redraw during scrolling\n   before actual scrolling happens, thus preventing shaking and\n   flickering artifacts. */\n.CodeMirror-vscrollbar, .CodeMirror-hscrollbar, .CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler {\n  position: absolute;\n  z-index: 6;\n  display: none;\n  outline: none;\n}\n.CodeMirror-vscrollbar {\n  right: 0; top: 0;\n  overflow-x: hidden;\n  overflow-y: scroll;\n}\n.CodeMirror-hscrollbar {\n  bottom: 0; left: 0;\n  overflow-y: hidden;\n  overflow-x: scroll;\n}\n.CodeMirror-scrollbar-filler {\n  right: 0; bottom: 0;\n}\n.CodeMirror-gutter-filler {\n  left: 0; bottom: 0;\n}\n\n.CodeMirror-gutters {\n  position: absolute; left: 0; top: 0;\n  min-height: 100%;\n  z-index: 3;\n}\n.CodeMirror-gutter {\n  white-space: normal;\n  height: 100%;\n  display: inline-block;\n  vertical-align: top;\n  margin-bottom: -50px;\n}\n.CodeMirror-gutter-wrapper {\n  position: absolute;\n  z-index: 4;\n  background: none !important;\n  border: none !important;\n}\n.CodeMirror-gutter-background {\n  position: absolute;\n  top: 0; bottom: 0;\n  z-index: 4;\n}\n.CodeMirror-gutter-elt {\n  position: absolute;\n  cursor: default;\n  z-index: 4;\n}\n.CodeMirror-gutter-wrapper ::selection { background-color: transparent }\n.CodeMirror-gutter-wrapper ::-moz-selection { background-color: transparent }\n\n.CodeMirror-lines {\n  cursor: text;\n  min-height: 1px; /* prevents collapsing before first draw */\n}\n.CodeMirror pre.CodeMirror-line,\n.CodeMirror pre.CodeMirror-line-like {\n  /* Reset some styles that the rest of the page might have set */\n  -moz-border-radius: 0; -webkit-border-radius: 0; border-radius: 0;\n  border-width: 0;\n  background: transparent;\n  font-family: inherit;\n  font-size: inherit;\n  margin: 0;\n  white-space: pre;\n  word-wrap: normal;\n  line-height: inherit;\n  color: inherit;\n  z-index: 2;\n  position: relative;\n  overflow: visible;\n  -webkit-tap-highlight-color: transparent;\n  -webkit-font-variant-ligatures: contextual;\n  font-variant-ligatures: contextual;\n}\n.CodeMirror-wrap pre.CodeMirror-line,\n.CodeMirror-wrap pre.CodeMirror-line-like {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  word-break: normal;\n}\n\n.CodeMirror-linebackground {\n  position: absolute;\n  left: 0; right: 0; top: 0; bottom: 0;\n  z-index: 0;\n}\n\n.CodeMirror-linewidget {\n  position: relative;\n  z-index: 2;\n  padding: 0.1px; /* Force widget margins to stay inside of the container */\n}\n\n.CodeMirror-widget {}\n\n.CodeMirror-rtl pre { direction: rtl; }\n\n.CodeMirror-code {\n  outline: none;\n}\n\n/* Force content-box sizing for the elements where we expect it */\n.CodeMirror-scroll,\n.CodeMirror-sizer,\n.CodeMirror-gutter,\n.CodeMirror-gutters,\n.CodeMirror-linenumber {\n  -moz-box-sizing: content-box;\n  box-sizing: content-box;\n}\n\n.CodeMirror-measure {\n  position: absolute;\n  width: 100%;\n  height: 0;\n  overflow: hidden;\n  visibility: hidden;\n}\n\n.CodeMirror-cursor {\n  position: absolute;\n  pointer-events: none;\n}\n.CodeMirror-measure pre { position: static; }\n\ndiv.CodeMirror-cursors {\n  visibility: hidden;\n  position: relative;\n  z-index: 3;\n}\ndiv.CodeMirror-dragcursors {\n  visibility: visible;\n}\n\n.CodeMirror-focused div.CodeMirror-cursors {\n  visibility: visible;\n}\n\n.CodeMirror-selected { background: #d9d9d9; }\n.CodeMirror-focused .CodeMirror-selected { background: #d7d4f0; }\n.CodeMirror-crosshair { cursor: crosshair; }\n.CodeMirror-line::selection, .CodeMirror-line > span::selection, .CodeMirror-line > span > span::selection { background: #d7d4f0; }\n.CodeMirror-line::-moz-selection, .CodeMirror-line > span::-moz-selection, .CodeMirror-line > span > span::-moz-selection { background: #d7d4f0; }\n\n.cm-searching {\n  background-color: #ffa;\n  background-color: rgba(255, 255, 0, .4);\n}\n\n/* Used to force a border model for a node */\n.cm-force-border { padding-right: .1px; }\n\n@media print {\n  /* Hide the cursor when printing */\n  .CodeMirror div.CodeMirror-cursors {\n    visibility: hidden;\n  }\n}\n\n/* See issue #2901 */\n.cm-tab-wrap-hack:after { content: ''; }\n\n/* Help users use markselection to safely style text background */\nspan.CodeMirror-selectedtext { background: none; }\n",""]);const i=o},1368:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(3645),o=r.n(n)()((function(e){return e[1]}));o.push([e.id,"/*\n\tName:       Panda Syntax\n\tAuthor:     Siamak Mokhtari (http://github.com/siamak/)\n\tCodeMirror template by Siamak Mokhtari (https://github.com/siamak/atom-panda-syntax)\n*/\n.cm-s-panda-syntax {\n\tbackground: #292A2B;\n\tcolor: #E6E6E6;\n\tline-height: 1.2;\n\tfont-size:small;\n\tfont-family: 'Operator Mono', 'Source Code Pro', Menlo, Monaco, Consolas, Courier New, monospace;\n}\n.cm-s-panda-syntax .CodeMirror-cursor { border-color: #ff2c6d; }\n.cm-s-panda-syntax .CodeMirror-activeline-background {\n\tbackground: rgba(99, 123, 156, 0.1);\n}\n.cm-s-panda-syntax .CodeMirror-selected {\n\tbackground: rgba(255, 255, 255, 0.26);\n}\n.cm-s-panda-syntax .cm-comment {\n\tfont-style: italic;\n\tcolor: #c0c1c5;\n}\n.cm-s-panda-syntax .cm-operator {\n\tcolor: #f3f3f3;\n}\n.cm-s-panda-syntax .cm-string {\n\tcolor: #ffffff;\n}\n.cm-s-panda-syntax .cm-string-2 {\n    color: #FFB86C;\n}\n\n.cm-s-panda-syntax .cm-string-3 {\n    color: #99d1ff;\n}\n\n.cm-s-panda-syntax .cm-tag {\n\tcolor: #ff2c6d;\n}\n.cm-s-panda-syntax .cm-meta {\n\tcolor: #b084eb;\n}\n\n.cm-s-panda-syntax .cm-number {\n\tcolor: #FFB86C;\n}\n.cm-s-panda-syntax .cm-atom {\n\tcolor: #ff2c6d;\n}\n.cm-s-panda-syntax .cm-keyword {\n\tcolor: #ffadd3;\n}\n.cm-s-panda-syntax .cm-variable {\n\tcolor: #ffb86c;\n}\n.cm-s-panda-syntax .cm-variable-2 {\n\tcolor: #ff9ac1;\n}\n.cm-s-panda-syntax .cm-variable-3, .cm-s-panda-syntax .cm-type {\n\tcolor: #ff9ac1;\n}\n\n.cm-s-panda-syntax .cm-def {\n\tcolor: #e6e6e6;\n}\n.cm-s-panda-syntax .cm-property {\n\tcolor: #f3f3f3;\n}\n.cm-s-panda-syntax .cm-unit {\n    color: #ffb86c;\n}\n\n.cm-s-panda-syntax .cm-attribute {\n    color: #ffb86c;\n}\n\n.cm-s-panda-syntax .cm-age {\n    color: #ff9f9f;\n}\n\n.cm-s-panda-syntax .CodeMirror-matchingbracket {\n    border-bottom: 1px dotted #19F9D8;\n    padding-bottom: 2px;\n    color: #e6e6e6;\n}\n.cm-s-panda-syntax .CodeMirror-gutters {\n    background: #292a2b;\n    border-right-color: rgba(255, 255, 255, 0.1);\n}\n.cm-s-panda-syntax .CodeMirror-linenumber {\n    color: #e6e6e6;\n    opacity: 0.6;\n}\n\n\n",""]);const i=o},3645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r=e(t);return t[2]?"@media ".concat(t[2]," {").concat(r,"}"):r})).join("")},t.i=function(e,r,n){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(n)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(o[a]=!0)}for(var s=0;s<e.length;s++){var l=[].concat(e[s]);n&&o[l[0]]||(r&&(l[2]?l[2]="".concat(r," and ").concat(l[2]):l[2]=r),t.push(l))}},t}},8552:(e,t,r)=>{var n=r(852)(r(5639),"DataView");e.exports=n},1989:(e,t,r)=>{var n=r(1789),o=r(401),i=r(7667),a=r(1327),s=r(1866);function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=a,l.prototype.set=s,e.exports=l},8407:(e,t,r)=>{var n=r(7040),o=r(4125),i=r(2117),a=r(7518),s=r(4705);function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=a,l.prototype.set=s,e.exports=l},7071:(e,t,r)=>{var n=r(852)(r(5639),"Map");e.exports=n},3369:(e,t,r)=>{var n=r(4785),o=r(1285),i=r(6e3),a=r(9916),s=r(5265);function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=a,l.prototype.set=s,e.exports=l},3818:(e,t,r)=>{var n=r(852)(r(5639),"Promise");e.exports=n},8525:(e,t,r)=>{var n=r(852)(r(5639),"Set");e.exports=n},6384:(e,t,r)=>{var n=r(8407),o=r(7465),i=r(3779),a=r(7599),s=r(4758),l=r(4309);function _(e){var t=this.__data__=new n(e);this.size=t.size}_.prototype.clear=o,_.prototype.delete=i,_.prototype.get=a,_.prototype.has=s,_.prototype.set=l,e.exports=_},2705:(e,t,r)=>{var n=r(5639).Symbol;e.exports=n},1149:(e,t,r)=>{var n=r(5639).Uint8Array;e.exports=n},577:(e,t,r)=>{var n=r(852)(r(5639),"WeakMap");e.exports=n},7412:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}},4963:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,o=0,i=[];++r<n;){var a=e[r];t(a,r,e)&&(i[o++]=a)}return i}},4636:(e,t,r)=>{var n=r(2545),o=r(5694),i=r(1469),a=r(4144),s=r(5776),l=r(6719),_=Object.prototype.hasOwnProperty;e.exports=function(e,t){var r=i(e),c=!r&&o(e),u=!r&&!c&&a(e),f=!r&&!c&&!u&&l(e),p=r||c||u||f,d=p?n(e.length,String):[],h=d.length;for(var m in e)!t&&!_.call(e,m)||p&&("length"==m||u&&("offset"==m||"parent"==m)||f&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||s(m,h))||d.push(m);return d}},2488:e=>{e.exports=function(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}},4865:(e,t,r)=>{var n=r(9465),o=r(7813),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,r){var a=e[t];i.call(e,t)&&o(a,r)&&(void 0!==r||t in e)||n(e,t,r)}},8470:(e,t,r)=>{var n=r(7813);e.exports=function(e,t){for(var r=e.length;r--;)if(n(e[r][0],t))return r;return-1}},4037:(e,t,r)=>{var n=r(8363),o=r(3674);e.exports=function(e,t){return e&&n(t,o(t),e)}},3886:(e,t,r)=>{var n=r(8363),o=r(1704);e.exports=function(e,t){return e&&n(t,o(t),e)}},9465:(e,t,r)=>{var n=r(8777);e.exports=function(e,t,r){"__proto__"==t&&n?n(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}},5990:(e,t,r)=>{var n=r(6384),o=r(7412),i=r(4865),a=r(4037),s=r(3886),l=r(4626),_=r(278),c=r(8805),u=r(1911),f=r(8234),p=r(6904),d=r(4160),h=r(3824),m=r(9148),g=r(8517),$=r(1469),v=r(4144),b=r(6688),y=r(3218),x=r(2928),w=r(3674),B=r(1704),k="[object Arguments]",C="[object Function]",S="[object Object]",E={};E[k]=E["[object Array]"]=E["[object ArrayBuffer]"]=E["[object DataView]"]=E["[object Boolean]"]=E["[object Date]"]=E["[object Float32Array]"]=E["[object Float64Array]"]=E["[object Int8Array]"]=E["[object Int16Array]"]=E["[object Int32Array]"]=E["[object Map]"]=E["[object Number]"]=E[S]=E["[object RegExp]"]=E["[object Set]"]=E["[object String]"]=E["[object Symbol]"]=E["[object Uint8Array]"]=E["[object Uint8ClampedArray]"]=E["[object Uint16Array]"]=E["[object Uint32Array]"]=!0,E["[object Error]"]=E[C]=E["[object WeakMap]"]=!1,e.exports=function e(t,r,N,j,T,O){var A,I=1&r,M=2&r,L=4&r;if(N&&(A=T?N(t,j,T,O):N(t)),void 0!==A)return A;if(!y(t))return t;var F=$(t);if(F){if(A=h(t),!I)return _(t,A)}else{var P=d(t),D=P==C||"[object GeneratorFunction]"==P;if(v(t))return l(t,I);if(P==S||P==k||D&&!T){if(A=M||D?{}:g(t),!I)return M?u(t,s(A,t)):c(t,a(A,t))}else{if(!E[P])return T?t:{};A=m(t,P,I)}}O||(O=new n);var R=O.get(t);if(R)return R;O.set(t,A),x(t)?t.forEach((function(n){A.add(e(n,r,N,n,t,O))})):b(t)&&t.forEach((function(n,o){A.set(o,e(n,r,N,o,t,O))}));var W=F?void 0:(L?M?p:f:M?B:w)(t);return o(W||t,(function(n,o){W&&(n=t[o=n]),i(A,o,e(n,r,N,o,t,O))})),A}},3118:(e,t,r)=>{var n=r(3218),o=Object.create,i=function(){function e(){}return function(t){if(!n(t))return{};if(o)return o(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();e.exports=i},8866:(e,t,r)=>{var n=r(2488),o=r(1469);e.exports=function(e,t,r){var i=t(e);return o(e)?i:n(i,r(e))}},4239:(e,t,r)=>{var n=r(2705),o=r(9607),i=r(2333),a=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?o(e):i(e)}},9454:(e,t,r)=>{var n=r(4239),o=r(7005);e.exports=function(e){return o(e)&&"[object Arguments]"==n(e)}},5588:(e,t,r)=>{var n=r(4160),o=r(7005);e.exports=function(e){return o(e)&&"[object Map]"==n(e)}},8458:(e,t,r)=>{var n=r(3560),o=r(5346),i=r(3218),a=r(346),s=/^\[object .+?Constructor\]$/,l=Function.prototype,_=Object.prototype,c=l.toString,u=_.hasOwnProperty,f=RegExp("^"+c.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||o(e))&&(n(e)?f:s).test(a(e))}},9221:(e,t,r)=>{var n=r(4160),o=r(7005);e.exports=function(e){return o(e)&&"[object Set]"==n(e)}},8749:(e,t,r)=>{var n=r(4239),o=r(1780),i=r(7005),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&o(e.length)&&!!a[n(e)]}},280:(e,t,r)=>{var n=r(5726),o=r(6916),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return o(e);var t=[];for(var r in Object(e))i.call(e,r)&&"constructor"!=r&&t.push(r);return t}},313:(e,t,r)=>{var n=r(3218),o=r(5726),i=r(3498),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return i(e);var t=o(e),r=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&r.push(s);return r}},2545:e=>{e.exports=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}},1717:e=>{e.exports=function(e){return function(t){return e(t)}}},4318:(e,t,r)=>{var n=r(1149);e.exports=function(e){var t=new e.constructor(e.byteLength);return new n(t).set(new n(e)),t}},4626:(e,t,r)=>{e=r.nmd(e);var n=r(5639),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,a=i&&i.exports===o?n.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var r=e.length,n=s?s(r):new e.constructor(r);return e.copy(n),n}},7157:(e,t,r)=>{var n=r(4318);e.exports=function(e,t){var r=t?n(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}},3147:e=>{var t=/\w*$/;e.exports=function(e){var r=new e.constructor(e.source,t.exec(e));return r.lastIndex=e.lastIndex,r}},419:(e,t,r)=>{var n=r(2705),o=n?n.prototype:void 0,i=o?o.valueOf:void 0;e.exports=function(e){return i?Object(i.call(e)):{}}},7133:(e,t,r)=>{var n=r(4318);e.exports=function(e,t){var r=t?n(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}},278:e=>{e.exports=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}},8363:(e,t,r)=>{var n=r(4865),o=r(9465);e.exports=function(e,t,r,i){var a=!r;r||(r={});for(var s=-1,l=t.length;++s<l;){var _=t[s],c=i?i(r[_],e[_],_,r,e):void 0;void 0===c&&(c=e[_]),a?o(r,_,c):n(r,_,c)}return r}},8805:(e,t,r)=>{var n=r(8363),o=r(9551);e.exports=function(e,t){return n(e,o(e),t)}},1911:(e,t,r)=>{var n=r(8363),o=r(1442);e.exports=function(e,t){return n(e,o(e),t)}},4429:(e,t,r)=>{var n=r(5639)["__core-js_shared__"];e.exports=n},8777:(e,t,r)=>{var n=r(852),o=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=o},1957:(e,t,r)=>{var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;e.exports=n},8234:(e,t,r)=>{var n=r(8866),o=r(9551),i=r(3674);e.exports=function(e){return n(e,i,o)}},6904:(e,t,r)=>{var n=r(8866),o=r(1442),i=r(1704);e.exports=function(e){return n(e,i,o)}},5050:(e,t,r)=>{var n=r(7019);e.exports=function(e,t){var r=e.__data__;return n(t)?r["string"==typeof t?"string":"hash"]:r.map}},852:(e,t,r)=>{var n=r(8458),o=r(7801);e.exports=function(e,t){var r=o(e,t);return n(r)?r:void 0}},5924:(e,t,r)=>{var n=r(5569)(Object.getPrototypeOf,Object);e.exports=n},9607:(e,t,r)=>{var n=r(2705),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=n?n.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),r=e[s];try{e[s]=void 0;var n=!0}catch(e){}var o=a.call(e);return n&&(t?e[s]=r:delete e[s]),o}},9551:(e,t,r)=>{var n=r(4963),o=r(479),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),n(a(e),(function(t){return i.call(e,t)})))}:o;e.exports=s},1442:(e,t,r)=>{var n=r(2488),o=r(5924),i=r(9551),a=r(479),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)n(t,i(e)),e=o(e);return t}:a;e.exports=s},4160:(e,t,r)=>{var n=r(8552),o=r(7071),i=r(3818),a=r(8525),s=r(577),l=r(4239),_=r(346),c="[object Map]",u="[object Promise]",f="[object Set]",p="[object WeakMap]",d="[object DataView]",h=_(n),m=_(o),g=_(i),$=_(a),v=_(s),b=l;(n&&b(new n(new ArrayBuffer(1)))!=d||o&&b(new o)!=c||i&&b(i.resolve())!=u||a&&b(new a)!=f||s&&b(new s)!=p)&&(b=function(e){var t=l(e),r="[object Object]"==t?e.constructor:void 0,n=r?_(r):"";if(n)switch(n){case h:return d;case m:return c;case g:return u;case $:return f;case v:return p}return t}),e.exports=b},7801:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},1789:(e,t,r)=>{var n=r(4536);e.exports=function(){this.__data__=n?n(null):{},this.size=0}},401:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},7667:(e,t,r)=>{var n=r(4536),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(n){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return o.call(t,e)?t[e]:void 0}},1327:(e,t,r)=>{var n=r(4536),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return n?void 0!==t[e]:o.call(t,e)}},1866:(e,t,r)=>{var n=r(4536);e.exports=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=n&&void 0===t?"__lodash_hash_undefined__":t,this}},3824:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e){var r=e.length,n=new e.constructor(r);return r&&"string"==typeof e[0]&&t.call(e,"index")&&(n.index=e.index,n.input=e.input),n}},9148:(e,t,r)=>{var n=r(4318),o=r(7157),i=r(3147),a=r(419),s=r(7133);e.exports=function(e,t,r){var l=e.constructor;switch(t){case"[object ArrayBuffer]":return n(e);case"[object Boolean]":case"[object Date]":return new l(+e);case"[object DataView]":return o(e,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,r);case"[object Map]":return new l;case"[object Number]":case"[object String]":return new l(e);case"[object RegExp]":return i(e);case"[object Set]":return new l;case"[object Symbol]":return a(e)}}},8517:(e,t,r)=>{var n=r(3118),o=r(5924),i=r(5726);e.exports=function(e){return"function"!=typeof e.constructor||i(e)?{}:n(o(e))}},5776:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,r){var n=typeof e;return!!(r=null==r?9007199254740991:r)&&("number"==n||"symbol"!=n&&t.test(e))&&e>-1&&e%1==0&&e<r}},7019:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},5346:(e,t,r)=>{var n,o=r(4429),i=(n=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";e.exports=function(e){return!!i&&i in e}},5726:e=>{var t=Object.prototype;e.exports=function(e){var r=e&&e.constructor;return e===("function"==typeof r&&r.prototype||t)}},7040:e=>{e.exports=function(){this.__data__=[],this.size=0}},4125:(e,t,r)=>{var n=r(8470),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,r=n(t,e);return!(r<0||(r==t.length-1?t.pop():o.call(t,r,1),--this.size,0))}},2117:(e,t,r)=>{var n=r(8470);e.exports=function(e){var t=this.__data__,r=n(t,e);return r<0?void 0:t[r][1]}},7518:(e,t,r)=>{var n=r(8470);e.exports=function(e){return n(this.__data__,e)>-1}},4705:(e,t,r)=>{var n=r(8470);e.exports=function(e,t){var r=this.__data__,o=n(r,e);return o<0?(++this.size,r.push([e,t])):r[o][1]=t,this}},4785:(e,t,r)=>{var n=r(1989),o=r(8407),i=r(7071);e.exports=function(){this.size=0,this.__data__={hash:new n,map:new(i||o),string:new n}}},1285:(e,t,r)=>{var n=r(5050);e.exports=function(e){var t=n(this,e).delete(e);return this.size-=t?1:0,t}},6e3:(e,t,r)=>{var n=r(5050);e.exports=function(e){return n(this,e).get(e)}},9916:(e,t,r)=>{var n=r(5050);e.exports=function(e){return n(this,e).has(e)}},5265:(e,t,r)=>{var n=r(5050);e.exports=function(e,t){var r=n(this,e),o=r.size;return r.set(e,t),this.size+=r.size==o?0:1,this}},4536:(e,t,r)=>{var n=r(852)(Object,"create");e.exports=n},6916:(e,t,r)=>{var n=r(5569)(Object.keys,Object);e.exports=n},3498:e=>{e.exports=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}},1167:(e,t,r)=>{e=r.nmd(e);var n=r(1957),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,a=i&&i.exports===o&&n.process,s=function(){try{return i&&i.require&&i.require("util").types||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s},2333:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},5569:e=>{e.exports=function(e,t){return function(r){return e(t(r))}}},5639:(e,t,r)=>{var n=r(1957),o="object"==typeof self&&self&&self.Object===Object&&self,i=n||o||Function("return this")();e.exports=i},7465:(e,t,r)=>{var n=r(8407);e.exports=function(){this.__data__=new n,this.size=0}},3779:e=>{e.exports=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}},7599:e=>{e.exports=function(e){return this.__data__.get(e)}},4758:e=>{e.exports=function(e){return this.__data__.has(e)}},4309:(e,t,r)=>{var n=r(8407),o=r(7071),i=r(3369);e.exports=function(e,t){var r=this.__data__;if(r instanceof n){var a=r.__data__;if(!o||a.length<199)return a.push([e,t]),this.size=++r.size,this;r=this.__data__=new i(a)}return r.set(e,t),this.size=r.size,this}},346:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},361:(e,t,r)=>{var n=r(5990);e.exports=function(e){return n(e,5)}},7813:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},5694:(e,t,r)=>{var n=r(9454),o=r(7005),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,l=n(function(){return arguments}())?n:function(e){return o(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},1469:e=>{var t=Array.isArray;e.exports=t},8612:(e,t,r)=>{var n=r(3560),o=r(1780);e.exports=function(e){return null!=e&&o(e.length)&&!n(e)}},4144:(e,t,r)=>{e=r.nmd(e);var n=r(5639),o=r(5062),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,s=a&&a.exports===i?n.Buffer:void 0,l=(s?s.isBuffer:void 0)||o;e.exports=l},3560:(e,t,r)=>{var n=r(4239),o=r(3218);e.exports=function(e){if(!o(e))return!1;var t=n(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1780:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},6688:(e,t,r)=>{var n=r(5588),o=r(1717),i=r(1167),a=i&&i.isMap,s=a?o(a):n;e.exports=s},3218:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},7005:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},2928:(e,t,r)=>{var n=r(9221),o=r(1717),i=r(1167),a=i&&i.isSet,s=a?o(a):n;e.exports=s},6719:(e,t,r)=>{var n=r(8749),o=r(1717),i=r(1167),a=i&&i.isTypedArray,s=a?o(a):n;e.exports=s},3674:(e,t,r)=>{var n=r(4636),o=r(280),i=r(8612);e.exports=function(e){return i(e)?n(e):o(e)}},1704:(e,t,r)=>{var n=r(4636),o=r(313),i=r(8612);e.exports=function(e){return i(e)?n(e,!0):o(e)}},479:e=>{e.exports=function(){return[]}},5062:e=>{e.exports=function(){return!1}},695:e=>{"use strict";var t={};e.exports=function(e){if(void 0===t[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}},3379:e=>{"use strict";var t=[];function r(e){for(var r=-1,n=0;n<t.length;n++)if(t[n].identifier===e){r=n;break}return r}function n(e,n){for(var i={},a=[],s=0;s<e.length;s++){var l=e[s],_=n.base?l[0]+n.base:l[0],c=i[_]||0,u="".concat(_," ").concat(c);i[_]=c+1;var f=r(u),p={css:l[1],media:l[2],sourceMap:l[3]};-1!==f?(t[f].references++,t[f].updater(p)):t.push({identifier:u,updater:o(p,n),references:1}),a.push(u)}return a}function o(e,t){var r=t.domAPI(t);return r.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r.update(e=t)}else r.remove()}}e.exports=function(e,o){var i=n(e=e||[],o=o||{});return function(e){e=e||[];for(var a=0;a<i.length;a++){var s=r(i[a]);t[s].references--}for(var l=n(e,o),_=0;_<i.length;_++){var c=r(i[_]);0===t[c].references&&(t[c].updater(),t.splice(c,1))}i=l}}},9216:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t),t}},7795:e=>{"use strict";e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(r){!function(e,t,r){var n=r.css,o=r.media,i=r.sourceMap;o?e.setAttribute("media",o):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(n,e)}(t,e,r)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(r.exports,r,r.exports,__webpack_require__),r.loaded=!0,r.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var __webpack_exports__={};(()=>{"use strict";var e=__webpack_require__(4631),t=__webpack_require__.n(e),r=(__webpack_require__(790),__webpack_require__(4504),__webpack_require__(5321),__webpack_require__(3379)),n=__webpack_require__.n(r),o=__webpack_require__(7795),i=__webpack_require__.n(o),a=__webpack_require__(695),s=__webpack_require__.n(a),l=__webpack_require__(9216),_=__webpack_require__.n(l),c=__webpack_require__(3501),u={styleTagTransform:function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}},setAttributes:function(e){var t=__webpack_require__.nc;t&&e.setAttribute("nonce",t)},insert:function(e){var t=s()("head");if(!t)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");t.appendChild(e)}};u.domAPI=i(),u.insertStyleElement=_(),n()(c.Z,u),c.Z&&c.Z.locals&&c.Z.locals;var f=__webpack_require__(1368),p={styleTagTransform:function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}},setAttributes:function(e){var t=__webpack_require__.nc;t&&e.setAttribute("nonce",t)},insert:function(e){var t=s()("head");if(!t)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");t.appendChild(e)}};p.domAPI=i(),p.insertStyleElement=_(),n()(f.Z,p),f.Z&&f.Z.locals&&f.Z.locals;var d=__webpack_require__(361),h=__webpack_require__.n(d);const m=Error("undefined");function g(e,t="",r=""){const n=document.createElement(e);if(n)return t&&(n.innerText=t),r&&n.classList.add(r),n;throw m}const $={undefinedErr:m,htmltag:g,changeTitle:function(e){const t=document.querySelector("title");if(!t)throw m;t.innerText=e},objectCopy:function(e){return h()(e)},textCopy:function(e){const t=document.createElement("textarea");return t.textContent=e,document.getElementsByTagName("body")[0].appendChild(t),t.select(),document.execCommand("copy")},makeTable:function(e,t){const r=g("table"),n=g("thead"),o=g("tr");for(const t of e){const e=g("th");e.innerText=t,o.appendChild(e)}n.appendChild(o),r.appendChild(n);const i=g("tbody");for(const e of t){const t=g("tr");for(const r of e){const e=g("td");e.innerText=r,t.appendChild(e)}i.appendChild(t)}return r.appendChild(i),r}},v=function(e,t){const r=(e,t)=>{const r=e.findIndex((e=>e[0]===t[0]));if(-1===r)throw Error("not found");e[r]=t},n=[[0,5],[10,8],[27.5,17],[35,17],[40,8],[45,2],[50,5],[55,8],[60,8],[65,8],[67.5,17],[70,2],[75,8],[80,5],[100,5],[110,22],[120,8],[125,8],[130,8],[135,17],[140,8],[145,8],[150,17],[155,8],[165,10],[170,17],[190,17],[200,17]];r(n,[125,0]),r(n,[10,0]),r(n,[100,17]),r(n,[70,17]),r(n,[75,17]),r(n,[130,10]);const o=[[75,5],[80,22],[100,17]];r(o,[100,22]);const i=(t?o:n).find((t=>t[0]===e));return i?i[1]:0};var b=__webpack_require__(5873),y=__webpack_require__.n(b);const x="true"===localStorage.getItem("I am aware of the dangers of this operation.");Object.defineProperty(window,"unlock",{get:()=>("I am aware of the dangers of this operation."===prompt("この操作が何をしているか分かっている場合、以下の文字列を入力してください。\nI am aware of the dangers of this operation.","")?(localStorage.setItem("I am aware of the dangers of this operation.","true"),window.location.reload()):alert("キャンセルしました"),()=>{})}),y();const w=window.brython;let B;function k(e){let t=B;try{window.pyexec(e),t=B,B=void 0}catch(e){throw console.error(e),e}return t}w.builtins.print=e=>B=e,w.builtins.JSON=JSON.stringify,w.$raise=new Proxy((function(e){return console.error(e),e}),{apply:(e,t)=>{try{e(...t)}catch(e){throw window.brython_error=e,e}}}),window.py=k,(e=>{let r;!function(e){e[e.set=0]="set",e[e.countTTK=1]="countTTK",e[e.countTTKuntil=2]="countTTKuntil",e[e.start=3]="start",e[e.end=4]="end",e[e.move=5]="move",e[e.action=6]="action",e[e.start_sort=7]="start_sort",e[e.end_sort=8]="end_sort",e[e.move_list=9]="move_list",e[e.buffset=10]="buffset",e[e.buffadd=11]="buffadd",e[e.buffminus=12]="buffminus",e[e.switch=13]="switch",e[e.order=14]="order",e[e.skillcard=15]="skillcard",e[e.color=16]="color",e[e.add=17]="add",e[e.nomove=18]="nomove"}(r||(r={}));const n=(()=>{const e={};return["set","countTTK","countTTKuntil","start","end","move","action","start_sort","end_sort","move_list","buffset","buffadd","buffminus","switch","order","skillcard","color","add","nomove"].forEach((t=>{e[t]=r[t]})),[["ttk",r.countTTK],["ttk_until",r.countTTKuntil],["mv_ls",r.move_list],["b",r.buffset],["b+",r.buffadd],["b-",r.buffminus],["a",r.add],["m",r.move],["ac",r.action],["sw",r.switch],["c",r.color],["sc",r.skillcard]].forEach((([t,r])=>{e[t]=r})),e})();class o{constructor(e){this.timeline_parsed=e,this.i_loading=0}get now_val(){return this.timeline_parsed[this.i_loading]}set now_val(e){throw Error("now_valにはセットできません")}get now_val_type(){return this.now_val.type}set now_val_type(e){throw Error("now_valにはセットできません")}Normalize(){const e=[];let t;const r=this,n=()=>this.timeline_parsed[t].type;for(t=0;t<this.timeline_parsed.length;t++)4===n()&&o(),e.push(this.timeline_parsed[t]);function o(){const i=[t];for(e.push(r.timeline_parsed[t]),t++;t<r.timeline_parsed.length;t++){if(t+1===r.timeline_parsed.length&&(r.i_loading=(null==i?void 0:i[1])||i[0],r.error_unexpectedToken("]が不足しています")),4===n())i.push(t),o();else{if(1===n())continue;if(5===n()){i.pop();break}}e.push(r.timeline_parsed[t])}}for(let t=0,r=!0;t<e.length;t++)1===e[t].type?(r&&(e.splice(t,1),t--),r=!0):r=!1;for(let t=e.length-1;t>=0&&1===e[t].type;t--)e.pop();this.timeline_parsed=e}parse(){this.Normalize();const e=[];if(0===this.timeline_parsed.length)return e;for(this.timeline_parsed.push({type:1,value:"\n"}),this.i_loading=0;this.i_loading<this.timeline_parsed.length;this.i_loading++){const t=this.loadStatement();e.push(t),1!==this.now_val_type&&this.error_unexpectedToken("]のあとにコメント以外の文を書くことはできません")}return e}loadStatement(){let e=[];this.checkIsWord();const t=this.now_val.value,o=(()=>{const e=n[t];if(void 0!==e)return e;throw Error("コマンド名に誤りがあります")})();this.nextVal();const i=()=>{e.push(this.now_val.value),this.nextVal()};if(o===r.move_list){this.checkIsWord();const t=this.now_val.value;this.nextVal(),4!==this.now_val_type&&this.error_unexpectedToken("move_listの第二引数は [ から始まる必要があります"),this.nextVal();const r=[];if(5!==this.now_val_type)for(;;){let e,t;switch(this.now_val_type){case 4:this.nextVal(),e=this.getMoveListInList(5),r.push({mode:0,value:e});break;case 6:this.nextVal(),e=this.getMoveListInList(7),r.push({mode:1,value:e});break;case 2:this.nextVal(),e=this.getCommandListInList(),r.push({mode:2,value:e});break;case 9:t={mode:3,value:[]},t.value.push(this.now_val.value),r.push(t),this.nextVal();break;default:this.error_unexpectedToken("move_list内のパースエラー　正しい値が入力されているか確認してください")}if(5===this.now_val_type)break;0===this.now_val_type?this.nextVal():this.error_unexpectedToken("コンマかmove_list終了の]が不足しています")}e=[o,t,r],this.nextVal()}else for(e=[o];;)if(9===this.now_val_type)i();else{if(1===this.now_val_type)break;this.error_unexpectedToken("この文字は入力できません")}return e}isLastValue(){return this.i_loading+1>=this.timeline_parsed.length}getCommandListInList(){const e=[];let t=0;e:for(;;){switch(this.now_val_type){case 9:if(0===t){const t=n[this.now_val.value];t?e.push(t):this.error_unexpectedToken("コマンド名に誤りがあります")}else e.push(this.now_val.value);this.nextVal();break;default:this.error_unexpectedToken("move_list内のかっこが閉じられていないか引数が不正です")}switch(this.now_val_type){case 3:this.nextVal();break e;case 0:this.nextVal();break;default:this.error_unexpectedToken("move_list内のかっこが閉じれていないか引数が不正、もしくはコンマが不足しています")}t++}return e}getMoveListInList(e){const t=[];if(this.now_val_type===e)return t;e:for(;;){switch(this.now_val_type){case 9:t.push(this.now_val.value),this.nextVal();break;default:this.error_unexpectedToken("move_list内のかっこが閉じられていないか引数が不正です")}switch(this.now_val_type){case e:this.nextVal();break e;case 0:this.nextVal();break;default:this.error_unexpectedToken("move_list内のかっこが閉じれていないか引数が不正、もしくはコンマが不足しています")}}return t}nextVal(){this.isLastValue()&&this.error_unexpectedToken("内部エラーの可能性があります。このメッセージが出たらお知らせお願いします。"),this.i_loading++}nextVal_noerror(){this.isLastValue()||this.i_loading++}checkIsWord(){9!==this.now_val_type&&this.error_unexpectedToken()}checkIsCommma(){0!==this.now_val_type&&this.error_unexpectedToken()}error_unexpectedToken(e=""){const t=$.htmltag("span");if(t.appendChild($.htmltag("span","→→"+this.now_val.value+"←←","errMsg")),1!==this.now_val.type)for(let e=this.i_loading+1;e<this.timeline_parsed.length&&1!==this.timeline_parsed[e].type;e++)t.insertAdjacentText("beforeend",this.timeline_parsed[e].value);for(let e=this.i_loading-1;e>=0&&1!==this.timeline_parsed[e].type;e--)t.insertAdjacentText("afterbegin",this.timeline_parsed[e].value);8===this.now_val.type&&(e="予約文字です");const r=$.htmltag("span");throw r.insertAdjacentText("beforeend","想定外の値: 「"+JSON.stringify(this.now_val.value)+"」"),r.appendChild($.htmltag("br")),r.appendChild(t),r.appendChild($.htmltag("br")),r.insertAdjacentText("beforeend",e),Error(r.outerHTML)}}class i{constructor(e){this.timeline_str=e,this.timeline_parsed=[],this._now_str="",this.i_nowloadstr=0}parse(){return this.timeline_parsed=this.lexicalAnalysis(),this.timeline_parsed}lexicalAnalysis(){let e=this.timeline_str;const t=[];let r="";e=e.replaceAll(/\\(\n|$)/g,"");e:for(let o=0;o<e.length;o++){const i=e[o];let a={value:i};const s=e=>{a={type:e,value:a.value}};switch(i){case",":s(0);break;case"\n":s(1);break;case" ":case"　":case"\t":n();continue;case"#":for(;o<e.length;o++)if("\n"===e[o]){o--;continue e}continue;case"{":s(2);break;case"}":s(3);break;case"[":s(4);break;case"]":s(5);break;case"<":s(6);break;case">":s(7);break;case"(":case")":case'"':case"'":case"!":case"$":case"%":case"&":case"=":case"^":case"~":case"*":case"?":case";":case"`":s(8);break;default:r+=i;continue e}if(n(),!("type"in a))throw Error("未到達コード");t.push(a)}function n(){r.length>0&&(t.push(((e,t)=>({type:9,value:t}))(0,r)),r="")}return n(),t}}class a{constructor(e=location.href,t=!0){this._href=e,this._urlAPI=new URL(this._href),this.autochange=t}getParam(e){const t=this._urlAPI.searchParams.get(e)||"";try{return decodeURIComponent(t)}catch(e){return t}}setParam(e,t=""){this._urlAPI.searchParams.set(e,t),this.autochange&&this._setURL(this._urlAPI.href)}get hash(){return this._urlAPI.hash}set hash(e){this._setURL(`#${e}`)}get href(){return this._urlAPI.protocol+"//"+this._urlAPI.host+this._urlAPI.pathname+"?TL="+encodeURIComponent(this.getParam("TL"))}set href(e){this._urlAPI.href=e}_setURL(e){this.autochange&&history.replaceState("","",e)}_reflesh(){this._urlAPI=new URL(this._href)}}const s=new a(void 0,!1);class l{constructor(){this.current=[],this.switchData=[],this.cardData=[],this.comment=[],this.color=void 0,this.place_of_currentTimeline=0}move(e,t=this.ID_of_firstChara(),r=!1){if(this.setColor(t,this.place_of_currentTimeline),t!==this.ID_of_firstChara()&&!1===r)throw new Error("最初のキャラ以外は操作できません");const n=this.get_chara_by_ID(t).timeline_OrderValue,o=n+e-(n-this.OrderValue_of_firstChara());this.pushChara(t,o),this.nextturn()}setColor(e,t){this.color&&(this.comment.push(["color",e,t,this.color]),this.color=void 0)}setChara(e,t){this.pushChara(e,t)}place_to_moved(e){let t,r=-1;for(let t=this.current.length-1;t>this.place_of_currentTimeline;t--)if(e>=this.current[t].timeline_OrderValue){r=t;break}return t=-1===r?this.place_of_currentTimeline+1:r+1,t}pushChara(e,t){let r;try{r=$.objectCopy(this.get_chara_by_ID(e))}catch(t){r={id:e}}r.timeline_OrderValue=t;const n=this.place_to_moved(t);this.current.splice(n,0,r)}addChara(e,t){const r={id:e,timeline_OrderValue:t,type:0};this.current.splice(this.place_of_currentTimeline,0,r)}addSkillCard(e,t,r,n){let o,i=!0;try{o=this.get_chara_by_ID(e)}catch(e){i=!1}if(i){if(!o)throw Error("ここは実行されないはず");if(1!==o.type)throw Error("指定された名前はスキルカードではありません");o.time=r,this.current[this.placeToChara(e)]=o}else{const o=this.OrderValue_of_firstChara()+t,i=this.place_to_moved(o);n=n||((...e)=>{}),this.current.splice(i,0,{type:1,time:r,id:e,timeline_OrderValue:o,OrderValue:t,event:n}),this.cardData.push([this.place_of_currentTimeline,e])}}switchChara(e,t){this.switchData.push([this.place_of_currentTimeline,e,t]),this.setColor(e,this.place_of_currentTimeline),e===this.ID_of_firstChara()?(this.current[this.placeToChara(e)].id=t,this.current[this.placeToChara(t)].timeline_OrderValue=this.OrderValue_of_firstChara()):this.switchSupportChara(e,t)}switchSupportChara(e,t){this.current.splice(this.placeToChara(e),1),this.addChara(t,this.OrderValue_of_firstChara())}inited(){this.current.sort((function(e,t){const r=e.timeline_OrderValue,n=t.timeline_OrderValue;return r<n?-1:r>n?1:0})),this.place_of_currentTimeline=0}get firstChara(){return this.current[this.place_of_currentTimeline]}set firstChara(e){throw Error("firstCharaにはセットできません")}OrderValue_of_firstChara(){return this.firstChara.timeline_OrderValue}ID_of_firstChara(){return this.firstChara.id}nextturn(){if(this.place_of_currentTimeline++,1===this.firstChara.type)if(this.firstChara.event(this.firstChara.id,this.firstChara.OrderValue,this.firstChara.time),this.firstChara.time--,this.firstChara,0===this.firstChara.time)this.nextturn();else{if(this.firstChara.time<0)throw Error("skillcardのtimeに0未満の数値");this.move(this.firstChara.OrderValue,this.ID_of_firstChara(),!1)}}skip(){this.nextturn()}get_chara_by_ID(e){return this.current[this.placeToChara(e)]}placeToChara(e){for(let t=this.place_of_currentTimeline;t<this.current.length;t++)if(this.current[t].id===e)return t;throw Error("Not Found!IDに誤りがあります")}}class _{constructor(e,t,r,n=0){this.id=e,this.SPD=t,this.SPD_buff=r,this.LoadFactorReduce=n}calculateOrderValue(e,t=0){const r=this.SPD,n=this.SPD_buff/100,o=Math.min(Math.max(124-Math.floor(r/2),0),100),i=Math.floor(o*(e/100)*(1-t)*(1-n));return Math.max(Math.min(i,500),15)}initOrderValue(){return this.calculateOrderValue(100,0)}}let c,u,f;function p(){const e=new a(location.href).getParam("TL"),t=String(new Date)+"自動保存:TL生成ツール";e!==s.getParam("TL")&&(0===e.length?history.pushState(null,t,s.href):history.replaceState(null,t,s.href),$.changeTitle(t))}function d(){var t,a,p,d,h;const m=document.getElementById("error"),b=document.getElementById("info");let y;if(!c)throw $.undefinedErr;y=c.getValue(),e.python=Boolean(y.match(/^#python#\n/));const w=e.python&&x;s.setParam("TL",y),f={main:[],set:[]};const B={},C=new l,S={};if(!m||!b)throw $.undefinedErr;let E;m.innerHTML="",b.innerHTML="";const N={};let j=0,T=1/0;const O=e=>{C.place_of_currentTimeline<T&&(j+=e)};try{if(w){const e='_output = []\n\n_command__ = [\n    "set",\n    "countTTK",\n    "countTTKuntil",\n    "start",\n    "end",\n    "move",\n    "action",\n    "start_sort",\n    "end_sort",\n    "move_list",\n    "buffset",\n    "buffadd",\n    "buffminus",\n    "switch",\n    "order",\n    "skillcard",\n    "color",\n    "add",\n    "nomove"\n]\n\n\ndef _command_fn(command, *args):\n    tmp = [command]\n    tmp += list(args)\n    _output.append(tmp)\n\n\nclass _wrapper_command:\n    def __init__(self, command):\n        self.command = command\n        self.isCommand = True\n\n    def __call__(self, *args):\n        _command_fn(self.command, *args)\n\n\nfor _cmd__ in _command__:\n    globals()[_cmd__] = _wrapper_command(_cmd__)\n\n\nttk = countTTK\nttk_until = countTTKuntil\nmv_ls = move_list\nbs = buffset\nbp = buffadd\nbm = buffminus\n# a = add\n# m = move\n# ac = action\nsw = switch\n# c = color\nsc = skillcard\n\n\ndef ___set(*args):\n\tglobals()[list(args)[0]] = list(args)[0]\n\t_wrapper_command("set")(*args)\n\nset = ___set\n\n\n\n# b-10 -> "b10"\nclass _color__():\n\n    def __init__(self, color):\n        self.color = color\n\n    def __sub__(self, num):\n        return self.color + str(num)\n\n\nfor _alp_num in range(26):\n    alphabet = str(chr(_alp_num + 97))\n    globals()[alphabet] = _color__(alphabet)\n\n\nclass _mv_ls():\n    def __call__(self):\n        return _color__("m")\n\n#     def _str(self, arg):\n#         ___output = []\n#         for i in list(arg):\n#             ___output.append(str(i))\n#         return __output \n\n    def _obj(self, mode, arg):\n        return {"mode": mode, "value": list(arg)}\n\n    def s(self, *args):\n        return self._obj(0, args)\n\n    def o(self, *args):\n        return self._obj(1, args)\n\n    def c(self, *args):\n        args = list(args)\n        if args[0].isCommand != True:\n            raise Exception("args[0] must be command function")\n        args[0] = args[0].command\n        return self._obj(2, args)\n\n    def a(self, *args):\n        return self._obj(3, args)\n\n\nm = _mv_ls()\n\n# print(a-10)\n######################\n'+y+'\n######################\n\nm = _mv_ls()\nfor (i, cmd) in enumerate(_output):\n    if(cmd[0] == "move_list"):\n        for (j, o) in enumerate(cmd[2]):\n            o_type = type(o)\n\n            if(o_type == int or o_type == float or o_type == str):\n                _output[i][2][j] = m.a(o)\n            elif(o_type == list):\n                _output[i][2][j] = m.s(*o)\n\n\nprint(str(_output))\n\n';E=JSON.parse(null===(t=k(e))||void 0===t?void 0:t.replaceAll("'",'"')).map((e=>{const t=[],o=e[0],i=(()=>{const e=n[o];if(void 0!==e)return e;throw Error("コマンド名に誤りがあります")})();t.push(i);for(let o=1;o<e.length;o++){const a=typeof e[o];if("number"===a)t.push(String(e[o]));else if("string"===a)t.push(e[o]);else{if(!Array.isArray(e[o]))throw Error("不正な型です: "+JSON.stringify(e)+" -> "+e[o]);if(i!==r.move_list)throw Error("move_list以外に配列が指定されています");{const r=e[o].map((e=>{e.mode=e.mode;const t=2===e.mode;t&&(e.value[0]=n[e.value[0]]);for(let r=Number(t);r<e.value.length;r++)"number"==typeof e.value[r]&&(e.value[r]=String(e.value[r]));return e}));t.push(r)}}}return t}))}else{const e=new i(y).parse();E=new o(e).parse()}}catch(e){throw m.innerHTML=String(e),e}let A=0;for(let e=0;e<E.length;e++)try{const t=null===(a=E[e])||void 0===a?void 0:a[0],n=null===(p=E[e])||void 0===p?void 0:p[1],o=null===(d=E[e])||void 0===d?void 0:d[2],i=null===(h=E[e])||void 0===h?void 0:h[3];let s,l,c,u,m,g,y,x,w,k;switch(A){case 0:switch(t){case r.set:s=n.toString(),l=Number(o),c=Number(i)||0,B[s]=new _(s,l,c),C.setChara(s,B[s].initOrderValue()),0===f.set.length?f.set=[E[e]]:f.set.push(E[e]);break;case r.countTTK:k=E[e].slice(1),k.forEach((e=>{"string"==typeof e&&(N[e]=!0)}));break;case r.countTTKuntil:T=Number(n)||1/0;break;case r.start:A=1,C.inited();break;case r.start_sort:A=2,C.inited();break;default:throw Error("need 'start'")}break;case 1:if(w=E[e],w[0]===r.move_list)throw Error("start_sort ~ end_sort内にmove_listを書いてください");I(...w);break;case 2:switch(t){case r.move_list:s=n,m=o,S[s]=m;break;case r.end_sort:j(),A=4;break;default:throw Error("no command found:「"+t+"」")}break;case 4:switch(t){case r.start:A=1;break;case r.start_sort:A=2;break;default:throw Error("need 'start'")}break;default:throw Error("内部エラー")}function j(){for(var e;;){const t=C.ID_of_firstChara();if(void 0===(null===(e=S[t])||void 0===e?void 0:e[0])){const e={};if(Object.keys(S).forEach((function(t){0!==S[t].length&&(e[t]=S[t])})),0!==Object.keys(e).length){if(!b)throw $.undefinedErr;b.insertAdjacentText("beforeend","ⓘinfo :move_listに使われていないスキルがあります:"+JSON.stringify(Object.fromEntries(Object.entries(e).map((([e,t])=>[e,t.map((e=>(e.value.length>0&&2===e.mode&&(e.value[0]=r[e.value[0]]),1===e.value.length&&(e.value=e.value[0]),e.value)))])))).replaceAll('"',""))}break}const n=S[t].shift();if(!n)throw Error("内部エラーの可能性があります。このメッセージが出たらお知らせお願いします。");try{if(1===n.mode){const[e]=n.value,o=e.match(/^[a-zA-Z]/g),i=e.match(/\d+/g);if(o&&I(r.color,o[0]),!i)throw Error("硬直が見つかりませんでした");I(r.order,t,i[0])}else if(3===n.mode){const[e]=n.value,o=e.match(/^[a-zA-Z]/g),i=e.match(/\d+/g);if(o&&I(r.color,o[0]),!i)throw Error("硬直値が見つかりませんでした");I(r.action,t,i[0])}else if(0===n.mode){const[e,o,i]=n.value;I(r.switch,t,e,o,i||"0"),S[e]=S[t],S[t]=[]}else{if(2!==n.mode)throw Error("テキストのパースエラー");I(...n.value)}}catch(e){throw Error(e+":  "+JSON.stringify(n.value)+" ")}}}function I(...e){const[t,n,o,i,a]=e;if(t!==r.end){const n=e;n[0]=r[t],0===f.main.length&&(f.main=[]),f.main.push(n)}let s,c,p,d,h,m,$,b;switch(t){case r.buffset:s=n,c=Number(o)||0,B[s].SPD_buff=c;break;case r.buffadd:s=n,c=Number(o)||0,B[s].SPD_buff+=c;break;case r.buffminus:s=n,c=Number(o)||0,B[s].SPD_buff-=c;break;case r.add:s=n,l=Number(o),c=Number(i)||0,B[s]=new _(s,l,c),C.addChara(s,B[s].initOrderValue());break;case r.move:case r.action:t===r.move?(u=Number(n),s=o):(s=n,u=Number(o)),b="true"===i,N[s]&&O(v(u,!1)),C.move(B[C.ID_of_firstChara()].calculateOrderValue(u),s,b);break;case r.order:s=n,x=Number(o),C.move(x,s,!1);break;case r.switch:g=n,y=o,l=Number(i),c=Number(a)||0,C.switchChara(g,y),B[y]=new _(y,l,c);break;case r.color:p=n,C.color=p;break;case r.skillcard:if(d=n,h=Number(o),u=Number(i),m=Number(a),[h,u,m].includes(NaN))throw Error("引数不足です");$=new _(d,h,0),B[d]=$,C.addSkillCard(d,$.calculateOrderValue(u),m,((e,t,r)=>O(N[e]?v(Number(i),!0):0)));break;case r.nomove:C.skip();break;case r.end:A=4;break;default:throw Error("no command found")}}}catch(e){m.appendChild($.htmltag("br")),m.insertAdjacentText("beforeend",String(e));break}const I=[];for(const e in B)I.push(e);const M=Array.from(new Array(Object.keys(B).length),(()=>new Array(C.current.length).fill(void 0)));C.current.forEach(((e,t)=>{const r=e.id,n=e.timeline_OrderValue,o=I.indexOf(r);M[o][t]=n})),C.switchData.forEach((e=>{const[t,r,n]=e,o=I.indexOf(r);let i="";i=o<I.indexOf(n)?"↓↓":"↑↑",M[o][t]=i})),C.cardData.forEach((e=>{const t=I.indexOf(e[1]);M[t][e[0]]="→"}));const L=C.place_of_currentTimeline+1,F=document.getElementById("firstchara");F&&(F.innerText=C.ID_of_firstChara());const P=document.getElementById("now_place");P&&(P.innerText=String(L)),u=[M,I],function(e,t,r,n){const o=$.htmltag("thead"),i=$.htmltag("tr");for(let t=0;t<=e[0].length;t++){let e;e=t===n?$.htmltag("th",t.toString(),"now_place"):0===t?$.htmltag("th","","nowrap"):$.htmltag("th",t.toString()),i.appendChild(e)}o.appendChild(i);for(let n=0;n<e.length;n++){const i=$.htmltag("tr");i.appendChild($.htmltag("td",t[n],"nowrap"));for(let o=0;o<e[0].length;o++){let a;const s=r.find((e=>"color"===e[0]&&e[1]===t[n]&&e[2]===o)),l=e[n][o];let _;_="string"==typeof l?l:"number"==typeof l?String(l):"",a=s?$.htmltag("td",_,"color-"+s[3]):$.htmltag("td",_),i.appendChild(a)}o.appendChild(i)}const a=document.querySelector("table");if(!a)throw $.undefinedErr;a.innerHTML="",a.appendChild(o)}(M,I,C.comment,L),g(),document.querySelectorAll(".ttk").forEach((e=>{0===Object.values(N).filter((e=>e)).length?e.classList.add("display-none"):(e.classList.remove("display-none"),document.querySelectorAll(".ttk-value").forEach((e=>{e.textContent=String(j)})))}))}function h(){const[e,t]=u;let r="";for(let t=0;t<e[0].length;t++)r+=","+(t+1);r+="\n";for(let n=0;n<e.length;n++){r+=t[n];for(let t=0;t<e[0].length;t++)r+=",",r+=e[n][t]||"";r+="\n"}!function(e,t="timeline.csv"){const r=new Uint8Array([239,187,191]),n=new Blob([r,e],{type:"text/csv"}),o=URL.createObjectURL(n),i=document.createElement("a");i.href=o,i.download=t,i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(o)}(r)}function m(){$.textCopy(s.href);const e=document.getElementById("copyed");if(!e)throw $.undefinedErr;e.style.display="block",setTimeout((()=>{e.style.display="none"}),1e3)}function g(){const e=document.getElementById("popup");if(!e)throw $.undefinedErr;e.innerText=y()}function b(){$.textCopy(y());const e=document.getElementById("copyed_popup");if(!e)throw $.undefinedErr;e.style.display="block",setTimeout((()=>{e.style.display="none"}),1e3)}function y(){return f.set.map((e=>e?e.join(" "):"")).join("\n")+"\n\nstart\n"+f.main.map((e=>e?"  "+e.join(" "):"")).join("\n")+"\nend"}e.onload=()=>{const r=document.getElementById("csvDownload"),n=document.getElementById("copyTL"),o=document.getElementById("copy_ConvertedTL"),i=document.getElementById("log_convertedTL"),a=document.getElementById("jumpTwitter"),l=document.getElementById("unzipMoveList"),_=document.getElementById("isSet_onbeforeunload"),u=document.getElementById("pop11"),f=document.getElementById("editor");if(!(r&&n&&o&&i&&a&&l&&_&&u&&f))throw $.undefinedErr;t().defineSimpleMode("kirafan-timeline",{start:[{regex:/(mv_ls|move_list)[ \u3000]+/,token:"keyword",next:"move_list"},{regex:/[a-zA-Z_]+$/,token:"keyword"},{regex:/[a-zA-Z_]+/,token:"keyword",next:"arg"},{regex:/\s+/},{regex:/#.*$/,token:"comment"}],move_list:[{regex:/(?:([^[\s]+)(\s*)(\[))/,next:"move_list_arg2",token:["operator","","age"]}],move_list_arg2:[{regex:/\s+/},{regex:/\]/,token:"unit",next:"start"},{regex:/(\[)(\s*)([^\]\s*,]+)/,token:["unit","","string-3"],next:"mvls_switch"},{regex:/(\{)(\s*)([^}\s*,]+)/,token:["unit","","keyword"],next:"mvls_command"},{regex:/(<)(\s*)([^>\s*,]+)/,token:["unit","","string-3"],next:"mvls_order"}],mvls_switch:[{regex:/\s+/},{regex:/,/},{regex:/\]/,token:"unit",next:"move_list_arg2"},{regex:/[^\s\],]+/,token:"string-3"}],mvls_command:[{regex:/\s+/},{regex:/,/},{regex:/\}/,token:"unit",next:"move_list_arg2"},{regex:/[^\s},]+/,token:"string-3"}],mvls_order:[{regex:/\s+/},{regex:/,/},{regex:/>/,token:"unit",next:"move_list_arg2"},{regex:/[^\s>,]+/,token:"string-3"}],arg:[{regex:/[^#]*$/,token:"arg",next:"start"},{regex:/[^#]*/,token:"arg",next:"start"},{regex:/#.*$/,token:"comment"}],comment:[{regex:/.*?$/,token:"comment",next:"start"}],meta:{dontIndentStates:["comment"],lineComment:"#",fold:"brace"}});const v=s.getParam("TL");let y="";null!==typeof v&&(y=v),c=t()(f,{mode:e.python?"python":"kirafan-timeline",lineNumbers:!0,indentUnit:4,theme:"panda-syntax",lineWrapping:!0,tabSize:2,value:y}),c.scrollTo(3,3),c.on("change",(()=>{d()})),c.on("keydown",((e,t)=>{"/"===t.key&&t.ctrlKey&&e.toggleComment({lineComment:"#"})})),r.onclick=h,n.onclick=m,i.onclick=g,o.onclick=b,a.onclick=()=>{e.open("https://twitter.com/Y52en/status/1402239605978517505?s=20","_blank")},l.onclick=()=>{u.checked=!0},e.onbeforeunload=function(e){p(),0!==c.getValue().length&&_.checked&&(e.preventDefault(),e.returnValue="ページから離れますか？")},d()},setInterval((()=>{p()}),3e5)})(window)})()})();