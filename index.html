<!DOCTYPE html>
<html lang="jp">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" href="./favicon.png" />
    <title>TL生成ツール</title>
    <script src="main.js"></script>
    <link rel="stylesheet" href="./style.css" />
  </head>
  <body>
    <div id="TL_table">
      <table width="100" height="200" border="1"></table>
    </div>

    現在先頭のキャラ:<span id="firstchara"> </span><br />
    現在 <span id="now_place"></span> 行目
    <div id="error"></div>
    <div id="info"></div>

    <div id="TL_datainput">
      <textarea
        id="input_txt"
        cols="60"
        rows="25"
        spellcheck="false"
      ></textarea>
    </div>

    <div>
      <button id="csvDownload">CSV形式で表をダウンロード</button>
    </div>

    <!-- <div>
      <button id="QRDownload">QRコードでタイムラインのテキストを保存</button>
    </div> -->

    <div>
      <button id="copyTL">タイムラインデータ付きのURLをコピー</button>
    </div>
    <div id="copyed" style="display: none">コピーしました</div>

    <div style="display: none">
      <button id="log_convertedTL">タイムラインデータをコンバート</button>
    </div>

    <div class="popupModal1">
      <input type="radio" name="modalPop" id="pop11" />
      <!-- <button> -->
      <label for="pop11"
        ><button onclick="pop11.checked = true">move_listの展開</button></label
      >
      <!-- </button> -->
      <input type="radio" name="modalPop" id="pop12" />
      <label for="pop12">CLOSE</label>
      <input type="radio" name="modalPop" id="pop13" />
      <label for="pop13"></label>
      <div class="modalPopup2">
        <div class="modalPopup3">
          <h2 class="modalTitle">展開済みのTLデータ</h2>
          <button id="copy_ConvertedTL">コピーする</button>
          <div id="copyed_popup" style="display: none">コピーしました</div>

          <div class="modalMain" id="popup"></div>
        </div>
      </div>
    </div>

    <br />
    <div>
      <button onclick="window.open('https:\/\/twitter.com/Y52en/status/1402239605978517505?s=20' , '_blank')" >
        基本的な使い方の説明(twitterにジャンプします)
      </button>

      <br>
      上記のツイートからの変更点<br>
      1.color追加 {c:copper,d:dark} <br>
      2.\を文末に置くことで改行できる(改行を無いものとしてみなす) <br>

      <br /><br />

      <strong>使い方<br /></strong>
      コマンドは半角で、またスペース区切りで設定すること<br />
      []内が引数(かっこ自体は書かない) <br />
      ()内のものは省略できる(バフなど) <br />
      <br />

      <strong>#[comment]<br /></strong>
      #から始まるものは行末まで無視されます(コメントに使用)<br />
      命令の最後に書いてもよい<br />
      ショートカットは「Ctrl + /」 <br />
      例: <br />
      move 125 enemy <br />
      #ここからデバフを入れる <br />
      例: <br />
      move 125 momo #とっておき<br />
      <br />

      <strong>set [name] [SPD] ([buff(%)]) <br /></strong>
      開始(start)前にフィールドに出すキャラを設定<br />
      SPDの優先度の高いキャラから先に書く<br />
      nameにスペースを含めるのは禁止 <br />
      <br />

      <strong>start</strong><br />
      メインモード切り替え <br />
      setを書き終わったら記入<br />
      <br />

      <strong>end</strong><br />
      メインモードモード終了<br />
      その後ろにstart、start_sortを書くことでまた別のモードに切り替えられる<br />
      <br />

      <strong>move [硬直(%)] [name]</strong><br />
      行動 <br />
      先頭のキャラ以外をnameに記入した場合errorを吐く <br />
      moveの代わりにmでも可<br />
      <br />

      <strong>action [name] [硬直(%)] </strong><br />
      行動 <br />
      moveと引数の順番が異なる以外同じ <br />
      actionの代わりにacでも可<br />
      <br />

      <strong>start_sort</strong><br />
      ソートモード<br />
      end_sortを記入すると誰かのmove_listで書かれた硬直リストがなくなるまで行動する
      <br />
      (他のキャラにまだ硬直リストが残っていても終了) <br />
      <br />

      <strong>end_sort</strong><br />
      ソートモード終了<br />
      これを書かないとソートされない <br />
      その後ろにstart、start_sortを書くことでまた別のモードに切り替えられる<br />
      <br />

      <strong
        >move_list [name]
        [[硬直(%)],[交代後のname,SPD,(buff)],[硬直(%)],{command,argments1,argments2...}...]</strong
      ><br />
      行動リスト <br />
      move_list nagi [40,{buffset,nagi,24},100,[ren,141,100],100] <br />
      のように書く <br />
      スペースを空けるのは厳禁 <br />
      内側にある[]は途中で交代することを示す <br />
      {}でコマンドを使用可能 <br />
      &lt;&gt;で硬直値を直接入力可能 <br />
      move_listの代わりにmv_lsでも可<br />
      <br />

      <br />

      <strong>
        ----ここからほとんどデバッグしていないので正しく動かない可能性大----
        <br />
      </strong>
      <br />
      <strong> buffset [name] [buff(%)] </strong><br />
      <strong> buffadd [name] [buff(%)] </strong><br />
      <strong> buffminus [name] [buff(%)] </strong><br />
      バフ設定 <br />
      それぞれ b,b+,b-と省略可 <br />
      <br />

      <strong> switch [from_name] [to_name] [SPD] ([buff]) </strong><br />
      from_nameに交代前のキャラ名、to_nameに交代後のキャラ名を記入<br />
      swと省略可 <br />
      <!-- 
      <strong> switchSupport [from_name] [to_name] [SPD] ([buff]) </strong><br />
      switchのサポート/フレンド版 <br>
      from_nameに交代前のキャラ名、to_nameに交代後のキャラ名を記入<br />
      swSと省略可 <br /> -->
      <br />

      <strong> order [name] [name] [SPD]</strong><br />
      硬直地直接入力 <br />
      
      <br />

      <strong> skillcard [name] [SPD] [硬直] [回数]</strong><br />
      スキルカード <br />
      
      <br />

      <strong>color [色]</strong> <br />
      r red<br />
      g green<br />
      b blue<br />
      p purple<br />
      s silver<br />
      y yellow<br />
      o orange<br />
      c copper<br />
      d dark<br />

      <br />
      <br />
      <strong>例</strong><br />
      <textarea readonly cols="60" rows="30">
set enermy 224

set aikawa 126 
set kurumi 123
set yuzuko 131

#set hiro 130
#set hideri 135
start_sort

mv_ls enermy [{skillcard,dmg3000,224,1100,1},400,400,400,g400,r500,400,p200]

mv_ls aikawa [40,70,[hiro,130],70,70,40,40,[kurumi,123],35,40,b125]

mv_ls kurumi [[hideri,135],40,70,70,o40,[aikawa,123],70,[hideri,135],70,70,b125]

mv_ls yuzuko [{sc,heal,131,100,5},g40,s40,{b,yuzuko,22.4},100,70,70,{b,yuzuko,0},100,s40,{b,yuzuko,22.4},g40,b125]


end_sort
</textarea
      >
    </div>

    <!-- https://qiita.com/dangoya/items/4176e8ef22e892570f4e -->
  </body>
</html>
